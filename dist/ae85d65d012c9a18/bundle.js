!function(){for(var e=function(e){var t;return function(n){return t||e(t={exports:{},parent:n},t.exports),t.exports}},t=e(function(e,t){(function(t){e.exports=a;var i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};Oe.inherits=Te;var o=r({}),s=n({});function a(e){if(!(this instanceof a))return new a(e);o.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",u)}function u(){this.allowHalfOpen||this._writableState.ended||t.nextTick(this.end.bind(this))}Oe.inherits(a,o),function(e,t){for(var n=0,r=e.length;n<r;n++)i=e[n],a.prototype[i]||(a.prototype[i]=s.prototype[i]);var i}(i(s.prototype))}).call(this,Fe)}),n=e(function(e,n){(function(n){e.exports=s;var r=v.Buffer;function i(e,t,n){this.chunk=e,this.encoding=t,this.callback=n}function o(e,r){var i=t({}),o=(e=e||{}).highWaterMark,s=e.objectMode?16:16384;this.highWaterMark=o||0===o?o:s,this.objectMode=!!e.objectMode,r instanceof i&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,i,o){r?n.nextTick(function(){t.pendingcb--,o(i)}):(t.pendingcb--,o(i)),e._writableState.errorEmitted=!0,e.emit("error",i)}(e,r,i,t,o);else{var s=f(e,r);s||r.corked||r.bufferProcessing||!r.buffer.length||h(e,r),i?n.nextTick(function(){u(e,r,s,o)}):u(e,r,s,o)}}(r,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function s(e){var n=t({});if(!(this instanceof s||this instanceof n))return new s(e);this._writableState=new o(e,this),this.writable=!0,_u.call(this)}function a(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function u(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),l(e,t)}function h(e,t){if(t.bufferProcessing=!0,e._writev&&t.buffer.length>1){for(var n=[],r=0;r<t.buffer.length;r++)n.push(t.buffer[r].callback);t.pendingcb++,a(e,t,!0,t.length,t.buffer,"",function(e){for(var r=0;r<n.length;r++)t.pendingcb--,n[r](e)}),t.buffer=[]}else{for(r=0;r<t.buffer.length;r++){var i=t.buffer[r],o=i.chunk,s=i.encoding,u=i.callback,h=t.objectMode?1:o.length;if(a(e,t,!1,h,o,s,u),t.writing){r++;break}}r<t.buffer.length?t.buffer=t.buffer.slice(r):t.buffer.length=0}t.bufferProcessing=!1}function f(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function c(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function l(e,t){var n=f(0,t);return n&&(0===t.pendingcb?(c(e,t),t.finished=!0,e.emit("finish")):c(e,t)),n}s.WritableState=o,Oe.inherits=Te,Oe.inherits(s,_u),s.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},s.prototype.write=function(e,t,o){var s=this._writableState,u=!1;return Oe.isFunction(t)&&(o=t,t=null),Oe.isBuffer(e)?t="buffer":t||(t=s.defaultEncoding),Oe.isFunction(o)||(o=function(){}),s.ended?function(e,t,r){var i=new Error("write after end");e.emit("error",i),n.nextTick(function(){r(i)})}(this,0,o):function(e,t,r,i){var o=!0;if(!(Oe.isBuffer(r)||Oe.isString(r)||Oe.isNullOrUndefined(r)||t.objectMode)){var s=new TypeError("Invalid non-string/buffer chunk");e.emit("error",s),n.nextTick(function(){i(s)}),o=!1}return o}(this,s,e,o)&&(s.pendingcb++,u=function(e,t,n,o,s){n=function(e,t,n){return!e.objectMode&&!1!==e.decodeStrings&&Oe.isString(t)&&(t=new r(t,n)),t}(t,n,o),Oe.isBuffer(n)&&(o="buffer");var u=t.objectMode?1:n.length;t.length+=u;var h=t.length<t.highWaterMark;return h||(t.needDrain=!0),t.writing||t.corked?t.buffer.push(new i(n,o,s)):a(e,t,!1,u,n,o,s),h}(this,s,e,t,o)),u},s.prototype.cork=function(){this._writableState.corked++},s.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.buffer.length||h(this,e))},s.prototype._write=function(e,t,n){n(new Error("not implemented"))},s.prototype._writev=null,s.prototype.end=function(e,t,r){var i=this._writableState;Oe.isFunction(e)?(r=e,e=null,t=null):Oe.isFunction(t)&&(r=t,t=null),Oe.isNullOrUndefined(e)||this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(e,t,r){t.ending=!0,l(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0}(this,i,r)}}).call(this,Fe)}),r=e(function(e,n){(function(n){e.exports=a;var r=v.Buffer;a.ReadableState=s;var i,o=ne.EventEmitter;function s(e,n){var r=t({}),o=(e=e||{}).highWaterMark,s=e.objectMode?16:16384;this.highWaterMark=o||0===o?o:s,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,n instanceof r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(i||(i=fu.StringDecoder),this.decoder=new i(e.encoding),this.encoding=e.encoding)}function a(e){if(t({}),!(this instanceof a))return new a(e);this._readableState=new s(e,this),this.readable=!0,_u.call(this)}function u(e,t,r,i,o){var s=function(e,t){var n=null;return Oe.isBuffer(t)||Oe.isString(t)||Oe.isNullOrUndefined(t)||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(t,r);if(s)e.emit("error",s);else if(Oe.isNullOrUndefined(r))t.reading=!1,t.ended||function(e,t){if(t.decoder&&!t.ended){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,c(e)}(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!o){var a=new Error("stream.push() after EOF");e.emit("error",a)}else t.endEmitted&&o?(a=new Error("stream.unshift() after end event"),e.emit("error",a)):(!t.decoder||o||i||(r=t.decoder.write(r)),o||(t.reading=!1),t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,o?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&c(e)),function(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(function(){!function(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(Xe("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}(e,t)}))}(e,t));else o||(t.reading=!1);return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(t)}o.listenerCount||(o.listenerCount=function(e,t){return e.listeners(t).length}),Oe.inherits=Te,Xe=Xe&&Xe.debuglog?Xe.debuglog("stream"):function(){},Oe.inherits(a,_u),a.prototype.push=function(e,t){var n=this._readableState;return Oe.isString(e)&&!n.objectMode&&(t=t||n.defaultEncoding)!==n.encoding&&(e=new r(e,t),t=""),u(this,n,e,t,!1)},a.prototype.unshift=function(e){return u(this,this._readableState,e,"",!0)},a.prototype.setEncoding=function(e){return i||(i=fu.StringDecoder),this._readableState.decoder=new i(e),this._readableState.encoding=e,this};var h=8388608;function f(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:isNaN(e)||Oe.isNull(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>=h)e=h;else{e--;for(var t=1;t<32;t<<=1)e|=e>>t;e++}return e}(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function c(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(Xe("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?n.nextTick(function(){l(e)}):l(e))}function l(e){Xe("emit readable"),e.emit("readable"),d(e)}function d(e){var t=e._readableState;if(Xe("flow",t.flowing),t.flowing)do{var n=e.read()}while(null!==n&&t.flowing)}function p(e,t){var n,i=t.buffer,o=t.length,s=!!t.decoder,a=!!t.objectMode;if(0===i.length)return null;if(0===o)n=null;else if(a)n=i.shift();else if(!e||e>=o)n=s?i.join(""):r.concat(i,o),i.length=0;else if(e<i[0].length)n=(c=i[0]).slice(0,e),i[0]=c.slice(e);else if(e===i[0].length)n=i.shift();else{n=s?"":new r(e);for(var u=0,h=0,f=i.length;h<f&&u<e;h++){var c=i[0],l=Math.min(e-u,c.length);s?n+=c.slice(0,l):c.copy(n,u,0,l),l<c.length?i[0]=c.slice(l):i.shift(),u+=l}}return n}function g(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");t.endEmitted||(t.ended=!0,n.nextTick(function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}))}a.prototype.read=function(e){Xe("read",e);var t=this._readableState,n=e;if((!Oe.isNumber(e)||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return Xe("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?g(this):c(this),null;if(0===(e=f(e,t))&&t.ended)return 0===t.length&&g(this),null;var r,i=t.needReadable;return Xe("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&Xe("length less than watermark",i=!0),(t.ended||t.reading)&&Xe("reading or ended",i=!1),i&&(Xe("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),i&&!t.reading&&(e=f(n,t)),r=e>0?p(e,t):null,Oe.isNull(r)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),n!==e&&t.ended&&0===t.length&&g(this),Oe.isNull(r)||this.emit("data",r),r},a.prototype._read=function(e){this.emit("error",new Error("not implemented"))},a.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,Xe("pipe count=%d opts=%j",i.pipesCount,t);var s=t&&!1===t.end||e===n.stdout||e===n.stderr?f:u;function a(e){Xe("onunpipe"),e===r&&f()}function u(){Xe("onend"),e.end()}i.endEmitted?n.nextTick(s):r.once("end",s),e.on("unpipe",a);var h=function(e){return function(){var t=e._readableState;Xe("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o.listenerCount(e,"data")&&(t.flowing=!0,d(e))}}(r);function f(){Xe("cleanup"),e.removeListener("close",p),e.removeListener("finish",g),e.removeListener("drain",h),e.removeListener("error",l),e.removeListener("unpipe",a),r.removeListener("end",u),r.removeListener("end",f),r.removeListener("data",c),!i.awaitDrain||e._writableState&&!e._writableState.needDrain||h()}function c(t){Xe("ondata"),!1===e.write(t)&&(Xe("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,r.pause())}function l(t){Xe("onerror",t),y(),e.removeListener("error",l),0===o.listenerCount(e,"error")&&e.emit("error",t)}function p(){e.removeListener("finish",g),y()}function g(){Xe("onfinish"),e.removeListener("close",p),y()}function y(){Xe("unpipe"),r.unpipe(e)}return e.on("drain",h),r.on("data",c),e._events&&e._events.error?hu(e._events.error)?e._events.error.unshift(l):e._events.error=[l,e._events.error]:e.on("error",l),e.once("close",p),e.once("finish",g),e.emit("pipe",r),i.flowing||(Xe("pipe resume"),r.resume()),e},a.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<r;i++)n[i].emit("unpipe",this);return this}return-1===(i=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}(t.pipes,e))?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},a.prototype.on=function(e,t){var r=_u.prototype.on.call(this,e,t);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&this.readable){var i=this._readableState;if(!i.readableListening)if(i.readableListening=!0,i.emittedReadable=!1,i.needReadable=!0,i.reading)i.length&&c(this);else{var o=this;n.nextTick(function(){Xe("readable nexttick read 0"),o.read(0)})}}return r},a.prototype.addListener=a.prototype.on,a.prototype.resume=function(){var e=this._readableState;return e.flowing||(Xe("resume"),e.flowing=!0,e.reading||(Xe("resume read 0"),this.read(0)),function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(function(){!function(e,t){t.resumeScheduled=!1,e.emit("resume"),d(e),t.flowing&&!t.reading&&e.read(0)}(e,t)}))}(this,e)),this},a.prototype.pause=function(){return Xe("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(Xe("pause"),this._readableState.flowing=!1,this.emit("pause")),this},a.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;for(var i in e.on("end",function(){if(Xe("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){Xe("wrapped data"),t.decoder&&(i=t.decoder.write(i)),i&&(t.objectMode||i.length)&&(r.push(i)||(n=!0,e.pause()))}),e)Oe.isFunction(e[i])&&Oe.isUndefined(this[i])&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));return function(t,n){for(var i=0,o=t.length;i<o;i++)s=t[i],e.on(s,r.emit.bind(r,s));var s}(["error","close","destroy","pause","resume"]),r._read=function(t){Xe("wrapped _read",t),n&&(n=!1,e.resume())},r},a._fromList=p}).call(this,Fe)}),i=e(function(e,t){"use strict";var n=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=f,Oe.inherits=Te;var r=a({}),i=o({});Oe.inherits(f,r);for(var s=n(i.prototype),u=0;u<s.length;u++){var h=s[u];f.prototype[h]||(f.prototype[h]=i.prototype[h])}function f(e){if(!(this instanceof f))return new f(e);r.call(this,e),i.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",c)}function c(){this.allowHalfOpen||this._writableState.ended||Je.nextTick(l,this)}function l(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),Je.nextTick(t,e)}}),o=e(function(e,t){(function(t,n,r){"use strict";function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(void 0),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=p;var s,a=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:Je.nextTick;p.WritableState=d,Oe.inherits=Te;var u,h={deprecate:_t},f=et.Buffer,c=n.Uint8Array||function(){};function l(){}function d(e,t){s=s||i({}),e=e||{};var n=t instanceof s;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,u=e.writableHighWaterMark,h=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n&&(u||0===u)?u:h,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(Je.nextTick(i,r),Je.nextTick(b,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),b(e,t))}(e,n,r,t,i);else{var o=v(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||A(e,n),r?a(y,e,n,o,i):y(e,n,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function p(e){if(s=s||i({}),!(u.call(p,this)||this instanceof s))return new p(e);this._writableState=new d(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),ut.call(this)}function g(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function y(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),b(e,t)}function A(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var a=0,u=!0;n;)i[a]=n,n.isBuf||(u=!1),n=n.next,a+=1;i.allBuffers=u,g(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var h=n.chunk,f=n.encoding,c=n.callback;if(g(e,t,!1,t.objectMode?1:h.length,h,f,c),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function v(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function m(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),b(e,t)})}function b(e,t){var n=v(t);return n&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,Je.nextTick(m,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}Oe.inherits(p,ut),d.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(d.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(p,Symbol.hasInstance,{value:function(e){return!!u.call(this,e)||this===p&&e&&e._writableState instanceof d}})):u=function(e){return e instanceof this},p.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},p.prototype.write=function(e,t,n){var r,i=this._writableState,o=!1,s=!i.objectMode&&(r=e,f.isBuffer(r)||r instanceof c);return s&&!f.isBuffer(e)&&(e=function(e){return f.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=l),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),Je.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),Je.nextTick(r,o),i=!1),i}(this,i,e,n))&&(i.pendingcb++,o=function(e,t,n,r,i,o){if(!n){var s=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=f.from(t,n)),t}(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var h=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},h?h.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else g(e,t,!1,a,r,i,o);return u}(this,i,s,e,t,n)),o},p.prototype.cork=function(){this._writableState.corked++},p.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||A(this,e))},p.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(p.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),p.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},p.prototype._writev=null,p.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,b(e,t),n&&(t.finished?Je.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(p.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),p.prototype.destroy=at.destroy,p.prototype._undestroy=at.undestroy,p.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,Fe,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},s({}).setImmediate)}),s=e(function(e,t){(function(e,n){var r=Fe.nextTick,i=Function.prototype.apply,o=Array.prototype.slice,s={},a=0;function u(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new u(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new u(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},t.setImmediate="function"==typeof e?e:function(e){var n=a++,i=!(arguments.length<2)&&o.call(arguments,1);return s[n]=!0,r(function(){s[n]&&(i?e.apply(null,i):e.call(null),t.clearImmediate(n))}),n},t.clearImmediate="function"==typeof n?n:function(e){delete s[e]}}).call(this,s({}).setImmediate,s({}).clearImmediate)}),a=e(function(e,t){(function(t,n){"use strict";var r;e.exports=l,l.ReadableState=c,ne.EventEmitter;var o=function(e,t){return e.listeners(t).length},s=et.Buffer,a=n.Uint8Array||function(){};Oe.inherits=Te;var u,h=void 0;h=Xe&&Xe.debuglog?Xe.debuglog("stream"):function(){},Oe.inherits(l,ut);var f=["error","close","destroy","pause","resume"];function c(e,t){e=e||{};var n=t instanceof(r=r||i({}));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var o=e.highWaterMark,s=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:n&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new it,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(u||(u=ht.StringDecoder),this.decoder=new u(e.encoding),this.encoding=e.encoding)}function l(e){if(r=r||i({}),!(this instanceof l))return new l(e);this._readableState=new c(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),ut.call(this)}function d(e,t,n,r,i){var o,u=e._readableState;return null===t?(u.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,A(e)}}(e,u)):(i||(o=function(e,t){var n,r;return r=t,s.isBuffer(r)||r instanceof a||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(u,t)),o?e.emit("error",o):u.objectMode||t&&t.length>0?("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),r?u.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):p(e,u,t,!0):u.ended?e.emit("error",new Error("stream.push() after EOF")):(u.reading=!1,u.decoder&&!n?(t=u.decoder.write(t),u.objectMode||0!==t.length?p(e,u,t,!1):m(e,u)):p(e,u,t,!1))):r||(u.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(u)}function p(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&A(e)),m(e,t)}Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),l.prototype.destroy=at.destroy,l.prototype._undestroy=at.undestroy,l.prototype._destroy=function(e,t){this.push(null),t(e)},l.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=s.from(e,t),t=""),n=!0),d(this,e,t,!1,n)},l.prototype.unshift=function(e){return d(this,e,null,!0,!1)},l.prototype.isPaused=function(){return!1===this._readableState.flowing},l.prototype.setEncoding=function(e){return u||(u=ht.StringDecoder),this._readableState.decoder=new u(e),this._readableState.encoding=e,this};var g=8388608;function y(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=g?e=g:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function A(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?Je.nextTick(v,e):v(e))}function v(e){h("emit readable"),e.emit("readable"),I(e)}function m(e,t){t.readingMore||(t.readingMore=!0,Je.nextTick(b,e,t))}function b(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function _(e){h("readable nexttick read 0"),e.read(0)}function w(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),I(e),t.flowing&&!t.reading&&e.read(0)}function I(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function E(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0==(e-=s)){s===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=s.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0==(e-=a)){a===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++i}return t.length-=i,n}(e,t),r}(e,t.buffer,t.decoder),n);var n}function C(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,Je.nextTick(S,t,e))}function S(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function k(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}l.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?C(this):A(this),null;if(0===(e=y(e,t))&&t.ended)return 0===t.length&&C(this),null;var r,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=y(n,t))),null===(r=e>0?E(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&C(this)),null!==r&&this.emit("data",r),r},l.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},l.prototype.pipe=function(e,n){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,h("pipe count=%d opts=%j",i.pipesCount,n);var s=n&&!1===n.end||e===t.stdout||e===t.stderr?y:a;function a(){h("onend"),e.end()}i.endEmitted?Je.nextTick(s):r.once("end",s),e.on("unpipe",function t(n,o){h("onunpipe"),n===r&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,h("cleanup"),e.removeListener("close",p),e.removeListener("finish",g),e.removeListener("drain",u),e.removeListener("error",d),e.removeListener("unpipe",t),r.removeListener("end",a),r.removeListener("end",y),r.removeListener("data",l),f=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||u())});var u=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,I(e))}}(r);e.on("drain",u);var f=!1,c=!1;function l(t){h("ondata"),c=!1,!1!==e.write(t)||c||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==k(i.pipes,e))&&!f&&(h("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,c=!0),r.pause())}function d(t){h("onerror",t),y(),e.removeListener("error",d),0===o(e,"error")&&e.emit("error",t)}function p(){e.removeListener("finish",g),y()}function g(){h("onfinish"),e.removeListener("close",p),y()}function y(){h("unpipe"),r.unpipe(e)}return r.on("data",l),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener("error",n);e._events&&e._events.error?$e(e._events.error)?e._events.error.unshift(n):e._events.error=[n,e._events.error]:e.on("error",n)}(e,0,d),e.once("close",p),e.once("finish",g),e.emit("pipe",r),i.flowing||(h("pipe resume"),r.resume()),e},l.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=k(t.pipes,e);return-1===s?this:(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},l.prototype.on=function(e,t){var n=ut.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&A(this):Je.nextTick(_,this))}return n},l.prototype.addListener=l.prototype.on,l.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,Je.nextTick(w,e,t))}(this,e)),this},l.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},l.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(h("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){h("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<f.length;o++)e.on(f[o],this.emit.bind(this,f[o]));return this._read=function(t){h("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(l.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),l._fromList=E}).call(this,Fe,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}),u={byteLength:function(e){var t=g(e),n=t[0],r=t[1];return 3*(n+r)/4-r},toByteArray:function(e){for(var t,n=g(e),r=n[0],i=n[1],o=new c(function(e,t,n){return 3*(t+n)/4-n}(0,r,i)),s=0,a=i>0?r-4:r,u=0;u<a;u+=4)t=f[e.charCodeAt(u)]<<18|f[e.charCodeAt(u+1)]<<12|f[e.charCodeAt(u+2)]<<6|f[e.charCodeAt(u+3)],o[s++]=t>>16&255,o[s++]=t>>8&255,o[s++]=255&t;return 2===i&&(t=f[e.charCodeAt(u)]<<2|f[e.charCodeAt(u+1)]>>4,o[s++]=255&t),1===i&&(t=f[e.charCodeAt(u)]<<10|f[e.charCodeAt(u+1)]<<4|f[e.charCodeAt(u+2)]>>2,o[s++]=t>>8&255,o[s++]=255&t),o},fromByteArray:function(e){for(var t,n=e.length,r=n%3,i=[],o=0,s=n-r;o<s;o+=16383)i.push(y(e,o,o+16383>s?s:o+16383));return 1===r?(t=e[n-1],i.push(h[t>>2]+h[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(h[t>>10]+h[t>>4&63]+h[t<<2&63]+"=")),i.join("")}},h=[],f=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,p=l.length;d<p;++d)h[d]=l[d],f[l.charCodeAt(d)]=d;function g(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function y(e,t,n){for(var r,i,o=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(h[(i=r)>>18&63]+h[i>>12&63]+h[i>>6&63]+h[63&i]);return o.join("")}f["-".charCodeAt(0)]=62,f["_".charCodeAt(0)]=63;var A={read:function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,h=u>>1,f=-7,c=n?i-1:0,l=n?-1:1,d=e[t+c];for(c+=l,o=d&(1<<-f)-1,d>>=-f,f+=a;f>0;o=256*o+e[t+c],c+=l,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=r;f>0;s=256*s+e[t+c],c+=l,f-=8);if(0===o)o=1-h;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=h}return(d?-1:1)*s*Math.pow(2,o-r)},write:function(e,t,n,r,i,o){var s,a,u,h=8*o-i-1,f=(1<<h)-1,c=f>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+c>=1?l/u:l*Math.pow(2,1-c))*u>=2&&(s++,u/=2),s+c>=f?(a=0,s=f):s+c>=1?(a=(t*u-1)*Math.pow(2,i),s+=c):(a=t*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;e[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,h+=i;h>0;e[n+d]=255&s,d+=p,s/=256,h-=8);e[n+d-p]|=128*g}},v={},m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};v.Buffer=w,v.SlowBuffer=function(e){return+e!=e&&(e=0),w.alloc(+e)},v.INSPECT_MAX_BYTES=50;var b=2147483647;function _(e){if(e>b)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=w.prototype,t}function w(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return C(e)}return I(e,t,n)}function I(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!w.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|B(e,t),r=_(n),i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t);if(ArrayBuffer.isView(e))return S(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===e?"undefined":m(e)));if(ee(e,ArrayBuffer)||e&&ee(e.buffer,ArrayBuffer))return function(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return(r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n)).__proto__=w.prototype,r}(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return w.from(r,t,n);var i=function(e){if(w.isBuffer(e)){var t=0|k(e.length),n=_(t);return 0===n.length?n:(e.copy(n,0,0,t),n)}return void 0!==e.length?"number"!=typeof e.length||te(e.length)?_(0):S(e):"Buffer"===e.type&&Array.isArray(e.data)?S(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return w.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===e?"undefined":m(e)))}function E(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function C(e){return E(e),_(e<0?0:0|k(e))}function S(e){for(var t=e.length<0?0:0|k(e.length),n=_(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function k(e){if(e>=b)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+b.toString(16)+" bytes");return 0|e}function B(e,t){if(w.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||ee(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+(void 0===e?"undefined":m(e)));var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return X(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Z(e).length;default:if(i)return r?-1:X(e).length;t=(""+t).toLowerCase(),i=!0}}function x(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function M(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),te(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=w.from(t,r)),w.isBuffer(t))return 0===t.length?-1:D(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):D(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function D(e,t,n,r,i){var o,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function h(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var f=-1;for(o=n;o<a;o++)if(h(e,o)===h(t,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===u)return f*s}else-1!==f&&(o-=o-f),f=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var c=!0,l=0;l<u;l++)if(h(e,o+l)!==h(t,l)){c=!1;break}if(c)return o}return-1}function Q(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(te(a))return s;e[n+s]=a}return s}function O(e,t,n,r){return $(X(t,e.length-n),e,n,r)}function T(e,t,n,r){return $(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function L(e,t,n,r){return T(e,t,n,r)}function U(e,t,n,r){return $(Z(t),e,n,r)}function F(e,t,n,r){return $(function(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function N(e,t,n){return 0===t&&n===e.length?u.fromByteArray(e):u.fromByteArray(e.slice(t,n))}function Y(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,u,h=e[i],f=null,c=h>239?4:h>223?3:h>191?2:1;if(i+c<=n)switch(c){case 1:h<128&&(f=h);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&h)<<6|63&o)>127&&(f=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(u=(15&h)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&h)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(f=u)}null===f?(f=65533,c=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),i+=c}return function(e){var t=e.length;if(t<=R)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=R));return n}(r)}v.kMaxLength=b,w.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(t){return!1}}(),w.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(w.prototype,"parent",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.buffer}}),Object.defineProperty(w.prototype,"offset",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&w[Symbol.species]===w&&Object.defineProperty(w,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),w.poolSize=8192,w.from=function(e,t,n){return I(e,t,n)},w.prototype.__proto__=Uint8Array.prototype,w.__proto__=Uint8Array,w.alloc=function(e,t,n){return function(e,t,n){return E(e),e<=0?_(e):void 0!==t?"string"==typeof n?_(e).fill(t,n):_(e).fill(t):_(e)}(e,t,n)},w.allocUnsafe=function(e){return C(e)},w.allocUnsafeSlow=function(e){return C(e)},w.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==w.prototype},w.compare=function(e,t){if(ee(e,Uint8Array)&&(e=w.from(e,e.offset,e.byteLength)),ee(t,Uint8Array)&&(t=w.from(t,t.offset,t.byteLength)),!w.isBuffer(e)||!w.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},w.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},w.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return w.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=w.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(ee(o,Uint8Array)&&(o=w.from(o)),!w.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},w.byteLength=B,w.prototype._isBuffer=!0,w.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)x(this,t,t+1);return this},w.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)x(this,t,t+3),x(this,t+1,t+2);return this},w.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)x(this,t,t+7),x(this,t+1,t+6),x(this,t+2,t+5),x(this,t+3,t+4);return this},w.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?Y(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return j(this,t,n);case"utf8":case"utf-8":return Y(this,t,n);case"ascii":return K(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return N(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},w.prototype.toLocaleString=w.prototype.toString,w.prototype.equals=function(e){if(!w.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===w.compare(this,e)},w.prototype.inspect=function(){var e="",t=v.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},w.prototype.compare=function(e,t,n,r,i){if(ee(e,Uint8Array)&&(e=w.from(e,e.offset,e.byteLength)),!w.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+(void 0===e?"undefined":m(e)));if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s),u=this.slice(r,i),h=e.slice(t,n),f=0;f<a;++f)if(u[f]!==h[f]){o=u[f],s=h[f];break}return o<s?-1:s<o?1:0},w.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},w.prototype.indexOf=function(e,t,n){return M(this,e,t,n,!0)},w.prototype.lastIndexOf=function(e,t,n){return M(this,e,t,n,!1)},w.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return Q(this,e,t,n);case"utf8":case"utf-8":return O(this,e,t,n);case"ascii":return T(this,e,t,n);case"latin1":case"binary":return L(this,e,t,n);case"base64":return U(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},w.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function K(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function P(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function j(e,t,n){var r,i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var o="",s=t;s<n;++s)o+=(r=e[s])<16?"0"+r.toString(16):r.toString(16);return o}function H(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function W(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function G(e,t,n,r,i,o){if(!w.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function V(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function z(e,t,n,r,i){return t=+t,n>>>=0,i||V(e,0,n,4),A.write(e,t,n,r,23,4),n+4}function q(e,t,n,r,i){return t=+t,n>>>=0,i||V(e,0,n,8),A.write(e,t,n,r,52,8),n+8}w.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return r.__proto__=w.prototype,r},w.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||W(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},w.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||W(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},w.prototype.readUInt8=function(e,t){return e>>>=0,t||W(e,1,this.length),this[e]},w.prototype.readUInt16LE=function(e,t){return e>>>=0,t||W(e,2,this.length),this[e]|this[e+1]<<8},w.prototype.readUInt16BE=function(e,t){return e>>>=0,t||W(e,2,this.length),this[e]<<8|this[e+1]},w.prototype.readUInt32LE=function(e,t){return e>>>=0,t||W(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},w.prototype.readUInt32BE=function(e,t){return e>>>=0,t||W(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},w.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||W(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},w.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||W(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},w.prototype.readInt8=function(e,t){return e>>>=0,t||W(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},w.prototype.readInt16LE=function(e,t){e>>>=0,t||W(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},w.prototype.readInt16BE=function(e,t){e>>>=0,t||W(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},w.prototype.readInt32LE=function(e,t){return e>>>=0,t||W(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},w.prototype.readInt32BE=function(e,t){return e>>>=0,t||W(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},w.prototype.readFloatLE=function(e,t){return e>>>=0,t||W(e,4,this.length),A.read(this,e,!0,23,4)},w.prototype.readFloatBE=function(e,t){return e>>>=0,t||W(e,4,this.length),A.read(this,e,!1,23,4)},w.prototype.readDoubleLE=function(e,t){return e>>>=0,t||W(e,8,this.length),A.read(this,e,!0,52,8)},w.prototype.readDoubleBE=function(e,t){return e>>>=0,t||W(e,8,this.length),A.read(this,e,!1,52,8)},w.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||G(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},w.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||G(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},w.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||G(this,e,t,1,255,0),this[t]=255&e,t+1},w.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||G(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},w.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||G(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},w.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||G(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},w.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||G(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},w.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);G(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},w.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);G(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},w.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||G(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},w.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||G(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},w.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||G(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},w.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||G(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},w.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||G(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},w.prototype.writeFloatLE=function(e,t,n){return z(this,e,t,!0,n)},w.prototype.writeFloatBE=function(e,t,n){return z(this,e,t,!1,n)},w.prototype.writeDoubleLE=function(e,t,n){return q(this,e,t,!0,n)},w.prototype.writeDoubleBE=function(e,t,n){return q(this,e,t,!1,n)},w.prototype.copy=function(e,t,n,r){if(!w.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var o=i-1;o>=0;--o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return i},w.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!w.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=w.isBuffer(e)?e:w.from(e,r),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var J=/[^+\/0-9A-Za-z-_]/g;function X(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Z(e){return u.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(J,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function $(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function ee(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function te(e){return e!=e}var ne={},re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ie=Object.create||function(e){var t=function(){};return t.prototype=e,new t},oe=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return n},se=Function.prototype.bind||function(e){var t=this;return function(){return t.apply(e,arguments)}};function ae(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=ie(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}ne=ae,ae.EventEmitter=ae,ae.prototype._events=void 0,ae.prototype._maxListeners=void 0;var ue,he=10;try{var fe={};Object.defineProperty&&Object.defineProperty(fe,"x",{value:0}),ue=0===fe.x}catch(Pl){ue=!1}function ce(e){return void 0===e._maxListeners?ae.defaultMaxListeners:e._maxListeners}function le(e,t,n,r){var i,o,s;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((o=e._events)?(o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]):(o=e._events=ie(null),e._eventsCount=0),s){if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),!s.warned&&(i=ce(e))&&i>0&&s.length>i){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,"object"===("undefined"==typeof console?"undefined":re(console))&&console.warn&&console.warn("%s: %s",a.name,a.message)}}else s=o[t]=n,++e._eventsCount;return e}function de(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function pe(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=se.call(de,r);return i.listener=n,r.wrapFn=i,i}function ge(e,t,n){var r=e._events;if(!r)return[];var i=r[t];return i?"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):Ae(i,i.length):[]}function ye(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function Ae(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}ue?Object.defineProperty(ae,"defaultMaxListeners",{enumerable:!0,get:function(){return he},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');he=e}}):ae.defaultMaxListeners=he,ae.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},ae.prototype.getMaxListeners=function(){return ce(this)},ae.prototype.emit=function(e){var t,n,r,i,o,s,a="error"===e;if(s=this._events)a=a&&null==s.error;else if(!a)return!1;if(a){if(arguments.length>1&&(t=arguments[1]),t instanceof Error)throw t;var u=new Error('Unhandled "error" event. ('+t+")");throw u.context=t,u}if(!(n=s[e]))return!1;var h="function"==typeof n;switch(r=arguments.length){case 1:!function(e,t,n){if(t)e.call(n);else for(var r=e.length,i=Ae(e,r),o=0;o<r;++o)i[o].call(n)}(n,h,this);break;case 2:!function(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,o=Ae(e,i),s=0;s<i;++s)o[s].call(n,r)}(n,h,this,arguments[1]);break;case 3:!function(e,t,n,r,i){if(t)e.call(n,r,i);else for(var o=e.length,s=Ae(e,o),a=0;a<o;++a)s[a].call(n,r,i)}(n,h,this,arguments[1],arguments[2]);break;case 4:!function(e,t,n,r,i,o){if(t)e.call(n,r,i,o);else for(var s=e.length,a=Ae(e,s),u=0;u<s;++u)a[u].call(n,r,i,o)}(n,h,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),o=1;o<r;o++)i[o-1]=arguments[o];!function(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,o=Ae(e,i),s=0;s<i;++s)o[s].apply(n,r)}(n,h,this,i)}return!0},ae.prototype.addListener=function(e,t){return le(this,e,t,!1)},ae.prototype.on=ae.prototype.addListener,ae.prototype.prependListener=function(e,t){return le(this,e,t,!0)},ae.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,pe(this,e,t)),this},ae.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,pe(this,e,t)),this},ae.prototype.removeListener=function(e,t){var n,r,i,o,s;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=ie(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(var n=i,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}(n),1===n.length&&(r[e]=n[0]),r.removeListener&&this.emit("removeListener",e,s||t)}return this},ae.prototype.removeAllListeners=function(e){var t,n,r;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=ie(null),this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=ie(null):delete n[e]),this;if(0===arguments.length){var i,o=oe(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=ie(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},ae.prototype.listeners=function(e){return ge(this,e,!0)},ae.prototype.rawListeners=function(e){return ge(this,e,!1)},ae.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):ye.call(e,t)},ae.prototype.listenerCount=ye,ae.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},me=ne.EventEmitter,be=function(e){var t=new me;return{maxBatch:100,map:function(n,r){var i=[],o={},s=0;function a(){e.batch(i,r)}n.forEach(function(n){if(function(e){return"object"!==(void 0===e?"undefined":ve(e))?null:"object"!==ve(e.value)?null:"object"!==ve(e.value.content)?null:"number"!=typeof e.value.timestamp?null:"string"!=typeof e.value.type?null:"string"!=typeof e.value.content.channel?null:"string"!=typeof e.value.content.text?null:e}(n)&&n.value&&n.value.content&&n.value.content.channel){var r=n.value.content.channel;s++,e.get("channel!"+r,function(e){e&&e.notFound&&(o[r]||t.emit("add",r),o[r]=!0,i.push({type:"put",key:"channel!"+r,value:1})),--s||a()})}}),s||a()},api:{get:function(t,n){this.ready(function(){var t=[];e.createKeyStream({gt:"channel!!",lt:"channel!~"}).on("data",function(e){t.push(e.replace("channel!",""))}).once("end",function(){n(null,t)}).once("error",n)})},events:t},storeState:function(t,n){e.put("state",t,n)},fetchState:function(t){e.get("state",function(e,n){e&&e.notFound?t():e?t(e):t(null,n)})}}},_e={};function we(e){for(var t="",n=0;n<e.length;n++){var r=e[n];isNaN(Number(r))||" "===r?"-"!==r&&(t+=r):t+=String(9-Number(r))}return t}_e.encode=function(e){if(isNaN(e))return"DaN";if(0===e)return"FE  0M0";if(e===1/0)return"FF";if(e===-1/0)return"DD";var t,n,r=e.toExponential().split("e"),i=Number(r[1])+500,o=r[0]+(-1===r[0].indexOf(".")?".":"")+"0".repeat(20),s="E"+(t=String(i)," ".repeat((n=3)-t.length).substr(0,n)+t)+"M"+String(o);return e>0?"F"+s:"D"+we(s)},_e.decode=function(e){if("DaN"===e)return NaN;if("FF"===e)return 1/0;if("DD"===e)return-1/0;var t="D"===e[0],n=(t?we(e):e).slice(2).split("M");return Number((t?"-":"")+n[1]+"e"+String(Number(n[0])-500))};var Ie={},Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce={"?":"?@","!":"??",'"':"?%"},Se={"?@":"?","??":"!","?%":'"'};Ie.factory=function(e){return{encode:t,decode:function(t){if("A"===t)return null;if("K!"===t)return[];for(var n,r=t.split('"'),i=[[]],o=0,s=r.length,a=0;a<s;a++){for(var u=r[a],h=u.length,f=0;"K"==u[f];)f++;for(var c=0;"!"==u[h-c-1];)c++;for(var l=u.slice(f,h-c),d=o+f,p=o;p<d;p++)i[p+1]=[],i[p].push(i[p+1]),n=i[o=d];0!==l.length&&n.push(e.decode(/\?[%\?@]/.test(g=l)?g.replace(/\?[%\?@]/g,function(e){return Se[e]}):g));for(p=d=o-c;p<o;p++)i[p+1]=[],n=i[o=d]}var g;return i[0][0]}};function t(e){if(null===e)return"A";if(!Array.isArray(e))throw new Error("can only encode arrays");var t=e.length;if(0==t)return"K!";for(var r=n(e[0]),i=1;i<t;i++)r+='"'+n(e[i]);return"K"+r+"!"}function n(n){return"object"===(void 0===n?"undefined":Ee(n))?t(n):(r=e.encode(n),/[!"]/.test(r)?r.replace(/[\?!"]/g,function(e){return Ce[e]}):r);var r}};var ke={},Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};ke.flip=function(e){var t=e.toString(),n="";for(var r in t)n+="."==t[r]?".":9-+t[r];return n},ke.number=_e,ke.string={encode:function(e){return/\x00|\x01/.test(e)?"J"+e.replace(/\x01/g,"\x01\x01").replace(/\x00/g,"\x01"):"J"+e},decode:function(e){if("J"===e[0])return e.substring(1)}},ke.encode=function(e){return ke[void 0===e?"undefined":Be(e)].encode(e)},ke.decode=function(e){if(""===e)return e;if(!xe[e[0]])throw new Error("no decoder for:"+JSON.stringify(e));return xe[e[0]](e)},ke.object=Ie.factory(ke),ke.boolean={encode:function(e){return e?"C":"B"},decode:function(e){return"C"===e}},ke.undefined={encode:function(e){return"L"},decode:function(){}};var xe={A:ke.object.decode,B:ke.boolean.decode,C:ke.boolean.decode,D:ke.number.decode,F:ke.number.decode,J:ke.string.decode,K:ke.object.decode,L:ke.undefined.decode};ke.buffer=!1,ke.type="charwise";var Me=function(e,t){return{maxBatch:100,map:function(n,r){var i=[];n.forEach(function(e){var n=t.map(e);n&&Array.isArray(n)&&(n=n.map(function(e){return{type:"put",key:e[0],value:e[1]}}),i.push.apply(i,n))}),e.batch(i,r)},api:t.api,indexed:function(e){t.indexed&&t.indexed(e)},storeState:function(t,n){e.put("state",t,n)},fetchState:function(t){e.get("state",function(e,n){e&&e.notFound?t():e?t(e):t(null,n)})}}};function De(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var Qe=function(e){return null!=e&&(De(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&De(e.slice(0,0))}(e)||!!e._isBuffer)},Oe={};(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function n(e){return Object.prototype.toString.call(e)}Oe.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},Oe.isBoolean=function(e){return"boolean"==typeof e},Oe.isNull=function(e){return null===e},Oe.isNullOrUndefined=function(e){return null==e},Oe.isNumber=function(e){return"number"==typeof e},Oe.isString=function(e){return"string"==typeof e},Oe.isSymbol=function(e){return"symbol"===(void 0===e?"undefined":t(e))},Oe.isUndefined=function(e){return void 0===e},Oe.isRegExp=function(e){return"[object RegExp]"===n(e)},Oe.isObject=function(e){return"object"===(void 0===e?"undefined":t(e))&&null!==e},Oe.isDate=function(e){return"[object Date]"===n(e)},Oe.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},Oe.isFunction=function(e){return"function"==typeof e},Oe.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"===(void 0===e?"undefined":t(e))||void 0===e},Oe.isBuffer=e.isBuffer}).call(this,{isBuffer:Qe});var Te={};Te="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e};var Le,Ue,Fe={},Ne=Fe={};function Ye(){throw new Error("setTimeout has not been defined")}function Re(){throw new Error("clearTimeout has not been defined")}function Ke(e){if(Le===setTimeout)return setTimeout(e,0);if((Le===Ye||!Le)&&setTimeout)return Le=setTimeout,setTimeout(e,0);try{return Le(e,0)}catch(t){try{return Le.call(null,e,0)}catch(t){return Le.call(this,e,0)}}}!function(){try{Le="function"==typeof setTimeout?setTimeout:Ye}catch(e){Le=Ye}try{Ue="function"==typeof clearTimeout?clearTimeout:Re}catch(e){Ue=Re}}();var Pe,je=[],He=!1,We=-1;function Ge(){He&&Pe&&(He=!1,Pe.length?je=Pe.concat(je):We=-1,je.length&&Ve())}function Ve(){if(!He){var e=Ke(Ge);He=!0;for(var t=je.length;t;){for(Pe=je,je=[];++We<t;)Pe&&Pe[We].run();We=-1,t=je.length}Pe=null,He=!1,function(e){if(Ue===clearTimeout)return clearTimeout(e);if((Ue===Re||!Ue)&&clearTimeout)return Ue=clearTimeout,clearTimeout(e);try{Ue(e)}catch(t){try{return Ue.call(null,e)}catch(t){return Ue.call(this,e)}}}(e)}}function ze(e,t){this.fun=e,this.array=t}function qe(){}Ne.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];je.push(new ze(e,t)),1!==je.length||He||Ke(Ve)},ze.prototype.run=function(){this.fun.apply(null,this.array)},Ne.title="browser",Ne.browser=!0,Ne.env={},Ne.argv=[],Ne.version="",Ne.versions={},Ne.on=qe,Ne.addListener=qe,Ne.once=qe,Ne.off=qe,Ne.removeListener=qe,Ne.removeAllListeners=qe,Ne.emit=qe,Ne.prependListener=qe,Ne.prependOnceListener=qe,Ne.listeners=function(e){return[]},Ne.binding=function(e){throw new Error("process.binding is not supported")},Ne.cwd=function(){return"/"},Ne.chdir=function(e){throw new Error("process.chdir is not supported")},Ne.umask=function(){return 0};var Je={};(function(e){"use strict";Je=!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?{nextTick:function(t,n,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,r)});case 4:return e.nextTick(function(){t.call(null,n,r,i)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return e.nextTick(function(){t.apply(null,o)})}}}:e}).call(this,Fe);var Xe={},Ze={}.toString,$e=Array.isArray||function(e){return"[object Array]"==Ze.call(e)},et={},tt=v.Buffer;function nt(e,t){for(var n in e)t[n]=e[n]}function rt(e,t,n){return tt(e,t,n)}tt.from&&tt.alloc&&tt.allocUnsafe&&tt.allocUnsafeSlow?et=v:(nt(v,et),et.Buffer=rt),nt(tt,rt),rt.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return tt(e,t,n)},rt.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=tt(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},rt.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return tt(e)},rt.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return v.SlowBuffer(e)};var it={},ot=et.Buffer;function st(e,t){e.emit("error",t)}it=function(){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return ot.alloc(0);if(1===this.length)return this.head.data;for(var t,n,r=ot.allocUnsafe(e>>>0),i=this.head,o=0;i;)t=r,n=o,i.data.copy(t,n),o+=i.data.length,i=i.next;return r},e}(),Xe&&Xe.inspect&&Xe.inspect.custom&&(it.prototype[Xe.inspect.custom]=function(){var e=Xe.inspect({length:this.length});return this.constructor.name+" "+e});var at={destroy:function(e,t){var n=this,r=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return r||i?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||Je.nextTick(st,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(Je.nextTick(st,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}},ut=ne.EventEmitter,ht={},ft=et.Buffer,ct=ft.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function lt(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(ft.isEncoding===ct||!ct(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=gt,this.end=yt,t=4;break;case"utf8":this.fillLast=pt,t=4;break;case"base64":this.text=At,this.end=vt,t=3;break;default:return this.write=mt,void(this.end=bt)}this.lastNeed=0,this.lastTotal=0,this.lastChar=ft.allocUnsafe(t)}function dt(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function pt(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function gt(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function yt(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function At(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function vt(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function mt(e){return e.toString(this.encoding)}function bt(e){return e&&e.length?this.write(e):""}ht.StringDecoder=lt,lt.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},lt.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},lt.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=dt(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=dt(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=dt(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},lt.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};var _t={};(function(e){function t(t){try{if(!e.localStorage)return!1}catch(r){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}_t=function(e,n){if(t("noDeprecation"))return e;var r=!1;return function(){if(!r){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),r=!0}return e.apply(this,arguments)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var wt=Ct,It=i({});function Et(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Ct(e){if(!(this instanceof Ct))return new Ct(e);It.call(this,e),this._transformState={afterTransform:Et.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",St)}function St(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){kt(e,t,n)}):kt(this,null,null)}function kt(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}Oe.inherits=Te,Oe.inherits(Ct,It),Ct.prototype.push=function(e,t){return this._transformState.needTransform=!1,It.prototype.push.call(this,e,t)},Ct.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},Ct.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Ct.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},Ct.prototype._destroy=function(e,t){var n=this;It.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})};var Bt=xt;function xt(e){if(!(this instanceof xt))return new xt(e);wt.call(this,e)}Oe.inherits=Te,Oe.inherits(xt,wt),xt.prototype._transform=function(e,t,n){n(null,e)};var Mt={};(Mt=Mt=a({})).Stream=Mt,Mt.Readable=Mt,Mt.Writable=o({}),Mt.Duplex=i({}),Mt.Transform=wt,Mt.PassThrough=Bt;var Dt=Mt.Readable,Qt=function(e){var t=e._readableState;"function"!=typeof e.read&&(e=new Dt(t).wrap(e));var n=new Dt({objectMode:t&&t.objectMode}),r=!1;return e.on("readable",function(){r&&(r=!1,n._read())}),n._read=function(){for(var t,i=0;null!==(t=e.read());)n.push(t),i++;0===i&&(r=!0)},e.once("end",function(){n.push(null)}),e.on("error",function(e){n.emit("error",e)}),n},Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tt=function(e){return e&&"object"===(void 0===e?"undefined":Ot(e))&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8},Lt={};(function(e,t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=/%[sdj%]/g;Lt.format=function(e){if(!y(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var i=arguments,o=i.length,a=String(e).replace(r,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return e}}),u=i[n];n<o;u=i[++n])p(u)||!m(u)?a+=" "+u:a+=" "+s(u);return a},Lt.deprecate=function(n,r){if(A(t.process))return function(){return Lt.deprecate(n,r).apply(this,arguments)};if(!0===e.noDeprecation)return n;var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var i,o={};function s(e,t){var n={seen:[],stylize:u};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),d(t)?n.showHidden=t:t&&Lt._extend(n,t),A(n.showHidden)&&(n.showHidden=!1),A(n.depth)&&(n.depth=2),A(n.colors)&&(n.colors=!1),A(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=a),h(n,e,n.depth)}function a(e,t){var n=s.styles[t];return n?"\x1b["+s.colors[n][0]+"m"+e+"\x1b["+s.colors[n][1]+"m":e}function u(e,t){return e}function h(e,t,n){if(e.customInspect&&t&&w(t.inspect)&&t.inspect!==Lt.inspect&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(n,e);return y(r)||(r=h(e,r,n)),r}var i=function(e,t){if(A(t))return e.stylize("undefined","undefined");if(y(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return g(t)?e.stylize(""+t,"number"):d(t)?e.stylize(""+t,"boolean"):p(t)?e.stylize("null","null"):void 0}(e,t);if(i)return i;var o,s=Object.keys(t),a=(o={},s.forEach(function(e,t){o[e]=!0}),o);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),_(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return f(t);if(0===s.length){if(w(t)){var u=t.name?": "+t.name:"";return e.stylize("[Function"+u+"]","special")}if(v(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(b(t))return e.stylize(Date.prototype.toString.call(t),"date");if(_(t))return f(t)}var m,I="",E=!1,C=["{","}"];return l(t)&&(E=!0,C=["[","]"]),w(t)&&(I=" [Function"+(t.name?": "+t.name:"")+"]"),v(t)&&(I=" "+RegExp.prototype.toString.call(t)),b(t)&&(I=" "+Date.prototype.toUTCString.call(t)),_(t)&&(I=" "+f(t)),0!==s.length||E&&0!=t.length?n<0?v(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),m=E?function(e,t,n,r,i){for(var o=[],s=0,a=t.length;s<a;++s)S(t,String(s))?o.push(c(e,t,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(c(e,t,n,r,i,!0))}),o}(e,t,n,a,s):s.map(function(r){return c(e,t,n,a,r,E)}),e.seen.pop(),function(e,t,n){return e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(m,I,C)):C[0]+I+C[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function c(e,t,n,r,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),S(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(u.value)<0?(a=p(n)?h(e,u.value,null):h(e,u.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")):a=e.stylize("[Circular]","special")),A(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function l(e){return Array.isArray(e)}function d(e){return"boolean"==typeof e}function p(e){return null===e}function g(e){return"number"==typeof e}function y(e){return"string"==typeof e}function A(e){return void 0===e}function v(e){return m(e)&&"[object RegExp]"===I(e)}function m(e){return"object"===(void 0===e?"undefined":n(e))&&null!==e}function b(e){return m(e)&&"[object Date]"===I(e)}function _(e){return m(e)&&("[object Error]"===I(e)||e instanceof Error)}function w(e){return"function"==typeof e}function I(e){return Object.prototype.toString.call(e)}function E(e){return e<10?"0"+e.toString(10):e.toString(10)}Lt.debuglog=function(t){if(A(i)&&(i=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!o[t])if(new RegExp("\\b"+t+"\\b","i").test(i)){var n=e.pid;o[t]=function(){var e=Lt.format.apply(Lt,arguments);console.error("%s %d: %s",t,n,e)}}else o[t]=function(){};return o[t]},Lt.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},Lt.isArray=l,Lt.isBoolean=d,Lt.isNull=p,Lt.isNullOrUndefined=function(e){return null==e},Lt.isNumber=g,Lt.isString=y,Lt.isSymbol=function(e){return"symbol"===(void 0===e?"undefined":n(e))},Lt.isUndefined=A,Lt.isRegExp=v,Lt.isObject=m,Lt.isDate=b,Lt.isError=_,Lt.isFunction=w,Lt.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"===(void 0===e?"undefined":n(e))||void 0===e},Lt.isBuffer=Tt;var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function S(e,t){return Object.prototype.hasOwnProperty.call(e,t)}Lt.log=function(){var e,t;console.log("%s - %s",(t=[E((e=new Date).getHours()),E(e.getMinutes()),E(e.getSeconds())].join(":"),[e.getDate(),C[e.getMonth()],t].join(" ")),Lt.format.apply(Lt,arguments))},Lt.inherits=Te,Lt._extend=function(e,t){if(!t||!m(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,Fe,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Ut=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)Ft.call(n,r)&&(e[r]=n[r])}return e},Ft=Object.prototype.hasOwnProperty,Nt={};(function(e){var t=Mt.Transform,n=Lt.inherits;function r(e){t.call(this,e),this._destroyed=!1}function i(e,t,n){n(null,e)}function o(e){return function(t,n,r){return"function"==typeof t&&(r=n,n=t,t={}),"function"!=typeof n&&(n=i),"function"!=typeof r&&(r=null),e(t,n,r)}}n(r,t),r.prototype.destroy=function(t){if(!this._destroyed){this._destroyed=!0;var n=this;e.nextTick(function(){t&&n.emit("error",t),n.emit("close")})}},(Nt=o(function(e,t,n){var i=new r(e);return i._transform=t,n&&(i._flush=n),i})).ctor=o(function(e,t,i){function o(t){if(!(this instanceof o))return new o(t);this.options=Ut(e,t),r.call(this,this.options)}return n(o,r),o.prototype._transform=t,i&&(o.prototype._flush=i),o}),Nt.obj=o(function(e,t,n){var i=new r(Ut({objectMode:!0,highWaterMark:16},e));return i._transform=t,n&&(i._flush=n),i})}).call(this,Fe);var Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rt=ne.EventEmitter;function Kt(e,t){return e.value.timestamp-t.value.timestamp}function Pt(e){return"object"!==(void 0===e?"undefined":Yt(e))?null:"object"!==Yt(e.value)?null:"object"!==Yt(e.value.content)?null:"number"!=typeof e.value.timestamp?null:"string"!=typeof e.value.type?null:"string"!=typeof e.value.content.channel?null:"string"!=typeof e.value.content.text?null:e}var jt=function(e){var t=new Rt;return Me(e,{map:function(e){if(!Pt(e))return[];if(!e.value.timestamp)return[];var t=e.value.timestamp,n=(new Date).getTime();return t>n&&(t=n),e.value.type.startsWith("chat/")&&e.value.content.channel?[["msg!"+e.value.content.channel+"!"+ke.encode(t),e]]:[]},indexed:function(e){e.filter(function(e){return Boolean(Pt(e))}).filter(function(e){return e.value.type.startsWith("chat/")&&e.value.content.channel}).sort(Kt).forEach(function(e){t.emit("message",e),t.emit(e.value.content.channel,e)})},api:{read:function(t,n,r){r=r||{};var i=Nt.obj();return r.gt?r.gt="msg!"+n+"!"+ke.encode(r.gt)+"!":r.gt="msg!"+n+"!",r.lt?r.lt="msg!"+n+"!"+ke.encode(r.lt)+"~":r.lt="msg!"+n+"~",this.ready(function(){e.createValueStream(Ut(r,{reverse:!0})).pipe(i)}),Qt(i)},events:t}})},Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wt=ne.EventEmitter;function Gt(e,t){return e.value.timestamp-t.value.timestamp}function Vt(e){return"object"!==(void 0===e?"undefined":Ht(e))?null:"object"!==Ht(e.value)?null:"object"!==Ht(e.value.content)?null:"number"!=typeof e.value.timestamp?null:"string"!=typeof e.value.type?null:"string"!=typeof e.value.content.channel?null:"string"!=typeof e.value.content.text?null:e}var zt=function(e){var t=new Wt;return Me(e,{map:function(e){if(!Vt(e))return[];var t=[];if("chat/topic"===e.value.type&&e.value.content&&e.value.content.channel){var n="channel!topic!"+e.value.content.channel,r=e.value.content.text;t.push([n,r])}return t},indexed:function(e){e.filter(function(e){return Boolean(Vt(e))}).filter(function(e){return e.value.type.startsWith("chat/topic")&&e.value.content&&e.value.content.channel}).sort(Gt).forEach(function(e){t.emit(e.value.content.channel,e),t.emit("update",e)})},api:{get:function(t,n,r){n&&this.ready(function(){e.get("channel!topic!"+n,function(e,t){!e&&t&&r(null,t)})})},events:t}})},qt=0,Jt=1,Xt=0,Zt=0,$t=function(){var e=Date.now();if(qt===e){do{Xt=e+Jt++/(Jt+999)}while(Xt===Zt);Zt=Xt}else Jt=1,Xt=e;return Zt=Xt,qt=e,Xt},en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tn=ne.EventEmitter;function nn(e){return"object"!==(void 0===e?"undefined":en(e))?null:"object"!==en(e.value)?null:"object"!==en(e.value.content)?null:"number"!=typeof e.value.timestamp?null:"string"!=typeof e.value.type?null:e}var rn=function(e){var t=new tn;return Me(e,{map:function(e){if(!nn(e))return[];var t=[];if("about"===e.value.type){var n="user!about!"+e.key,r=e.value.content;t.push([n,r])}else t.push(["user!key!"+e.key,1]);return t},indexed:function(e){e.forEach(function(e){nn(e)&&"about"===e.value.type&&(t.emit(e.key,e),t.emit("update",e.key,e))})},api:{get:function(t,n,r){this.ready(function(){e.get("user!about!"+n,r)})},getAll:function(t,n){this.ready(function(){var t={},r=e.createReadStream({gt:"user!!",lt:"user!~"});r.on("data",function(e){var n=e.key.split("!"),r=n[2];3===n.length&&"about"===n[1]?(t[r]||(t[r]={key:r}),t[r].name=e.value.name):t[r]||(t[r]={key:r})}),r.once("end",n.bind(null,null,t)),r.once("error",n)})},events:t}})},on=function(e){var t=!1,n=null,r=null,i=null;return function(s,a){t?(n||(n=[],r=[]),function(e,t){Array.isArray(t)?function(e,t){for(var n=0;n<t.length;n++)e.push(t[n])}(e,t):e.push(t)}(n,s),a&&r.push(a)):(a&&(i=[a]),t=!0,e(Array.isArray(s)?s:[s],o))};function o(s){i&&function(e,t){for(var n=0;n<e.length;n++)e[n](t)}(i,s),t=!1,i=r;var a=n;if(n=null,r=null,!a||!a.length){if(!i||!i.length)return void(i=null);a||(a=[])}t=!0,e(a,o)}},sn={};(function(e){sn=function(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative');return e.allocUnsafe?e.allocUnsafe(t):new e(t)}}).call(this,v.Buffer);var an={};(function(e){"use strict";an=function(t,n){if(!e.isBuffer(t)||!e.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(t===n)return!0;if("function"==typeof t.equals)return t.equals(n);if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==n[r])return!1;return!0}}).call(this,{isBuffer:Qe});var un={};(function(e){var t=Object.prototype.toString,n="function"==typeof e.alloc&&"function"==typeof e.allocUnsafe&&"function"==typeof e.from;un=function(r,i,o){if("number"==typeof r)throw new TypeError('"value" argument must not be a number');return s=r,"ArrayBuffer"===t.call(s).slice(8,-1)?function(t,r,i){r>>>=0;var o=t.byteLength-r;if(o<0)throw new RangeError("'offset' is out of bounds");if(void 0===i)i=o;else if((i>>>=0)>o)throw new RangeError("'length' is out of bounds");return n?e.from(t.slice(r,r+i)):new e(new Uint8Array(t.slice(r,r+i)))}(r,i,o):"string"==typeof r?function(t,r){if("string"==typeof r&&""!==r||(r="utf8"),!e.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');return n?e.from(t,r):new e(t,r)}(r,i):n?e.from(r):new e(r);var s}}).call(this,v.Buffer);var hn={},fn=un([0]),cn=function e(t,n,r){if(!(this instanceof e))return new e(t,n,r);"function"==typeof t&&(r=n,n=t,t={}),Mt.Writable.call(this,t),this._worker=n,this._flush=r,this.destroyed=!1};Te(cn,Mt.Writable),cn.obj=function(e,t,n){return"function"==typeof e?cn.obj(null,e,t):(e||(e={}),e.objectMode=!0,new cn(e,t,n))},cn.prototype.end=function(e,t,n){return this._flush?"function"==typeof e?this.end(null,null,e):"function"==typeof t?this.end(e,null,t):(e&&this.write(e),this._writableState.ending||this.write(fn),Mt.Writable.prototype.end.call(this,n)):Mt.Writable.prototype.end.apply(this,arguments)},cn.prototype.destroy=function(e){this.destroyed||(this.destroyed=!0,e&&this.emit("error"),this.emit("close"))},cn.prototype._write=function(e,t,n){e===fn?this._flush(n):this._worker([e],n)},cn.prototype._writev=function(e,t){var n=e.length;if(e[e.length-1].chunk===fn&&(t=this._flusher(t),!--n))return t();for(var r=new Array(n),i=0;i<n;i++)r[i]=e[i].chunk;this._worker(r,t)},cn.prototype._flusher=function(e){var t=this;return function(n){if(n)return e(n);t._flush(e)}},hn=cn;var ln={};(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};ln=r;var n=e.from&&e.from!==Uint8Array.from?e.from:e;function r(e){if("object"===(void 0===e?"undefined":t(e))&&e&&e.encode&&e.decode)return e;switch(e){case"ndjson":return r.ndjson;case"json":return r.json;case"ascii":return r.ascii;case"utf-8":case"utf8":return r.utf8;case"hex":return r.hex;case"base64":return r.base64;case"ucs-2":case"ucs2":return r.ucs2;case"utf16-le":case"utf16le":return r.utf16le}return r.binary}function i(t){return{encode:t?function(t){return new e(JSON.stringify(t)+"\n")}:function(t){return new e(JSON.stringify(t))},decode:function(e){return JSON.parse(e.toString())}}}function o(e){return{encode:function(t){return"string"!=typeof t&&(t=t.toString()),n(t,e)},decode:function(t){return t.toString(e)}}}r.ascii=o("ascii"),r.utf8=o("utf-8"),r.hex=o("hex"),r.base64=o("base64"),r.ucs2=o("ucs2"),r.utf16le=o("utf16le"),r.ndjson=i(!0),r.json=i(!1),r.binary={encode:function(e){return"string"==typeof e?n(e,"utf-8"):e},decode:function(e){return e}}}).call(this,v.Buffer);var dn={};function pn(e){return e<31?1<<e:(1<<30)*(1<<e-30)}function gn(e){return(e-(1&e))/2}function yn(e){this.index=0,this.offset=0,this.factor=0}dn.fullRoots=function(e,t){if(1&e)throw new Error("You can only look up roots for depth(0) blocks");t||(t=[]),e/=2;for(var n=0,r=1;;){if(!e)return t;for(;2*r<=e;)r*=2;t.push(n+r-1),n+=2*r,e-=r,r=1}},dn.depth=function(e){var t=0;for(e+=1;!(1&e);)t++,e=gn(e);return t},dn.sibling=function(e,t){t||(t=dn.depth(e));var n=dn.offset(e,t);return dn.index(t,1&n?n-1:n+1)},dn.parent=function(e,t){t||(t=dn.depth(e));var n=dn.offset(e,t);return dn.index(t+1,gn(n))},dn.leftChild=function(e,t){return 1&e?(t||(t=dn.depth(e)),dn.index(t-1,2*dn.offset(e,t))):-1},dn.rightChild=function(e,t){return 1&e?(t||(t=dn.depth(e)),dn.index(t-1,1+2*dn.offset(e,t))):-1},dn.children=function(e,t){if(!(1&e))return null;t||(t=dn.depth(e));var n=2*dn.offset(e,t);return[dn.index(t-1,n),dn.index(t-1,n+1)]},dn.leftSpan=function(e,t){return 1&e?(t||(t=dn.depth(e)),dn.offset(e,t)*pn(t+1)):e},dn.rightSpan=function(e,t){return 1&e?(t||(t=dn.depth(e)),(dn.offset(e,t)+1)*pn(t+1)-2):e},dn.count=function(e,t){return 1&e?(t||(t=dn.depth(e)),pn(t+1)-1):1},dn.spans=function(e,t){if(!(1&e))return[e,e];t||(t=dn.depth(e));var n=dn.offset(e,t),r=pn(t+1);return[n*r,(n+1)*r-2]},dn.index=function(e,t){return(1+2*t)*pn(e)-1},dn.offset=function(e,t){return 1&e?(t||(t=dn.depth(e)),((e+1)/pn(t)-1)/2):e/2},dn.iterator=function(e){var t=new yn;return t.seek(e||0),t},yn.prototype.seek=function(e){this.index=e,1&this.index?(this.offset=dn.offset(e),this.factor=pn(dn.depth(e)+1)):(this.offset=e/2,this.factor=2)},yn.prototype.isLeft=function(){return!(1&this.offset)},yn.prototype.isRight=function(){return!this.isLeft()},yn.prototype.prev=function(){return this.offset?(this.offset--,this.index-=this.factor,this.index):this.index},yn.prototype.next=function(){return this.offset++,this.index+=this.factor,this.index},yn.prototype.sibling=function(){return this.isLeft()?this.next():this.prev()},yn.prototype.parent=function(){return 1&this.offset?(this.index-=this.factor/2,this.offset=(this.offset-1)/2):(this.index+=this.factor/2,this.offset/=2),this.factor*=2,this.index},yn.prototype.leftSpan=function(){return this.index=this.index-this.factor/2+1,this.offset=this.index/2,this.factor=2,this.index},yn.prototype.rightSpan=function(){return this.index=this.index+this.factor/2-1,this.offset=this.index/2,this.factor=2,this.index},yn.prototype.leftChild=function(){return 2===this.factor?this.index:(this.factor/=2,this.index-=this.factor/2,this.offset*=2,this.index)},yn.prototype.rightChild=function(){return 2===this.factor?this.index:(this.factor/=2,this.index+=this.factor/2,this.offset=2*this.offset+1,this.index)};var An={};(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=Mt.Readable;An=i,i.ctor=o,i.obj=function(e,t){return("function"==typeof e||Array.isArray(e))&&(t=e,e={}),(e=a(e)).objectMode=!0,e.highWaterMark=16,i(e,t)};var r=o();function i(e,n){("object"!==(void 0===e?"undefined":t(e))||Array.isArray(e))&&(n=e,e={});var i,o=new r(e);return o._from=Array.isArray(n)?(i=(i=n).slice(),function(e,t){var n=null,r=i.length?i.shift():null;r instanceof Error&&(n=r,r=null),t(n,r)}):n||s,o}function o(t,r){function i(e){if(!(this instanceof i))return new i(e);this._reading=!1,this._callback=function(e,t){if(!r.destroyed)return e?r.destroy(e):null===t?r.push(null):(r._reading=!1,void(r.push(t)&&r._read(o)))},this.destroyed=!1,n.call(this,e||t);var r=this,o=this._readableState.highWaterMark}return"function"==typeof t&&(r=t,t={}),t=a(t),Te(i,n),i.prototype._from=r||s,i.prototype._read=function(e){this._reading||this.destroyed||(this._reading=!0,this._from(e,this._callback))},i.prototype.destroy=function(t){if(!this.destroyed){this.destroyed=!0;var n=this;e.nextTick(function(){t&&n.emit("error",t),n.emit("close")})}},i}function s(){}function a(e){return e||{}}}).call(this,Fe);var vn={};function mn(e){if(!mn.supported)return null;var t,n=e&&e.imports,r=(t="AGFzbQEAAAABEANgAn9/AGADf39/AGABfwADBQQAAQICBQUBAQroBwdNBQZtZW1vcnkCAAxibGFrZTJiX2luaXQAAA5ibGFrZTJiX3VwZGF0ZQABDWJsYWtlMmJfZmluYWwAAhBibGFrZTJiX2NvbXByZXNzAAMK00AElgMAIABCADcDACAAQQhqQgA3AwAgAEEQakIANwMAIABBGGpCADcDACAAQSBqQgA3AwAgAEEoakIANwMAIABBMGpCADcDACAAQThqQgA3AwAgAEHAAGpCADcDACAAQcgAakIANwMAIABB0ABqQgA3AwAgAEHYAGpCADcDACAAQeAAakIANwMAIABB6ABqQgA3AwAgAEHwAGpCADcDACAAQfgAakIANwMAIABBgAFqQoiS853/zPmE6gBBACkDAIU3AwAgAEGIAWpCu86qptjQ67O7f0EIKQMAhTcDACAAQZABakKr8NP0r+68tzxBECkDAIU3AwAgAEGYAWpC8e30+KWn/aelf0EYKQMAhTcDACAAQaABakLRhZrv+s+Uh9EAQSApAwCFNwMAIABBqAFqQp/Y+dnCkdqCm39BKCkDAIU3AwAgAEGwAWpC6/qG2r+19sEfQTApAwCFNwMAIABBuAFqQvnC+JuRo7Pw2wBBOCkDAIU3AwAgAEHAAWpCADcDACAAQcgBakIANwMAIABB0AFqQgA3AwALbQEDfyAAQcABaiEDIABByAFqIQQgBCkDAKchBQJAA0AgASACRg0BIAVBgAFGBEAgAyADKQMAIAWtfDcDAEEAIQUgABADCyAAIAVqIAEtAAA6AAAgBUEBaiEFIAFBAWohAQwACwsgBCAFrTcDAAtkAQN/IABBwAFqIQEgAEHIAWohAiABIAEpAwAgAikDAHw3AwAgAEHQAWpCfzcDACACKQMApyEDAkADQCADQYABRg0BIAAgA2pBADoAACADQQFqIQMMAAsLIAIgA603AwAgABADC+U7AiB+CX8gAEGAAWohISAAQYgBaiEiIABBkAFqISMgAEGYAWohJCAAQaABaiElIABBqAFqISYgAEGwAWohJyAAQbgBaiEoICEpAwAhASAiKQMAIQIgIykDACEDICQpAwAhBCAlKQMAIQUgJikDACEGICcpAwAhByAoKQMAIQhCiJLznf/M+YTqACEJQrvOqqbY0Ouzu38hCkKr8NP0r+68tzwhC0Lx7fT4paf9p6V/IQxC0YWa7/rPlIfRACENQp/Y+dnCkdqCm38hDkLr+obav7X2wR8hD0L5wvibkaOz8NsAIRAgACkDACERIABBCGopAwAhEiAAQRBqKQMAIRMgAEEYaikDACEUIABBIGopAwAhFSAAQShqKQMAIRYgAEEwaikDACEXIABBOGopAwAhGCAAQcAAaikDACEZIABByABqKQMAIRogAEHQAGopAwAhGyAAQdgAaikDACEcIABB4ABqKQMAIR0gAEHoAGopAwAhHiAAQfAAaikDACEfIABB+ABqKQMAISAgDSAAQcABaikDAIUhDSAPIABB0AFqKQMAhSEPIAEgBSARfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBN8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAUfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgFXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBZ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAXfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBl8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAafHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgG3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBx8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAdfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHnx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB98fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAgfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgH3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBt8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAVfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBp8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAgfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggHnx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBd8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiASfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBF8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByATfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBh8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAWfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBx8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAZfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgHXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBF8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAWfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgE3x8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIICB8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAefHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgG3x8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB98fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAUfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgF3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBh8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCASfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgGnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBV8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAYfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgGnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBR8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiASfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgHnx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIB18fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAcfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggH3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBN8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAXfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgFnx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBt8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAVfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggEXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFICB8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAZfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgGnx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBF8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAWfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGHx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBN8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAVfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggG3x8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIICB8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAffHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgEnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBx8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAdfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggF3x8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBl8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAUfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgHnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBN8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAdfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgF3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBt8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByARfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBl8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAUfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgFXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB58fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAYfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgFnx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIICB8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAffHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgEnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBp8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAdfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgFnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBJ8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAgfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgH3x8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIB58fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAVfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggG3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBF8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAYfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgF3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBR8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAafHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggE3x8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBl8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAcfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgHnx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBx8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAYfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgH3x8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIB18fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByASfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggFHx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBp8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAWfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgEXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHICB8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAVfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggGXx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBd8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSATfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgG3x8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBd8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAgfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgH3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBp8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAcfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgFHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBF8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAZfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgHXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBN8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAefHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgGHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBJ8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAVfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgG3x8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBZ8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAbfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgE3x8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBl8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAVfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgGHx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBd8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCASfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggFnx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGICB8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAcfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgGnx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIB98fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAUfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB58fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSARfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgEXx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBJ8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiATfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgFHx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBV8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAWfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggF3x8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBh8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAZfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgGnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBt8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAcfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHXx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIB58fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAffHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgIHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIB98fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAbfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgFXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBl8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAafHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgIHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIB58fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAXfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgEnx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB18fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByARfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgE3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBx8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAYfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgFnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBR8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFICEgISkDACABIAmFhTcDACAiICIpAwAgAiAKhYU3AwAgIyAjKQMAIAMgC4WFNwMAICQgJCkDACAEIAyFhTcDACAlICUpAwAgBSANhYU3AwAgJiAmKQMAIAYgDoWFNwMAICcgJykDACAHIA+FhTcDACAoICgpAwAgCCAQhYU3AwAL","function"==typeof atob?new Uint8Array(atob(t).split("").map(bn)):new v.Buffer(t,"base64")),i=null,o={buffer:r,memory:null,exports:null,realloc:function(e){o.exports.memory.grow(Math.ceil(Math.abs(e-o.memory.length)/65536)),o.memory=new Uint8Array(o.exports.memory.buffer)},onload:s};return s(function(){}),o;function s(t){if(o.exports)return t();if(i)i.then(t.bind(null,null)).catch(t);else{try{if(e&&e.async)throw new Error("async");a({instance:new WebAssembly.Instance(new WebAssembly.Module(r),n)})}catch(Pl){i=WebAssembly.instantiate(r,n).then(a)}s(t)}}function a(e){o.exports=e.instance.exports,o.memory=o.exports.memory&&o.exports.memory.buffer&&new Uint8Array(o.exports.memory.buffer)}}function bn(e){return e.charCodeAt(0)}vn=mn,mn.supported="undefined"!=typeof WebAssembly;function _n(e,t){if(!e)throw new Error(t||"AssertionError")}_n.notEqual=function(e,t,n){},_n.notOk=function(e,t){},_n.equal=function(e,t,n){},_n.ok=_n;var wn={},In=vn(),En=64,Cn=[];function Sn(e,t,n,r,i){if(!(this instanceof Sn))return new Sn(e,t,n,r,i);if(!In||!In.exports)throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");e||(e=32),Cn.length||(Cn.push(En),En+=216),this.digestLength=e,this.finalized=!1,this.pointer=Cn.pop(),In.memory.fill(0,0,64),In.memory[0]=this.digestLength,In.memory[1]=t?t.length:0,In.memory[2]=1,In.memory[3]=1,n&&In.memory.set(n,32),r&&In.memory.set(r,48),this.pointer+216>In.memory.length&&In.realloc(this.pointer+216),In.exports.blake2b_init(this.pointer,this.digestLength),t&&(this.update(t),In.memory.fill(0,En,En+t.length),In.memory[this.pointer+200]=128)}function kn(){}(wn=Sn).BYTES_MIN=16,wn.BYTES_MAX=64,wn.BYTES=32,wn.KEYBYTES_MIN=16,wn.KEYBYTES_MAX=64,wn.KEYBYTES=32,wn.SALTBYTES=16,wn.PERSONALBYTES=16,Sn.prototype.update=function(e){return En+e.length>In.memory.length&&In.realloc(En+e.length),In.memory.set(e,En),In.exports.blake2b_update(this.pointer,En,En+e.length),this},Sn.prototype.digest=function(e){if(this.finalized=!0,Cn.push(this.pointer),In.exports.blake2b_final(this.pointer),!e||"binary"===e)return In.memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if("hex"===e)return function(e,t,n){for(var r="",i=0;i<n;i++)r+=(o=e[t+i])<16?"0"+o.toString(16):o.toString(16);var o;return r}(In.memory,this.pointer+128,this.digestLength);for(var t=0;t<this.digestLength;t++)e[t]=In.memory[this.pointer+128+t];return e},Sn.prototype.final=Sn.prototype.digest,Sn.WASM=In&&In.buffer,Sn.SUPPORTED="undefined"!=typeof WebAssembly,Sn.ready=function(e){return e||(e=kn),In?new Promise(function(t,n){In.onload(function(r){r?n():t(),e(r)})}):e(new Error("WebAssembly not supported"))},Sn.prototype.ready=Sn.ready;var Bn;function xn(e,t,n){var r=e[t]+e[n],i=e[t+1]+e[n+1];r>=4294967296&&i++,e[t]=r,e[t+1]=i}function Mn(e,t,n,r){var i=e[t]+n;n<0&&(i+=4294967296);var o=e[t+1]+r;i>=4294967296&&o++,e[t]=i,e[t+1]=o}function Dn(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function Qn(e,t,n,r,i,o){var s=Un[i],a=Un[i+1],u=Un[o],h=Un[o+1];xn(Ln,e,t),Mn(Ln,e,s,a);var f=Ln[r]^Ln[e],c=Ln[r+1]^Ln[e+1];Ln[r]=c,Ln[r+1]=f,xn(Ln,n,r),f=Ln[t]^Ln[n],c=Ln[t+1]^Ln[n+1],Ln[t]=f>>>24^c<<8,Ln[t+1]=c>>>24^f<<8,xn(Ln,e,t),Mn(Ln,e,u,h),f=Ln[r]^Ln[e],c=Ln[r+1]^Ln[e+1],Ln[r]=f>>>16^c<<16,Ln[r+1]=c>>>16^f<<16,xn(Ln,n,r),f=Ln[t]^Ln[n],c=Ln[t+1]^Ln[n+1],Ln[t]=c>>>31^f<<1,Ln[t+1]=f>>>31^c<<1}var On=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Tn=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map(function(e){return 2*e})),Ln=new Uint32Array(32),Un=new Uint32Array(32);function Fn(e,t){var n=0;for(n=0;n<16;n++)Ln[n]=e.h[n],Ln[n+16]=On[n];for(Ln[24]=Ln[24]^e.t,Ln[25]=Ln[25]^e.t/4294967296,t&&(Ln[28]=~Ln[28],Ln[29]=~Ln[29]),n=0;n<32;n++)Un[n]=Dn(e.b,4*n);for(n=0;n<12;n++)Qn(0,8,16,24,Tn[16*n+0],Tn[16*n+1]),Qn(2,10,18,26,Tn[16*n+2],Tn[16*n+3]),Qn(4,12,20,28,Tn[16*n+4],Tn[16*n+5]),Qn(6,14,22,30,Tn[16*n+6],Tn[16*n+7]),Qn(0,10,20,30,Tn[16*n+8],Tn[16*n+9]),Qn(2,12,22,24,Tn[16*n+10],Tn[16*n+11]),Qn(4,14,16,26,Tn[16*n+12],Tn[16*n+13]),Qn(6,8,18,28,Tn[16*n+14],Tn[16*n+15]);for(n=0;n<16;n++)e.h[n]=e.h[n]^Ln[n]^Ln[n+16]}var Nn=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function Yn(e,t,n,r){Nn.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=e,Nn[0]=e,t&&(Nn[1]=t.length),Nn[2]=1,Nn[3]=1,n&&Nn.set(n,32),r&&Nn.set(r,48);for(var i=0;i<16;i++)this.h[i]=On[i]^Dn(Nn,4*i);t&&(Rn(this,t),this.c=128)}function Rn(e,t){for(var n=0;n<t.length;n++)128===e.c&&(e.t+=e.c,Fn(e,!1),e.c=0),e.b[e.c++]=t[n]}Yn.prototype.update=function(e){return Rn(this,e),this},Yn.prototype.digest=function(e){var t=e&&"binary"!==e&&"hex"!==e?e:new Uint8Array(this.outlen);return function(e,t){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;Fn(e,!0);for(var n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(3&n)}(this,t),"hex"===e?function(e){for(var t="",n=0;n<e.length;n++)t+=(r=e[n])<16?"0"+r.toString(16):r.toString(16);var r;return t}(t):t},Yn.prototype.final=Yn.prototype.digest,Yn.ready=function(e){wn.ready(function(){e()})};var Kn=Yn;(Bn=function(e,t,n,r,i){return new Kn(e,t,n,r)}).ready=function(e){wn.ready(function(){e()})},Bn.WASM_SUPPORTED=wn.SUPPORTED,Bn.WASM_LOADED=!1,Bn.BYTES_MIN=16,Bn.BYTES_MAX=64,Bn.BYTES=32,Bn.KEYBYTES_MIN=16,Bn.KEYBYTES_MAX=64,Bn.KEYBYTES=32,Bn.SALTBYTES=16,Bn.PERSONALBYTES=16,wn.ready(function(e){e||(Bn.WASM_LOADED=!0,Kn=wn)});var Pn={crypto_generichash_PRIMITIVE:"blake2b"};Pn.crypto_generichash_BYTES_MIN=Bn.BYTES_MIN,Pn.crypto_generichash_BYTES_MAX=Bn.BYTES_MAX,Pn.crypto_generichash_BYTES=Bn.BYTES,Pn.crypto_generichash_KEYBYTES_MIN=Bn.KEYBYTES_MIN,Pn.crypto_generichash_KEYBYTES_MAX=Bn.KEYBYTES_MAX,Pn.crypto_generichash_KEYBYTES=Bn.KEYBYTES,Pn.crypto_generichash_WASM_SUPPORTED=Bn.WASM_SUPPORTED,Pn.crypto_generichash_WASM_LOADED=!1,Pn.crypto_generichash=function(e,t,n){Bn(e.length,n).update(t).final(e)},Pn.crypto_generichash_ready=Bn.ready,Pn.crypto_generichash_batch=function(e,t,n){for(var r=Bn(e.length,n),i=0;i<t.length;i++)r.update(t[i]);r.final(e)},Pn.crypto_generichash_instance=function(e,t){return null==t&&(t=Pn.crypto_generichash_BYTES),Bn(t,e)},Bn.ready(function(e){Pn.crypto_generichash_WASM_LOADED=Bn.WASM_LOADED});var jn={};(function(e){var t,n=(t=void 0!==e?t=e.crypto||e.msCrypto:null)&&t.getRandomValues?function(e,n){for(var r=0;r<n;r+=65536)t.getRandomValues(e.subarray(r,r+Math.min(n-r,65536)))}:"undefined"!=typeof require&&(t=Xe)&&t.randomBytes?function(e,n){e.set(t.randomBytes(n))}:function(){throw new Error("No secure random number generator available")};Object.defineProperty(jn,"randombytes",{value:n}),jn.randombytes_buf=function(e){n(e,e.length)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Hn={},Wn=jn.randombytes_buf;function Gn(e,t){var n=e.l+t.l,r={h:e.h+t.h+(n/2>>>31)>>>0,l:n>>>0};e.h=r.h,e.l=r.l}function Vn(e,t){e.h^=t.h,e.h>>>=0,e.l^=t.l,e.l>>>=0}function zn(e,t){var n={h:e.h<<t|e.l>>>32-t,l:e.l<<t|e.h>>>32-t};e.h=n.h,e.l=n.l}function qn(e){var t=e.l;e.l=e.h,e.h=t}function Jn(e,t,n,r){Gn(e,t),Gn(n,r),zn(t,13),zn(r,16),Vn(t,e),Vn(r,n),qn(e),Gn(n,t),Gn(e,r),zn(t,17),zn(r,21),Vn(t,n),Vn(r,e),qn(n)}function Xn(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}Hn.crypto_kdf_PRIMITIVE="blake2b",Hn.crypto_kdf_BYTES_MIN=16,Hn.crypto_kdf_BYTES_MAX=64,Hn.crypto_kdf_CONTEXTBYTES=8,Hn.crypto_kdf_KEYBYTES=32,Hn.crypto_kdf_derive_from_key=function(e,t,n,r){var i=new Uint8Array(Bn.PERSONALBYTES),o=new Uint8Array(Bn.SALTBYTES);i.set(n,0,Hn.crypto_kdf_CONTEXTBYTES),function(e,t){var n=1,r=0;for(e[0]=255&t;++r<8&&(n*=256);)e[r]=t/n&255}(o,t);var s=Math.min(e.length,Hn.crypto_kdf_BYTES_MAX);Bn(s,r.subarray(0,Hn.crypto_kdf_KEYBYTES),o,i).final(e)},Hn.crypto_kdf_keygen=function(e){Wn(e.subarray(0,Hn.crypto_kdf_KEYBYTES))};var Zn=function(e,t,n){var r,i={h:Xn(n,4),l:Xn(n,0)},o={h:Xn(n,12),l:Xn(n,8)},s={h:i.h,l:i.l},a=i,u={h:o.h,l:o.l},h=o,f=0,c=t.length,l=c-7,d=new Uint8Array(new ArrayBuffer(8));for(Vn(s,{h:1936682341,l:1886610805}),Vn(u,{h:1685025377,l:1852075885}),Vn(a,{h:1819895653,l:1852142177}),Vn(h,{h:1952801890,l:2037671283});f<l;)Vn(h,r={h:Xn(t,f+4),l:Xn(t,f)}),Jn(s,u,a,h),Jn(s,u,a,h),Vn(s,r),f+=8;d[7]=c;for(var p=0;f<c;)d[p++]=t[f++];for(;p<7;)d[p++]=0;Vn(h,r={h:d[7]<<24|d[6]<<16|d[5]<<8|d[4],l:d[3]<<24|d[2]<<16|d[1]<<8|d[0]}),Jn(s,u,a,h),Jn(s,u,a,h),Vn(s,r),Vn(a,{h:0,l:255}),Jn(s,u,a,h),Jn(s,u,a,h),Jn(s,u,a,h),Jn(s,u,a,h);var g=s;Vn(g,u),Vn(g,a),Vn(g,h),e[0]=255&g.l,e[1]=g.l>>8&255,e[2]=g.l>>16&255,e[3]=g.l>>24&255,e[4]=255&g.h,e[5]=g.h>>8&255,e[6]=g.h>>16&255,e[7]=g.h>>24&255},$n={};function er(e){if(!er.supported)return null;var t,n=e&&e.imports,r=(t="AGFzbQEAAAABBgFgAn9/AAMCAQAFBQEBCpBOBxQCBm1lbW9yeQIAB3NpcGhhc2gAAArdCAHaCAIIfgJ/QvXKzYPXrNu38wAhAkLt3pHzlszct+QAIQNC4eSV89bs2bzsACEEQvPK0cunjNmy9AAhBUEIKQMAIQdBECkDACEIIAGtQjiGIQYgAUEHcSELIAAgAWogC2shCiAFIAiFIQUgBCAHhSEEIAMgCIUhAyACIAeFIQICQANAIAAgCkYNASAAKQMAIQkgBSAJhSEFIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAmFIQIgAEEIaiEADAALCwJAAkACQAJAAkACQAJAAkAgCw4HBwYFBAMCAQALIAYgADEABkIwhoQhBgsgBiAAMQAFQiiGhCEGCyAGIAAxAARCIIaEIQYLIAYgADEAA0IYhoQhBgsgBiAAMQACQhCGhCEGCyAGIAAxAAFCCIaEIQYLIAYgADEAAIQhBgsgBSAGhSEFIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAaFIQIgBEL/AYUhBCACIAN8IQIgA0INiSEDIAMgAoUhAyACQiCJIQIgBCAFfCEEIAVCEIkhBSAFIASFIQUgAiAFfCECIAVCFYkhBSAFIAKFIQUgBCADfCEEIANCEYkhAyADIASFIQMgBEIgiSEEIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAN8IQIgA0INiSEDIAMgAoUhAyACQiCJIQIgBCAFfCEEIAVCEIkhBSAFIASFIQUgAiAFfCECIAVCFYkhBSAFIAKFIQUgBCADfCEEIANCEYkhAyADIASFIQMgBEIgiSEEQQAgAiADIAQgBYWFhTcDAAs=","function"==typeof atob?new Uint8Array(atob(t).split("").map(tr)):new v.Buffer(t,"base64")),i=null,o={buffer:r,memory:null,exports:null,realloc:function(e){o.exports.memory.grow(Math.max(0,Math.ceil(Math.abs(e-o.memory.length)/65536))),o.memory=new Uint8Array(o.exports.memory.buffer)},onload:s};return s(function(){}),o;function s(t){if(o.exports)return t();if(i)i.then(t.bind(null,null)).catch(t);else{try{if(e&&e.async)throw new Error("async");a({instance:new WebAssembly.Instance(new WebAssembly.Module(r),n)})}catch(Pl){i=WebAssembly.instantiate(r,n).then(a)}s(t)}}function a(e){o.exports=e.instance.exports,o.memory=o.exports.memory&&o.exports.memory.buffer&&new Uint8Array(o.exports.memory.buffer)}}function tr(e){return e.charCodeAt(0)}$n=er,er.supported="undefined"!=typeof WebAssembly;var nr=ir;ir.BYTES=8,ir.KEYBYTES=16;var rr=$n();function ir(e,t,n,r){return n||(n=new Uint8Array(8)),rr&&rr.exports?(e.length+24>rr.memory.length&&rr.realloc(e.length+24),rr.memory.set(t,8),rr.memory.set(e,24),rr.exports.siphash(24,e.length),n.set(rr.memory.subarray(0,8))):Zn(n,e,t),n}ir.WASM_SUPPORTED="undefined"!=typeof WebAssembly,ir.WASM_LOADED=!1,rr&&rr.onload(function(e){ir.WASM_LOADED=!e});var or={crypto_shorthash_PRIMITIVE:"siphash24"};or.crypto_shorthash_BYTES=nr.BYTES,or.crypto_shorthash_KEYBYTES=nr.KEYBYTES,or.crypto_shorthash_WASM_SUPPORTED=nr.WASM_SUPPORTED,or.crypto_shorthash_WASM_LOADED=nr.WASM_LOADED,or.crypto_shorthash=function(e,t,n,r){nr(t,n,e,r)};var sr={};function ar(e){if(!ar.supported)return null;var t,n=e&&e.imports,r=(t="AGFzbQEAAAABGgNgBn9/f39/fwBgBn9/f39+fwF+YAN/f38AAwcGAAEBAgICBQUBAQroBwcoAwZtZW1vcnkCAAx4c2Fsc2EyMF94b3IAAAxjb3JlX3NhbHNhMjAABArqEQYYACAAIAEgAiADIAQgACkDACAFEAE3AwALPQBB8AAgAyAFEAMgACABIAIgA0EQaiAEQfAAEAJB8ABCADcDAEH4AEIANwMAQYABQgA3AwBBiAFCADcDAAuHBQEBfyACQQBGBEBCAA8LQdAAIAUpAwA3AwBB2AAgBUEIaikDADcDAEHgACAFQRBqKQMANwMAQegAIAVBGGopAwA3AwBBACADKQMANwMAQQggBDcDAAJAA0AgAkHAAEkNAUEQQQBB0AAQBSAAIAEpAwBBECkDAIU3AwAgAEEIaiABQQhqKQMAQRgpAwCFNwMAIABBEGogAUEQaikDAEEgKQMAhTcDACAAQRhqIAFBGGopAwBBKCkDAIU3AwAgAEEgaiABQSBqKQMAQTApAwCFNwMAIABBKGogAUEoaikDAEE4KQMAhTcDACAAQTBqIAFBMGopAwBBwAApAwCFNwMAIABBOGogAUE4aikDAEHIACkDAIU3AwBBCEEIKQMAQgF8NwMAIABBwABqIQAgAUHAAGohASACQcAAayECDAALC0EIKQMAIQQgAkEASwRAQRBBAEHQABAFAkACQAJAAkACQAJAAkACQCACQQhuDgcHBgUEAwIBAAsgAEE4aiABQThqKQMAQcgAKQMAhTcDAAsgAEEwaiABQTBqKQMAQcAAKQMAhTcDAAsgAEEoaiABQShqKQMAQTgpAwCFNwMACyAAQSBqIAFBIGopAwBBMCkDAIU3AwALIABBGGogAUEYaikDAEEoKQMAhTcDAAsgAEEQaiABQRBqKQMAQSApAwCFNwMACyAAQQhqIAFBCGopAwBBGCkDAIU3AwALIAAgASkDAEEQKQMAhTcDAAtBEEIANwMAQRhCADcDAEEgQgA3AwBBKEIANwMAQTBCADcDAEE4QgA3AwBBwABCADcDAEHIAEIANwMAQdAAQgA3AwBB2ABCADcDAEHgAEIANwMAQegAQgA3AwAgBA8LnQUBEX9B5fDBiwYhA0HuyIGZAyEIQbLaiMsHIQ1B9MqB2QYhEiACKAIAIQQgAkEEaigCACEFIAJBCGooAgAhBiACQQxqKAIAIQcgAkEQaigCACEOIAJBFGooAgAhDyACQRhqKAIAIRAgAkEcaigCACERIAEoAgAhCSABQQRqKAIAIQogAUEIaigCACELIAFBDGooAgAhDEEUIRMCQANAIBNBAEYNASAHIAMgD2pBB3dzIQcgCyAHIANqQQl3cyELIA8gCyAHakENd3MhDyADIA8gC2pBEndzIQMgDCAIIARqQQd3cyEMIBAgDCAIakEJd3MhECAEIBAgDGpBDXdzIQQgCCAEIBBqQRJ3cyEIIBEgDSAJakEHd3MhESAFIBEgDWpBCXdzIQUgCSAFIBFqQQ13cyEJIA0gCSAFakESd3MhDSAGIBIgDmpBB3dzIQYgCiAGIBJqQQl3cyEKIA4gCiAGakENd3MhDiASIA4gCmpBEndzIRIgBCADIAZqQQd3cyEEIAUgBCADakEJd3MhBSAGIAUgBGpBDXdzIQYgAyAGIAVqQRJ3cyEDIAkgCCAHakEHd3MhCSAKIAkgCGpBCXdzIQogByAKIAlqQQ13cyEHIAggByAKakESd3MhCCAOIA0gDGpBB3dzIQ4gCyAOIA1qQQl3cyELIAwgCyAOakENd3MhDCANIAwgC2pBEndzIQ0gDyASIBFqQQd3cyEPIBAgDyASakEJd3MhECARIBAgD2pBDXdzIREgEiARIBBqQRJ3cyESIBNBAmshEwwACwsgACADNgIAIABBBGogCDYCACAAQQhqIA02AgAgAEEMaiASNgIAIABBEGogCTYCACAAQRRqIAo2AgAgAEEYaiALNgIAIABBHGogDDYCAAsKACAAIAEgAhAFC90GASF/QeXwwYsGIQNB7siBmQMhCEGy2ojLByENQfTKgdkGIRIgAigCACEEIAJBBGooAgAhBSACQQhqKAIAIQYgAkEMaigCACEHIAJBEGooAgAhDiACQRRqKAIAIQ8gAkEYaigCACEQIAJBHGooAgAhESABKAIAIQkgAUEEaigCACEKIAFBCGooAgAhCyABQQxqKAIAIQwgAyETIAQhFCAFIRUgBiEWIAchFyAIIRggCSEZIAohGiALIRsgDCEcIA0hHSAOIR4gDyEfIBAhICARISEgEiEiQRQhIwJAA0AgI0EARg0BIAcgAyAPakEHd3MhByALIAcgA2pBCXdzIQsgDyALIAdqQQ13cyEPIAMgDyALakESd3MhAyAMIAggBGpBB3dzIQwgECAMIAhqQQl3cyEQIAQgECAMakENd3MhBCAIIAQgEGpBEndzIQggESANIAlqQQd3cyERIAUgESANakEJd3MhBSAJIAUgEWpBDXdzIQkgDSAJIAVqQRJ3cyENIAYgEiAOakEHd3MhBiAKIAYgEmpBCXdzIQogDiAKIAZqQQ13cyEOIBIgDiAKakESd3MhEiAEIAMgBmpBB3dzIQQgBSAEIANqQQl3cyEFIAYgBSAEakENd3MhBiADIAYgBWpBEndzIQMgCSAIIAdqQQd3cyEJIAogCSAIakEJd3MhCiAHIAogCWpBDXdzIQcgCCAHIApqQRJ3cyEIIA4gDSAMakEHd3MhDiALIA4gDWpBCXdzIQsgDCALIA5qQQ13cyEMIA0gDCALakESd3MhDSAPIBIgEWpBB3dzIQ8gECAPIBJqQQl3cyEQIBEgECAPakENd3MhESASIBEgEGpBEndzIRIgI0ECayEjDAALCyAAIAMgE2o2AgAgAEEEaiAEIBRqNgIAIABBCGogBSAVajYCACAAQQxqIAYgFmo2AgAgAEEQaiAHIBdqNgIAIABBFGogCCAYajYCACAAQRhqIAkgGWo2AgAgAEEcaiAKIBpqNgIAIABBIGogCyAbajYCACAAQSRqIAwgHGo2AgAgAEEoaiANIB1qNgIAIABBLGogDiAeajYCACAAQTBqIA8gH2o2AgAgAEE0aiAQICBqNgIAIABBOGogESAhajYCACAAQTxqIBIgImo2AgAL","function"==typeof atob?new Uint8Array(atob(t).split("").map(ur)):new v.Buffer(t,"base64")),i=null,o={buffer:r,memory:null,exports:null,realloc:function(e){o.exports.memory.grow(Math.ceil(Math.abs(e-o.memory.length)/65536)),o.memory=new Uint8Array(o.exports.memory.buffer)},onload:s};return s(function(){}),o;function s(t){if(o.exports)return t();if(i)i.then(t.bind(null,null)).catch(t);else{try{if(e&&e.async)throw new Error("async");a({instance:new WebAssembly.Instance(new WebAssembly.Module(r),n)})}catch(Pl){i=WebAssembly.instantiate(r,n).then(a)}s(t)}}function a(e){o.exports=e.instance.exports,o.memory=o.exports.memory&&o.exports.memory.buffer&&new Uint8Array(o.exports.memory.buffer)}}function ur(e){return e.charCodeAt(0)}sr=ar,ar.supported="undefined"!=typeof WebAssembly;var hr={},fr=sr(),cr=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]),lr=144,dr=lr,pr=[];function gr(e,t){if(!(this instanceof gr))return new gr(e,t);if(!e||e.length<24)throw new Error("nonce must be at least 24 bytes");if(!t||t.length<32)throw new Error("key must be at least 32 bytes");this._xor=fr&&fr.exports?new yr(e,t):new Ar(e,t)}function yr(e,t){pr.length||(pr.push(lr),lr+=64),this._pointer=pr.pop(),this._nonce=this._pointer+8,this._key=this._nonce+24,this._overflow=0,fr.memory.fill(0,this._pointer,this._pointer+8),fr.memory.set(e,this._nonce),fr.memory.set(t,this._key)}function Ar(e,t){this._s=new Uint8Array(32),this._z=new Uint8Array(16),this._overflow=0,function(e,t,n,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,u=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,h=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,f=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,l=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,g=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,y=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,A=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,v=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,m=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,b=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,_=0;_<20;_+=2)o^=(i=(A^=(i=(d^=(i=(h^=(i=o+A|0)<<7|i>>>25)+o|0)<<9|i>>>23)+h|0)<<13|i>>>19)+d|0)<<18|i>>>14,f^=(i=(s^=(i=(v^=(i=(p^=(i=f+s|0)<<7|i>>>25)+f|0)<<9|i>>>23)+p|0)<<13|i>>>19)+v|0)<<18|i>>>14,g^=(i=(c^=(i=(a^=(i=(m^=(i=g+c|0)<<7|i>>>25)+g|0)<<9|i>>>23)+m|0)<<13|i>>>19)+a|0)<<18|i>>>14,b^=(i=(y^=(i=(l^=(i=(u^=(i=b+y|0)<<7|i>>>25)+b|0)<<9|i>>>23)+u|0)<<13|i>>>19)+l|0)<<18|i>>>14,o^=(i=(u^=(i=(a^=(i=(s^=(i=o+u|0)<<7|i>>>25)+o|0)<<9|i>>>23)+s|0)<<13|i>>>19)+a|0)<<18|i>>>14,f^=(i=(h^=(i=(l^=(i=(c^=(i=f+h|0)<<7|i>>>25)+f|0)<<9|i>>>23)+c|0)<<13|i>>>19)+l|0)<<18|i>>>14,g^=(i=(p^=(i=(d^=(i=(y^=(i=g+p|0)<<7|i>>>25)+g|0)<<9|i>>>23)+y|0)<<13|i>>>19)+d|0)<<18|i>>>14,b^=(i=(m^=(i=(v^=(i=(A^=(i=b+m|0)<<7|i>>>25)+b|0)<<9|i>>>23)+A|0)<<13|i>>>19)+v|0)<<18|i>>>14;e[0]=o>>>0&255,e[1]=o>>>8&255,e[2]=o>>>16&255,e[3]=o>>>24&255,e[4]=f>>>0&255,e[5]=f>>>8&255,e[6]=f>>>16&255,e[7]=f>>>24&255,e[8]=g>>>0&255,e[9]=g>>>8&255,e[10]=g>>>16&255,e[11]=g>>>24&255,e[12]=b>>>0&255,e[13]=b>>>8&255,e[14]=b>>>16&255,e[15]=b>>>24&255,e[16]=c>>>0&255,e[17]=c>>>8&255,e[18]=c>>>16&255,e[19]=c>>>24&255,e[20]=l>>>0&255,e[21]=l>>>8&255,e[22]=l>>>16&255,e[23]=l>>>24&255,e[24]=d>>>0&255,e[25]=d>>>8&255,e[26]=d>>>16&255,e[27]=d>>>24&255,e[28]=p>>>0&255,e[29]=p>>>8&255,e[30]=p>>>16&255,e[31]=p>>>24&255}(this._s,e,t,cr);for(var n=0;n<8;n++)this._z[n]=e[n+16]}function vr(e,t,n,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,u=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,h=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,f=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,l=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,g=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,y=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,A=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,v=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,m=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,b=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,_=o,w=s,I=a,E=u,C=h,S=f,k=c,B=l,x=d,M=p,D=g,Q=y,O=A,T=v,L=m,U=b,F=0;F<20;F+=2)_^=(i=(O^=(i=(x^=(i=(C^=(i=_+O|0)<<7|i>>>25)+_|0)<<9|i>>>23)+C|0)<<13|i>>>19)+x|0)<<18|i>>>14,S^=(i=(w^=(i=(T^=(i=(M^=(i=S+w|0)<<7|i>>>25)+S|0)<<9|i>>>23)+M|0)<<13|i>>>19)+T|0)<<18|i>>>14,D^=(i=(k^=(i=(I^=(i=(L^=(i=D+k|0)<<7|i>>>25)+D|0)<<9|i>>>23)+L|0)<<13|i>>>19)+I|0)<<18|i>>>14,U^=(i=(Q^=(i=(B^=(i=(E^=(i=U+Q|0)<<7|i>>>25)+U|0)<<9|i>>>23)+E|0)<<13|i>>>19)+B|0)<<18|i>>>14,_^=(i=(E^=(i=(I^=(i=(w^=(i=_+E|0)<<7|i>>>25)+_|0)<<9|i>>>23)+w|0)<<13|i>>>19)+I|0)<<18|i>>>14,S^=(i=(C^=(i=(B^=(i=(k^=(i=S+C|0)<<7|i>>>25)+S|0)<<9|i>>>23)+k|0)<<13|i>>>19)+B|0)<<18|i>>>14,D^=(i=(M^=(i=(x^=(i=(Q^=(i=D+M|0)<<7|i>>>25)+D|0)<<9|i>>>23)+Q|0)<<13|i>>>19)+x|0)<<18|i>>>14,U^=(i=(L^=(i=(T^=(i=(O^=(i=U+L|0)<<7|i>>>25)+U|0)<<9|i>>>23)+O|0)<<13|i>>>19)+T|0)<<18|i>>>14;_=_+o|0,w=w+s|0,I=I+a|0,E=E+u|0,C=C+h|0,S=S+f|0,k=k+c|0,B=B+l|0,x=x+d|0,M=M+p|0,D=D+g|0,Q=Q+y|0,O=O+A|0,T=T+v|0,L=L+m|0,U=U+b|0,e[0]=_>>>0&255,e[1]=_>>>8&255,e[2]=_>>>16&255,e[3]=_>>>24&255,e[4]=w>>>0&255,e[5]=w>>>8&255,e[6]=w>>>16&255,e[7]=w>>>24&255,e[8]=I>>>0&255,e[9]=I>>>8&255,e[10]=I>>>16&255,e[11]=I>>>24&255,e[12]=E>>>0&255,e[13]=E>>>8&255,e[14]=E>>>16&255,e[15]=E>>>24&255,e[16]=C>>>0&255,e[17]=C>>>8&255,e[18]=C>>>16&255,e[19]=C>>>24&255,e[20]=S>>>0&255,e[21]=S>>>8&255,e[22]=S>>>16&255,e[23]=S>>>24&255,e[24]=k>>>0&255,e[25]=k>>>8&255,e[26]=k>>>16&255,e[27]=k>>>24&255,e[28]=B>>>0&255,e[29]=B>>>8&255,e[30]=B>>>16&255,e[31]=B>>>24&255,e[32]=x>>>0&255,e[33]=x>>>8&255,e[34]=x>>>16&255,e[35]=x>>>24&255,e[36]=M>>>0&255,e[37]=M>>>8&255,e[38]=M>>>16&255,e[39]=M>>>24&255,e[40]=D>>>0&255,e[41]=D>>>8&255,e[42]=D>>>16&255,e[43]=D>>>24&255,e[44]=Q>>>0&255,e[45]=Q>>>8&255,e[46]=Q>>>16&255,e[47]=Q>>>24&255,e[48]=O>>>0&255,e[49]=O>>>8&255,e[50]=O>>>16&255,e[51]=O>>>24&255,e[52]=T>>>0&255,e[53]=T>>>8&255,e[54]=T>>>16&255,e[55]=T>>>24&255,e[56]=L>>>0&255,e[57]=L>>>8&255,e[58]=L>>>16&255,e[59]=L>>>24&255,e[60]=U>>>0&255,e[61]=U>>>8&255,e[62]=U>>>16&255,e[63]=U>>>24&255}hr=gr,gr.NONCEBYTES=24,gr.KEYBYTES=32,gr.prototype.update=function(e,t){if(!e)throw new Error("input must be Uint8Array or Buffer");return t||(t=new Uint8Array(e.length)),e.length&&this._xor.update(e,t),t},gr.prototype.final=gr.prototype.finalize=function(){this._xor.finalize(),this._xor=null},yr.prototype.update=function(e,t){var n=this._overflow+e.length,r=lr+this._overflow;(dr=lr+n)>=fr.memory.length&&fr.realloc(dr),fr.memory.set(e,r),fr.exports.xsalsa20_xor(this._pointer,lr,lr,n,this._nonce,this._key),t.set(fr.memory.subarray(r,lr+n)),this._overflow=63&n},yr.prototype.finalize=function(){fr.memory.fill(0,this._pointer,this._key+32),dr>lr&&(fr.memory.fill(0,lr,dr),dr=0),pr.push(this._pointer)},Ar.prototype.update=function(e,t){for(var n=new Uint8Array(64),r=0,i=this._overflow,o=e.length+this._overflow,s=this._z,a=-this._overflow,u=-this._overflow;o>=64;){for(vr(n,s,this._s,cr);i<64;i++)t[u+i]=e[a+i]^n[i];for(r=1,i=8;i<16;i++)r+=255&s[i]|0,s[i]=255&r,r>>>=8;o-=64,u+=64,a+=64,i=0}if(o>0)for(vr(n,s,this._s,cr);i<o;i++)t[u+i]=e[a+i]^n[i];this._overflow=63&o},Ar.prototype.finalize=function(){this._s.fill(0),this._z.fill(0)};var mr={};function br(e,t){this._instance=hr(e,t)}mr.crypto_stream_KEYBYTES=32,mr.crypto_stream_NONCEBYTES=24,mr.crypto_stream_PRIMITIVE="xsalsa20",mr.crypto_stream=function(e,t,n){e.fill(0),mr.crypto_stream_xor(e,e,t,n)},mr.crypto_stream_xor=function(e,t,n,r){var i=hr(n,r);i.update(t,e),i.final()},mr.crypto_stream_xor_instance=function(e,t){return new br(e,t)},br.prototype.update=function(e,t){this._instance.update(t,e)},br.prototype.final=function(){this._instance.finalize(),this._instance=null};var _r={},wr=_r,Ir=function(e){var t,n=new Float64Array(16);if(e)for(t=0;t<e.length;t++)n[t]=e[t];return n},Er=jn.randombytes,Cr=(new Uint8Array(16),new Uint8Array(32));Cr[0]=9;var Sr=Ir(),kr=Ir([1]),Br=Ir([56129,1]),xr=Ir([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),Mr=Ir([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),Dr=Ir([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Qr=Ir([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),Or=Ir([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Tr(e,t,n,r){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n,e[t+4]=r>>24&255,e[t+5]=r>>16&255,e[t+6]=r>>8&255,e[t+7]=255&r}function Lr(e,t,n,r,i){var o,s=0;for(o=0;o<i;o++)s|=e[t+o]^n[r+o];return(1&s-1>>>8)-1}function Ur(e,t,n,r){return Lr(e,t,n,r,32)}var Fr=function(e){var t,n,r,i,o,s,a,u;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,n=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|n<<3),r=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(n>>>10|r<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(r>>>7|i<<9),o=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,s=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(o>>>14|s<<2),a=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(s>>>11|a<<5),u=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(a>>>8|u<<8),this.r[9]=u>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function Nr(e,t,n,r,i,o,s){mr.crypto_stream_xor(e,n,o,s)}function Yr(e,t,n,r,i,o){var s=new Fr(o);return s.update(n,r,i),s.finish(e,t),0}function Rr(e,t,n,r,i){var o,s=new Uint8Array(32);if(n<32)return-1;if(function(e,t,n,r,i){mr.crypto_stream(e,r,i)}(s,0,0,r,i),0!==function(e,t,n,r,i,o){var s=new Uint8Array(16);return Yr(s,0,n,r,i,o),Lr(e,t,s,0,16)}(t,16,t,32,n-32,s))return-1;for(Nr(e,0,t,0,0,r,i),o=0;o<32;o++)e[o]=0;return 0}function Kr(e,t){var n;for(n=0;n<16;n++)e[n]=0|t[n]}function Pr(e){var t,n,r=1;for(t=0;t<16;t++)n=e[t]+r+65535,r=Math.floor(n/65536),e[t]=n-65536*r;e[0]+=r-1+37*(r-1)}function jr(e,t,n){for(var r,i=~(n-1),o=0;o<16;o++)r=i&(e[o]^t[o]),e[o]^=r,t[o]^=r}function Hr(e,t){var n,r,i,o=Ir(),s=Ir();for(n=0;n<16;n++)s[n]=t[n];for(Pr(s),Pr(s),Pr(s),r=0;r<2;r++){for(o[0]=s[0]-65517,n=1;n<15;n++)o[n]=s[n]-65535-(o[n-1]>>16&1),o[n-1]&=65535;o[15]=s[15]-32767-(o[14]>>16&1),i=o[15]>>16&1,o[14]&=65535,jr(s,o,1-i)}for(n=0;n<16;n++)e[2*n]=255&s[n],e[2*n+1]=s[n]>>8}function Wr(e,t){var n=new Uint8Array(32),r=new Uint8Array(32);return Hr(n,e),Hr(r,t),Ur(n,0,r,0)}function Gr(e){var t=new Uint8Array(32);return Hr(t,e),1&t[0]}function Vr(e,t){var n;for(n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}function zr(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]+n[r]}function qr(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]-n[r]}function Jr(e,t,n){var r,i,o=0,s=0,a=0,u=0,h=0,f=0,c=0,l=0,d=0,p=0,g=0,y=0,A=0,v=0,m=0,b=0,_=0,w=0,I=0,E=0,C=0,S=0,k=0,B=0,x=0,M=0,D=0,Q=0,O=0,T=0,L=0,U=n[0],F=n[1],N=n[2],Y=n[3],R=n[4],K=n[5],P=n[6],j=n[7],H=n[8],W=n[9],G=n[10],V=n[11],z=n[12],q=n[13],J=n[14],X=n[15];o+=(r=t[0])*U,s+=r*F,a+=r*N,u+=r*Y,h+=r*R,f+=r*K,c+=r*P,l+=r*j,d+=r*H,p+=r*W,g+=r*G,y+=r*V,A+=r*z,v+=r*q,m+=r*J,b+=r*X,s+=(r=t[1])*U,a+=r*F,u+=r*N,h+=r*Y,f+=r*R,c+=r*K,l+=r*P,d+=r*j,p+=r*H,g+=r*W,y+=r*G,A+=r*V,v+=r*z,m+=r*q,b+=r*J,_+=r*X,a+=(r=t[2])*U,u+=r*F,h+=r*N,f+=r*Y,c+=r*R,l+=r*K,d+=r*P,p+=r*j,g+=r*H,y+=r*W,A+=r*G,v+=r*V,m+=r*z,b+=r*q,_+=r*J,w+=r*X,u+=(r=t[3])*U,h+=r*F,f+=r*N,c+=r*Y,l+=r*R,d+=r*K,p+=r*P,g+=r*j,y+=r*H,A+=r*W,v+=r*G,m+=r*V,b+=r*z,_+=r*q,w+=r*J,I+=r*X,h+=(r=t[4])*U,f+=r*F,c+=r*N,l+=r*Y,d+=r*R,p+=r*K,g+=r*P,y+=r*j,A+=r*H,v+=r*W,m+=r*G,b+=r*V,_+=r*z,w+=r*q,I+=r*J,E+=r*X,f+=(r=t[5])*U,c+=r*F,l+=r*N,d+=r*Y,p+=r*R,g+=r*K,y+=r*P,A+=r*j,v+=r*H,m+=r*W,b+=r*G,_+=r*V,w+=r*z,I+=r*q,E+=r*J,C+=r*X,c+=(r=t[6])*U,l+=r*F,d+=r*N,p+=r*Y,g+=r*R,y+=r*K,A+=r*P,v+=r*j,m+=r*H,b+=r*W,_+=r*G,w+=r*V,I+=r*z,E+=r*q,C+=r*J,S+=r*X,l+=(r=t[7])*U,d+=r*F,p+=r*N,g+=r*Y,y+=r*R,A+=r*K,v+=r*P,m+=r*j,b+=r*H,_+=r*W,w+=r*G,I+=r*V,E+=r*z,C+=r*q,S+=r*J,k+=r*X,d+=(r=t[8])*U,p+=r*F,g+=r*N,y+=r*Y,A+=r*R,v+=r*K,m+=r*P,b+=r*j,_+=r*H,w+=r*W,I+=r*G,E+=r*V,C+=r*z,S+=r*q,k+=r*J,B+=r*X,p+=(r=t[9])*U,g+=r*F,y+=r*N,A+=r*Y,v+=r*R,m+=r*K,b+=r*P,_+=r*j,w+=r*H,I+=r*W,E+=r*G,C+=r*V,S+=r*z,k+=r*q,B+=r*J,x+=r*X,g+=(r=t[10])*U,y+=r*F,A+=r*N,v+=r*Y,m+=r*R,b+=r*K,_+=r*P,w+=r*j,I+=r*H,E+=r*W,C+=r*G,S+=r*V,k+=r*z,B+=r*q,x+=r*J,M+=r*X,y+=(r=t[11])*U,A+=r*F,v+=r*N,m+=r*Y,b+=r*R,_+=r*K,w+=r*P,I+=r*j,E+=r*H,C+=r*W,S+=r*G,k+=r*V,B+=r*z,x+=r*q,M+=r*J,D+=r*X,A+=(r=t[12])*U,v+=r*F,m+=r*N,b+=r*Y,_+=r*R,w+=r*K,I+=r*P,E+=r*j,C+=r*H,S+=r*W,k+=r*G,B+=r*V,x+=r*z,M+=r*q,D+=r*J,Q+=r*X,v+=(r=t[13])*U,m+=r*F,b+=r*N,_+=r*Y,w+=r*R,I+=r*K,E+=r*P,C+=r*j,S+=r*H,k+=r*W,B+=r*G,x+=r*V,M+=r*z,D+=r*q,Q+=r*J,O+=r*X,m+=(r=t[14])*U,b+=r*F,_+=r*N,w+=r*Y,I+=r*R,E+=r*K,C+=r*P,S+=r*j,k+=r*H,B+=r*W,x+=r*G,M+=r*V,D+=r*z,Q+=r*q,O+=r*J,T+=r*X,b+=(r=t[15])*U,s+=38*(w+=r*N),a+=38*(I+=r*Y),u+=38*(E+=r*R),h+=38*(C+=r*K),f+=38*(S+=r*P),c+=38*(k+=r*j),l+=38*(B+=r*H),d+=38*(x+=r*W),p+=38*(M+=r*G),g+=38*(D+=r*V),y+=38*(Q+=r*z),A+=38*(O+=r*q),v+=38*(T+=r*J),m+=38*(L+=r*X),o=(r=(o+=38*(_+=r*F))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),A=(r=A+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),o=(r=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),A=(r=A+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),o+=i-1+37*(i-1),e[0]=o,e[1]=s,e[2]=a,e[3]=u,e[4]=h,e[5]=f,e[6]=c,e[7]=l,e[8]=d,e[9]=p,e[10]=g,e[11]=y,e[12]=A,e[13]=v,e[14]=m,e[15]=b}function Xr(e,t){Jr(e,t,t)}function Zr(e,t){var n,r=Ir();for(n=0;n<16;n++)r[n]=t[n];for(n=253;n>=0;n--)Xr(r,r),2!==n&&4!==n&&Jr(r,r,t);for(n=0;n<16;n++)e[n]=r[n]}function $r(e,t,n){Ci(e,bi),Ci(t,_i),Ci(n,bi);var r,i,o=new Uint8Array(32),s=new Float64Array(80),a=Ir(),u=Ir(),h=Ir(),f=Ir(),c=Ir(),l=Ir();for(i=0;i<31;i++)o[i]=t[i];for(o[31]=127&t[31]|64,o[0]&=248,Vr(s,n),i=0;i<16;i++)u[i]=s[i],f[i]=a[i]=h[i]=0;for(a[0]=f[0]=1,i=254;i>=0;--i)jr(a,u,r=o[i>>>3]>>>(7&i)&1),jr(h,f,r),zr(c,a,h),qr(a,a,h),zr(h,u,f),qr(u,u,f),Xr(f,c),Xr(l,a),Jr(a,h,a),Jr(h,u,c),zr(c,a,h),qr(a,a,h),Xr(u,a),qr(h,f,l),Jr(a,h,Br),zr(a,a,f),Jr(h,h,a),Jr(a,f,l),Jr(f,u,s),Xr(u,c),jr(a,u,r),jr(h,f,r);for(i=0;i<16;i++)s[i+16]=a[i],s[i+32]=h[i],s[i+48]=u[i],s[i+64]=f[i];var d=s.subarray(32),p=s.subarray(16);return Zr(d,d),Jr(p,p,d),Hr(e,p),0}Fr.prototype.blocks=function(e,t,n){for(var r,i,o,s,a,u,h,f,c,l,d,p,g,y,A,v,m,b,_,w=this.fin?0:2048,I=this.h[0],E=this.h[1],C=this.h[2],S=this.h[3],k=this.h[4],B=this.h[5],x=this.h[6],M=this.h[7],D=this.h[8],Q=this.h[9],O=this.r[0],T=this.r[1],L=this.r[2],U=this.r[3],F=this.r[4],N=this.r[5],Y=this.r[6],R=this.r[7],K=this.r[8],P=this.r[9];n>=16;)l=c=0,l+=(I+=8191&(r=255&e[t+0]|(255&e[t+1])<<8))*O,l+=(E+=8191&(r>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*P),l+=(C+=8191&(i>>>10|(o=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*K),l+=(S+=8191&(o>>>7|(s=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*R),c=(l+=(k+=8191&(s>>>4|(a=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*Y))>>>13,l&=8191,l+=(B+=a>>>1&8191)*(5*N),l+=(x+=8191&(a>>>14|(u=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*F),l+=(M+=8191&(u>>>11|(h=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*U),l+=(D+=8191&(h>>>8|(f=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*L),d=c+=(l+=(Q+=f>>>5|w)*(5*T))>>>13,d+=I*T,d+=E*O,d+=C*(5*P),d+=S*(5*K),c=(d+=k*(5*R))>>>13,d&=8191,d+=B*(5*Y),d+=x*(5*N),d+=M*(5*F),d+=D*(5*U),c+=(d+=Q*(5*L))>>>13,d&=8191,p=c,p+=I*L,p+=E*T,p+=C*O,p+=S*(5*P),c=(p+=k*(5*K))>>>13,p&=8191,p+=B*(5*R),p+=x*(5*Y),p+=M*(5*N),p+=D*(5*F),g=c+=(p+=Q*(5*U))>>>13,g+=I*U,g+=E*L,g+=C*T,g+=S*O,c=(g+=k*(5*P))>>>13,g&=8191,g+=B*(5*K),g+=x*(5*R),g+=M*(5*Y),g+=D*(5*N),y=c+=(g+=Q*(5*F))>>>13,y+=I*F,y+=E*U,y+=C*L,y+=S*T,c=(y+=k*O)>>>13,y&=8191,y+=B*(5*P),y+=x*(5*K),y+=M*(5*R),y+=D*(5*Y),A=c+=(y+=Q*(5*N))>>>13,A+=I*N,A+=E*F,A+=C*U,A+=S*L,c=(A+=k*T)>>>13,A&=8191,A+=B*O,A+=x*(5*P),A+=M*(5*K),A+=D*(5*R),v=c+=(A+=Q*(5*Y))>>>13,v+=I*Y,v+=E*N,v+=C*F,v+=S*U,c=(v+=k*L)>>>13,v&=8191,v+=B*T,v+=x*O,v+=M*(5*P),v+=D*(5*K),m=c+=(v+=Q*(5*R))>>>13,m+=I*R,m+=E*Y,m+=C*N,m+=S*F,c=(m+=k*U)>>>13,m&=8191,m+=B*L,m+=x*T,m+=M*O,m+=D*(5*P),b=c+=(m+=Q*(5*K))>>>13,b+=I*K,b+=E*R,b+=C*Y,b+=S*N,c=(b+=k*F)>>>13,b&=8191,b+=B*U,b+=x*L,b+=M*T,b+=D*O,_=c+=(b+=Q*(5*P))>>>13,_+=I*P,_+=E*K,_+=C*R,_+=S*Y,c=(_+=k*N)>>>13,_&=8191,_+=B*F,_+=x*U,_+=M*L,_+=D*T,I=l=8191&(c=(c=((c+=(_+=Q*O)>>>13)<<2)+c|0)+(l&=8191)|0),E=d+=c>>>=13,C=p&=8191,S=g&=8191,k=y&=8191,B=A&=8191,x=v&=8191,M=m&=8191,D=b&=8191,Q=_&=8191,t+=16,n-=16;this.h[0]=I,this.h[1]=E,this.h[2]=C,this.h[3]=S,this.h[4]=k,this.h[5]=B,this.h[6]=x,this.h[7]=M,this.h[8]=D,this.h[9]=Q},Fr.prototype.finish=function(e,t){var n,r,i,o,s=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=n,n=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,s[0]=this.h[0]+5,n=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this.h[o]+n,n=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,r=(1^n)-1,o=0;o<10;o++)s[o]&=r;for(r=~r,o=0;o<10;o++)this.h[o]=this.h[o]&r|s[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},Fr.prototype.update=function(e,t,n){var r,i;if(this.leftover){for((i=16-this.leftover)>n&&(i=n),r=0;r<i;r++)this.buffer[this.leftover+r]=e[t+r];if(n-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(i=n-n%16,this.blocks(e,t,i),t+=i,n-=i),n){for(r=0;r<n;r++)this.buffer[this.leftover+r]=e[t+r];this.leftover+=n}};var ei=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ti(e,t,n,r){for(var i,o,s,a,u,h,f,c,l,d,p,g,y,A,v,m,b,_,w,I,E,C,S,k,B,x,M=new Int32Array(16),D=new Int32Array(16),Q=e[0],O=e[1],T=e[2],L=e[3],U=e[4],F=e[5],N=e[6],Y=e[7],R=t[0],K=t[1],P=t[2],j=t[3],H=t[4],W=t[5],G=t[6],V=t[7],z=0;r>=128;){for(w=0;w<16;w++)I=8*w+z,M[w]=n[I+0]<<24|n[I+1]<<16|n[I+2]<<8|n[I+3],D[w]=n[I+4]<<24|n[I+5]<<16|n[I+6]<<8|n[I+7];for(w=0;w<80;w++)if(i=Q,o=O,s=T,a=L,u=U,h=F,f=N,l=R,d=K,p=P,g=j,y=H,A=W,v=G,S=65535&(C=V),k=C>>>16,B=65535&(E=Y),x=E>>>16,S+=65535&(C=(H>>>14|U<<18)^(H>>>18|U<<14)^(U>>>9|H<<23)),k+=C>>>16,B+=65535&(E=(U>>>14|H<<18)^(U>>>18|H<<14)^(H>>>9|U<<23)),x+=E>>>16,S+=65535&(C=H&W^~H&G),k+=C>>>16,B+=65535&(E=U&F^~U&N),x+=E>>>16,E=ei[2*w],S+=65535&(C=ei[2*w+1]),k+=C>>>16,B+=65535&E,x+=E>>>16,E=M[w%16],k+=(C=D[w%16])>>>16,B+=65535&E,x+=E>>>16,B+=(k+=(S+=65535&C)>>>16)>>>16,S=65535&(C=_=65535&S|k<<16),k=C>>>16,B=65535&(E=b=65535&B|(x+=B>>>16)<<16),x=E>>>16,S+=65535&(C=(R>>>28|Q<<4)^(Q>>>2|R<<30)^(Q>>>7|R<<25)),k+=C>>>16,B+=65535&(E=(Q>>>28|R<<4)^(R>>>2|Q<<30)^(R>>>7|Q<<25)),x+=E>>>16,k+=(C=R&K^R&P^K&P)>>>16,B+=65535&(E=Q&O^Q&T^O&T),x+=E>>>16,c=65535&(B+=(k+=(S+=65535&C)>>>16)>>>16)|(x+=B>>>16)<<16,m=65535&S|k<<16,S=65535&(C=g),k=C>>>16,B=65535&(E=a),x=E>>>16,k+=(C=_)>>>16,B+=65535&(E=b),x+=E>>>16,O=i,T=o,L=s,U=a=65535&(B+=(k+=(S+=65535&C)>>>16)>>>16)|(x+=B>>>16)<<16,F=u,N=h,Y=f,Q=c,K=l,P=d,j=p,H=g=65535&S|k<<16,W=y,G=A,V=v,R=m,w%16==15)for(I=0;I<16;I++)E=M[I],S=65535&(C=D[I]),k=C>>>16,B=65535&E,x=E>>>16,E=M[(I+9)%16],S+=65535&(C=D[(I+9)%16]),k+=C>>>16,B+=65535&E,x+=E>>>16,b=M[(I+1)%16],S+=65535&(C=((_=D[(I+1)%16])>>>1|b<<31)^(_>>>8|b<<24)^(_>>>7|b<<25)),k+=C>>>16,B+=65535&(E=(b>>>1|_<<31)^(b>>>8|_<<24)^b>>>7),x+=E>>>16,b=M[(I+14)%16],k+=(C=((_=D[(I+14)%16])>>>19|b<<13)^(b>>>29|_<<3)^(_>>>6|b<<26))>>>16,B+=65535&(E=(b>>>19|_<<13)^(_>>>29|b<<3)^b>>>6),x+=E>>>16,x+=(B+=(k+=(S+=65535&C)>>>16)>>>16)>>>16,M[I]=65535&B|x<<16,D[I]=65535&S|k<<16;S=65535&(C=R),k=C>>>16,B=65535&(E=Q),x=E>>>16,E=e[0],k+=(C=t[0])>>>16,B+=65535&E,x+=E>>>16,x+=(B+=(k+=(S+=65535&C)>>>16)>>>16)>>>16,e[0]=Q=65535&B|x<<16,t[0]=R=65535&S|k<<16,S=65535&(C=K),k=C>>>16,B=65535&(E=O),x=E>>>16,E=e[1],k+=(C=t[1])>>>16,B+=65535&E,x+=E>>>16,x+=(B+=(k+=(S+=65535&C)>>>16)>>>16)>>>16,e[1]=O=65535&B|x<<16,t[1]=K=65535&S|k<<16,S=65535&(C=P),k=C>>>16,B=65535&(E=T),x=E>>>16,E=e[2],k+=(C=t[2])>>>16,B+=65535&E,x+=E>>>16,x+=(B+=(k+=(S+=65535&C)>>>16)>>>16)>>>16,e[2]=T=65535&B|x<<16,t[2]=P=65535&S|k<<16,S=65535&(C=j),k=C>>>16,B=65535&(E=L),x=E>>>16,E=e[3],k+=(C=t[3])>>>16,B+=65535&E,x+=E>>>16,x+=(B+=(k+=(S+=65535&C)>>>16)>>>16)>>>16,e[3]=L=65535&B|x<<16,t[3]=j=65535&S|k<<16,S=65535&(C=H),k=C>>>16,B=65535&(E=U),x=E>>>16,E=e[4],k+=(C=t[4])>>>16,B+=65535&E,x+=E>>>16,x+=(B+=(k+=(S+=65535&C)>>>16)>>>16)>>>16,e[4]=U=65535&B|x<<16,t[4]=H=65535&S|k<<16,S=65535&(C=W),k=C>>>16,B=65535&(E=F),x=E>>>16,E=e[5],k+=(C=t[5])>>>16,B+=65535&E,x+=E>>>16,x+=(B+=(k+=(S+=65535&C)>>>16)>>>16)>>>16,e[5]=F=65535&B|x<<16,t[5]=W=65535&S|k<<16,S=65535&(C=G),k=C>>>16,B=65535&(E=N),x=E>>>16,E=e[6],k+=(C=t[6])>>>16,B+=65535&E,x+=E>>>16,x+=(B+=(k+=(S+=65535&C)>>>16)>>>16)>>>16,e[6]=N=65535&B|x<<16,t[6]=G=65535&S|k<<16,S=65535&(C=V),k=C>>>16,B=65535&(E=Y),x=E>>>16,E=e[7],k+=(C=t[7])>>>16,B+=65535&E,x+=E>>>16,x+=(B+=(k+=(S+=65535&C)>>>16)>>>16)>>>16,e[7]=Y=65535&B|x<<16,t[7]=V=65535&S|k<<16,z+=128,r-=128}return r}function ni(e,t,n){var r,i=new Int32Array(8),o=new Int32Array(8),s=new Uint8Array(256),a=n;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,ti(i,o,t,n),n%=128,r=0;r<n;r++)s[r]=t[a-n+r];for(s[n]=128,s[(n=256-128*(n<112?1:0))-9]=0,Tr(s,n-8,a/536870912|0,a<<3),ti(i,o,s,n),r=0;r<8;r++)Tr(e,8*r,i[r],o[r]);return 0}function ri(e,t){var n=Ir(),r=Ir(),i=Ir(),o=Ir(),s=Ir(),a=Ir(),u=Ir(),h=Ir(),f=Ir();qr(n,e[1],e[0]),qr(f,t[1],t[0]),Jr(n,n,f),zr(r,e[0],e[1]),zr(f,t[0],t[1]),Jr(r,r,f),Jr(i,e[3],t[3]),Jr(i,i,Mr),Jr(o,e[2],t[2]),zr(o,o,o),qr(s,r,n),qr(a,o,i),zr(u,o,i),zr(h,r,n),Jr(e[0],s,a),Jr(e[1],h,u),Jr(e[2],u,a),Jr(e[3],s,h)}function ii(e,t,n){var r;for(r=0;r<4;r++)jr(e[r],t[r],n)}function oi(e,t){var n=Ir(),r=Ir(),i=Ir();Zr(i,t[2]),Jr(n,t[0],i),Jr(r,t[1],i),Hr(e,r),e[31]^=Gr(n)<<7}function si(e,t,n){var r,i;for(Kr(e[0],Sr),Kr(e[1],kr),Kr(e[2],kr),Kr(e[3],Sr),i=255;i>=0;--i)ii(e,t,r=n[i/8|0]>>(7&i)&1),ri(t,e),ri(e,e),ii(e,t,r)}function ai(e,t){var n=[Ir(),Ir(),Ir(),Ir()];Kr(n[0],Dr),Kr(n[1],Qr),Kr(n[2],kr),Jr(n[3],Dr,Qr),si(e,n,t)}function ui(e,t,n){Ci(e,wr.crypto_sign_PUBLICKEYBYTES),Ci(t,wr.crypto_sign_SECRETKEYBYTES);var r,i=new Uint8Array(64),o=[Ir(),Ir(),Ir(),Ir()];for(n||Er(t,32),ni(i,t,32),i[0]&=248,i[31]&=127,i[31]|=64,ai(o,i),oi(e,o),r=0;r<32;r++)t[r+32]=e[r];return 0}var hi=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function fi(e,t){var n,r,i,o;for(r=63;r>=32;--r){for(n=0,i=r-32,o=r-12;i<o;++i)t[i]+=n-16*t[r]*hi[i-(r-32)],n=t[i]+128>>8,t[i]-=256*n;t[i]+=n,t[r]=0}for(n=0,i=0;i<32;i++)t[i]+=n-(t[31]>>4)*hi[i],n=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=n*hi[i];for(r=0;r<32;r++)t[r+1]+=t[r]>>8,e[r]=255&t[r]}function ci(e){var t,n=new Float64Array(64);for(t=0;t<64;t++)n[t]=e[t];for(t=0;t<64;t++)e[t]=0;fi(e,n)}function li(e,t,n){Ci(e,wi+t.length),Ci(t,0),Ci(n,Ei);var r,i,o=t.length,s=new Uint8Array(64),a=new Uint8Array(64),u=new Uint8Array(64),h=new Float64Array(64),f=[Ir(),Ir(),Ir(),Ir()];for(ni(s,n,32),s[0]&=248,s[31]&=127,s[31]|=64,r=0;r<o;r++)e[64+r]=t[r];for(r=0;r<32;r++)e[32+r]=s[32+r];for(ni(u,e.subarray(32),o+32),ci(u),ai(f,u),oi(e,f),r=32;r<64;r++)e[r]=n[r];for(ni(a,e,o+64),ci(a),r=0;r<64;r++)h[r]=0;for(r=0;r<32;r++)h[r]=u[r];for(r=0;r<32;r++)for(i=0;i<32;i++)h[r+i]+=a[r]*s[i];fi(e.subarray(32),h)}function di(e,t,n){Ci(e,t.length-wi),Ci(t,wi),Ci(n,Ii);var r,i=t.length,o=new Uint8Array(t.length),s=new Uint8Array(32),a=new Uint8Array(64),u=[Ir(),Ir(),Ir(),Ir()],h=[Ir(),Ir(),Ir(),Ir()];if(i<64)return!1;if(function(e,t){var n=Ir(),r=Ir(),i=Ir(),o=Ir(),s=Ir(),a=Ir(),u=Ir();return Kr(e[2],kr),Vr(e[1],t),Xr(i,e[1]),Jr(o,i,xr),qr(i,i,e[2]),zr(o,e[2],o),Xr(s,o),Xr(a,s),Jr(u,a,s),Jr(n,u,i),Jr(n,n,o),function(e,t){var n,r=Ir();for(n=0;n<16;n++)r[n]=t[n];for(n=250;n>=0;n--)Xr(r,r),1!==n&&Jr(r,r,t);for(n=0;n<16;n++)e[n]=r[n]}(n,n),Jr(n,n,i),Jr(n,n,o),Jr(n,n,o),Jr(e[0],n,o),Xr(r,e[0]),Jr(r,r,o),Wr(r,i)&&Jr(e[0],e[0],Or),Xr(r,e[0]),Jr(r,r,o),Wr(r,i)?-1:(Gr(e[0])===t[31]>>7&&qr(e[0],Sr,e[0]),Jr(e[3],e[0],e[1]),0)}(h,n))return!1;for(r=0;r<i;r++)o[r]=t[r];for(r=0;r<32;r++)o[r+32]=n[r];if(ni(a,o,i),ci(a),si(u,h,a),ai(h,t.subarray(32)),ri(u,h),oi(s,u),i-=64,Ur(t,0,s,0)){for(r=0;r<i;r++)o[r]=0;return!1}for(r=0;r<i;r++)e[r]=t[r+64];return!0}function pi(e,t,n,r){var i;Ci(t,0),Ci(e,t.length+wr.crypto_secretbox_MACBYTES),Ci(n,Ai),Ci(r,yi);var o=new Uint8Array(vi+t.length),s=new Uint8Array(o.length);for(i=0;i<t.length;i++)o[i+vi]=t[i];for(function(e,t,n,r,i){var o;if(n<32)return-1;for(Nr(e,0,t,0,0,r,i),Yr(e,16,e,32,n-32,e),o=0;o<16;o++)e[o]=0}(s,o,o.length,n,r),i=mi;i<s.length;i++)e[i-mi]=s[i]}function gi(e,t,n,r){var i;Ci(t,wr.crypto_secretbox_MACBYTES),Ci(e,t.length-wr.crypto_secretbox_MACBYTES),Ci(n,Ai),Ci(r,yi);var o=new Uint8Array(mi+t.length),s=new Uint8Array(o.length);for(i=0;i<t.length;i++)o[i+mi]=t[i];if(o.length<32)return!1;if(0!==Rr(s,o,o.length,n,r))return!1;for(i=vi;i<s.length;i++)e[i-vi]=s[i];return!0}var yi=32,Ai=24,vi=32,mi=16,bi=32,_i=32,wi=64,Ii=32,Ei=64;function Ci(e,t){if(!e||t&&e.length<t)throw new Error("Argument must be a buffer"+(t?" of length "+t:""))}function Si(e){Object.keys(e).forEach(function(t){_r[t]=e[t]})}wr.memzero=function(e,t){for(var n=t;n<e;n++)arr[n]=0},wr.crypto_sign_BYTES=wi,wr.crypto_sign_PUBLICKEYBYTES=Ii,wr.crypto_sign_SECRETKEYBYTES=Ei,wr.crypto_sign_SEEDBYTES=32,wr.crypto_sign_keypair=ui,wr.crypto_sign_seed_keypair=function(e,t,n){Ci(n,wr.crypto_sign_SEEDBYTES),n.copy(t),ui(e,t,!0)},wr.crypto_sign=li,wr.crypto_sign_open=di,wr.crypto_sign_detached=function(e,t,n){var r=new Uint8Array(t.length+wi);li(r,t,n);for(var i=0;i<wi;i++)e[i]=r[i]},wr.crypto_sign_verify_detached=function(e,t,n){Ci(e,wi);var r=new Uint8Array(t.length+wi),i=0;for(i=0;i<wi;i++)r[i]=e[i];for(i=0;i<t.length;i++)r[i+wi]=t[i];return di(t,r,n)},Si(Pn),Si(Hn),Si(or),Si(jn),Si(mr),wr.crypto_scalarmult_BYTES=bi,wr.crypto_scalarmult_SCALARBYTES=_i,wr.crypto_scalarmult_base=function(e,t){return $r(e,t,Cr)},wr.crypto_scalarmult=$r,wr.crypto_secretbox_KEYBYTES=yi,wr.crypto_secretbox_NONCEBYTES=Ai,wr.crypto_secretbox_MACBYTES=16,wr.crypto_secretbox_easy=pi,wr.crypto_secretbox_open_easy=gi,wr.crypto_secretbox_detached=function(e,t,n,r,i){Ci(t,wr.crypto_secretbox_MACBYTES);var o=new Uint8Array(n.length+t.length);pi(o,n,r,i),e.set(o.subarray(0,n.length)),t.set(o.subarray(n.length))},wr.crypto_secretbox_open_detached=function(e,t,n,r,i){Ci(n,wr.crypto_secretbox_MACBYTES);var o=new Uint8Array(t.length+n.length);return o.set(t),o.set(n,e.length),gi(e,o,r,i)};var ki=_r,Bi={};(function(e){var t=function(){try{if(!e.isEncoding("latin1"))return!1;var t=e.alloc?e.alloc(4):new e(4);return t.fill("ab","ucs2"),"61006200"===t.toString("hex")}catch(n){return!1}}();function n(e,t,n,r){if(n<0||r>e.length)throw new RangeError("Out of range index");return n>>>=0,(r=void 0===r?e.length:r>>>0)>n&&e.fill(t,n,r),e}Bi=function(r,i,o,s,a){if(t)return r.fill(i,o,s,a);if("number"==typeof i)return n(r,i,o,s);if("string"==typeof i){if("string"==typeof o?(a=o,o=0,s=r.length):"string"==typeof s&&(a=s,s=r.length),void 0!==a&&"string"!=typeof a)throw new TypeError("encoding must be a string");if("latin1"===a&&(a="binary"),"string"==typeof a&&!e.isEncoding(a))throw new TypeError("Unknown encoding: "+a);if(""===i)return n(r,0,o,s);if(function(e){return 1===e.length&&e.charCodeAt(0)<256}(i))return n(r,i.charCodeAt(0),o,s);i=new e(i,a)}return e.isBuffer(i)?function(e,t,n,r){if(n<0||r>e.length)throw new RangeError("Out of range index");if(r<=n)return e;n>>>=0,r=void 0===r?e.length:r>>>0;for(var i=n,o=t.length;i<=r-o;)t.copy(e,i),i+=o;return i!==r&&t.copy(e,i,0,r-i),e}(r,i,o,s):n(r,0,o,s)}}).call(this,v.Buffer);var xi={};(function(e){xi=function(t,n,r){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative');if(e.alloc)return e.alloc(t,n,r);var i=sn(t);return 0===t?i:void 0===n?Bi(i,0):("string"!=typeof r&&(r=void 0),Bi(i,n,r))}}).call(this,v.Buffer);var Mi={},Di=Math.pow(2,32);Mi.encodingLength=function(){return 8},Mi.encode=function(e,t,n){t||(t=xi(8)),n||(n=0);var r=Math.floor(e/Di),i=e-r*Di;return t.writeUInt32BE(r,n),t.writeUInt32BE(i,n+4),t},Mi.decode=function(e,t){t||(t=0);var n=e.readUInt32BE(t),r=e.readUInt32BE(t+4);return n*Di+r},Mi.encode.bytes=8,Mi.decode.bytes=8;var Qi={},Oi=un([0]),Ti=un([1]),Li=un([2]),Ui=un("hypercore");function Fi(e){return Mi.encode(e,sn(8))}function Ni(e){var t=sn(32);return ki.crypto_generichash_batch(t,e),t}Qi.keyPair=function(e){var t=sn(ki.crypto_sign_PUBLICKEYBYTES),n=sn(ki.crypto_sign_SECRETKEYBYTES);return e?ki.crypto_sign_seed_keypair(t,n,e):ki.crypto_sign_keypair(t,n),{publicKey:t,secretKey:n}},Qi.sign=function(e,t){var n=sn(ki.crypto_sign_BYTES);return ki.crypto_sign_detached(n,e,t),n},Qi.verify=function(e,t,n){return ki.crypto_sign_verify_detached(t,e,n)},Qi.data=function(e){return Ni([Oi,Fi(e.length),e])},Qi.leaf=function(e){return Qi.data(e.data)},Qi.parent=function(e,t){if(e.index>t.index){var n=e;e=t,t=n}return Ni([Ti,Fi(e.size+t.size),e.hash,t.hash])},Qi.tree=function(e){var t=new Array(3*e.length+1),n=0;t[n++]=Li;for(var r=0;r<e.length;r++){var i=e[r];t[n++]=i.hash,t[n++]=Fi(i.index),t[n++]=Fi(i.size)}return Ni(t)},Qi.randomBytes=function(e){var t=sn(e);return ki.randombytes_buf(t),t},Qi.discoveryKey=function(e){var t=sn(32);return ki.crypto_generichash(t,Ui,e),t};var Yi=128,Ri=127,Ki=128,Pi=-128,ji=Math.pow(2,31),Hi=Math.pow(2,7),Wi=Math.pow(2,14),Gi=Math.pow(2,21),Vi=Math.pow(2,28),zi=Math.pow(2,35),qi=Math.pow(2,42),Ji=Math.pow(2,49),Xi=Math.pow(2,56),Zi=Math.pow(2,63),$i={encode:function e(t,n,r){n=n||[];for(var i=r=r||0;t>=ji;)n[r++]=255&t|Ki,t/=128;for(;t&Pi;)n[r++]=255&t|Ki,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},decode:function e(t,n){var r,i=0,o=0,s=n=n||0,a=t.length;do{if(s>=a)return e.bytes=0,void(e.bytesRead=0);r=t[s++],i+=o<28?(r&Ri)<<o:(r&Ri)*Math.pow(2,o),o+=7}while(r>=Yi);return e.bytes=s-n,i},encodingLength:function(e){return e<Hi?1:e<Wi?2:e<Gi?3:e<Vi?4:e<zi?5:e<qi?6:e<Ji?7:e<Xi?8:e<Zi?9:10}},eo=function e(t){var n={};return n.align=e,n.encode=function e(t,n,o){o||(o=0),n||(n=sn(i(t)));var a=new r(t,n,o);return s(a),e.bytes=a.outputOffset-o,n},n.encode.bytes=0,n.encodingLength=i,n.decode=function e(t,n){n||(n=0);for(var r=sn(o(t,n)),i=0;n<t.length;){var s=$i.decode(t,n),a=1&s,u=a?(s-(3&s))/4:s/2;n+=$i.decode.bytes,a?r.fill(2&s?255:0,i,i+u):(t.copy(r,i,n,n+u),n+=u),i+=u}return r.fill(0,i),e.bytes=t.length-n,r},n.decode.bytes=0,n.decodingLength=o,n;function r(e,t,n){this.inputOffset=0,this.inputLength=e.length,this.input=e,this.outputOffset=n,this.output=t}function i(e){var t=new r(e,null,0);return s(t),t.outputOffset}function o(e,n){n||(n=0);for(var r=0;n<e.length;){var i=$i.decode(e,n);n+=$i.decode.bytes;var o=1&i,s=o?(i-(3&i))/4:i/2;r+=s,o||(n+=s)}if(n>e.length)throw new Error("Invalid RLE bitfield");return r&t-1?r+(t-(r&t-1)):r}function s(e){for(var t=0,n=0,r=e.input;e.inputLength>0&&!r[e.inputLength-1];)e.inputLength--;for(var i=0;i<e.inputLength;i++)r[i]!==n?(t&&u(e,i,t,n),0===r[i]||255===r[i]?(n=r[i],t=1):t=0):t++;t&&u(e,e.inputLength,t,n),function(e){var t=e.inputLength-e.inputOffset;t&&(e.output?a(e,e.inputLength):e.outputOffset+=t+$i.encodingLength(2*t),e.inputOffset=e.inputLength)}(e)}function a(e,t){var n=t-e.inputOffset;$i.encode(2*n,e.output,e.outputOffset),e.outputOffset+=$i.encode.bytes,e.input.copy(e.output,e.outputOffset,e.inputOffset,t),e.outputOffset+=n}function u(e,t,n,r){var i=t-n-e.inputOffset,o=4*n+(r?2:0)+1,s=(i?$i.encodingLength(2*i)+i:0)+$i.encodingLength(o);if(!(s>=$i.encodingLength(2*(t-e.inputOffset))+t-e.inputOffset)){if(!e.output)return e.outputOffset+=s,void(e.inputOffset=t);i&&a(e,t-n),$i.encode(o,e.output,e.outputOffset),e.outputOffset+=$i.encode.bytes,e.inputOffset=t}}}(1),to={};(function(e){function t(e,n){if(!(this instanceof t))return new t(e,n);this.length=0,this.updates=[],this.pages=new Array(16),this.pageSize=e||1024,this.deduplicate=n?n.deduplicate:null}function n(e,t,n){for(var r=2*e.length;r<=t;)r*=2;for(var i=new Array(r),o=0;o<n;o++)i[o]=e[o];return i}function r(t){if(e.alloc)return e.alloc(t);var n=new e(t);return n.fill(0),n}function i(e,t){this.offset=e*t.length,this.buffer=t,this.updated=!1}to=t,t.prototype.updated=function(e){!e.updated&&this.updates&&(e.updated=!0,this.updates.push(e))},t.prototype.lastUpdate=function(){if(!this.updates||!this.updates.length)return null;var e=this.updates.pop();return e.updated=!1,e},t.prototype.get=function(t,o){if(t>=this.pages.length){if(o)return;this.pages=n(this.pages,t,this.length)}var s,a,u=this.pages[t];return u||o||(u=this.pages[t]=new i(t,r(this.pageSize)),t>=this.length&&(this.length=t+1)),u&&u.buffer===this.deduplicate&&this.deduplicate&&!o&&(u.buffer=(s=u.buffer,a=e.allocUnsafe?e.allocUnsafe(s.length):new e(s.length),s.copy(a),a)),u},t.prototype.set=function(e,t){if(e>=this.pages.length&&(this.pages=n(this.pages,e,this.length)),e>=this.length&&(this.length=e+1),t)if(this.deduplicate&&t.equals&&t.equals(this.deduplicate))t=this.deduplicate;else{var o=this.pages[e],s=function(e,t){if(e.length===t)return e;if(e.length>t)return e.slice(0,t);var n=r(t);return e.copy(n),n}(t,this.pageSize);o?o.buffer=s:this.pages[e]=new i(e,s)}else this.pages[e]=void 0},t.prototype.toBuffer=function(){for(var t=new Array(this.length),n=r(this.pageSize),i=0;i<t.length;i++)t[i]=this.pages[i]?this.pages[i].buffer:n;return e.concat(t)}}).call(this,v.Buffer);var no={};(function(e){function t(n){if(!(this instanceof t))return new t(n);if(n||(n={}),e.isBuffer(n)&&(n={buffer:n}),this.pageOffset=n.pageOffset||0,this.pageSize=n.pageSize||1024,this.pages=n.pages||to(this.pageSize),this.byteLength=this.pages.length*this.pageSize,this.length=8*this.byteLength,(r=this.pageSize)&r-1)throw new Error("The page size should be a power of two");var r;if(this._trackUpdates=!!n.trackUpdates,this._pageMask=this.pageSize-1,n.buffer){for(var i=0;i<n.buffer.length;i+=this.pageSize)this.pages.set(i/this.pageSize,n.buffer.slice(i,i+this.pageSize));this.byteLength=n.buffer.length,this.length=8*this.byteLength}}no=t,t.prototype.get=function(e){var t=7&e,n=(e-t)/8;return!!(this.getByte(n)&128>>t)},t.prototype.getByte=function(e){var t=e&this._pageMask,n=(e-t)/this.pageSize,r=this.pages.get(n,!0);return r?r.buffer[t+this.pageOffset]:0},t.prototype.set=function(e,t){var n=7&e,r=(e-n)/8,i=this.getByte(r);return this.setByte(r,t?i|128>>n:i&(255^128>>n))},t.prototype.toBuffer=function(){for(var t=function(t){if(e.alloc)return e.alloc(t);var n=new e(t);return n.fill(0),n}(this.pages.length*this.pageSize),n=0;n<this.pages.length;n++){var r=this.pages.get(n,!0),i=n*this.pageSize;r&&r.buffer.copy(t,i,this.pageOffset,this.pageOffset+this.pageSize)}return t},t.prototype.setByte=function(e,t){var n=e&this._pageMask,r=(e-n)/this.pageSize,i=this.pages.get(r,!1);return n+=this.pageOffset,i.buffer[n]!==t&&(i.buffer[n]=t,e>=this.byteLength&&(this.byteLength=e+1,this.length=8*this.byteLength),this._trackUpdates&&this.pages.updated(i),!0)}}).call(this,v.Buffer);for(var ro={},io=[63,207,243,252],oo=[0,192,240,252],so=[128,192,224,240,248,252,254,255],ao=[127,191,223,239,247,251,253,254],uo=new Array(256),ho=new Array(256),fo=new Array(256),co=new Array(256),lo=new Array(256),po=0;po<256;po++){var go=(240&po)>>4,yo=15&po,Ao=[0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4];uo[po]=(15===go?3:0===go?0:1)<<2|(15===yo?3:0===yo?0:1),ho[po]=uo[po]<<4,fo[po]=255===po?-1:8-Math.ceil(Math.log(256-po)/Math.log(2)),co[po]=255===po?-1:Math.floor(fo[po]/2),lo[po]=Ao[po>>4]+Ao[15&po]}function vo(e){if(!(this instanceof vo))return new vo(e);if(this.pages=to(3328),e)for(var t=0;t<e.length;t+=3328)this.pages.set(t/3328,e.slice(t,t+3328));this.data=no({pageSize:1024,pageOffset:0,pages:this.pages,trackUpdates:!0}),this.tree=no({pageSize:2048,pageOffset:1024,pages:this.pages,trackUpdates:!0}),this.index=no({pageSize:256,pageOffset:3072,pages:this.pages,trackUpdates:!0}),this.length=this.data.length,this._iterator=dn.iterator(0)}function mo(e,t,n){return!(8*t>=e.length)&&e.setByte(t,n)}function bo(e){this.start=0,this.end=0,this._indexEnd=0,this._pos=0,this._byte=0,this._bitfield=e}function _o(e){return e.index+e.factor/2-1}function wo(e){return 1&e.index}ro=vo,vo.prototype.set=function(e,t){var n=7&e;e=(e-n)/8;var r=t?this.data.getByte(e)|128>>n:this.data.getByte(e)&ao[n];return!!this.data.setByte(e,r)&&(this.length=this.data.length,this._setIndex(e,r),!0)},vo.prototype.get=function(e){return this.data.get(e)},vo.prototype.total=function(e,t){if((!e||e<0)&&(e=0),t||(t=this.data.length),t<e)return 0;t>this.data.length&&this._expand(t);var n=7&e,r=7&t,i=(e-n)/8,o=(t-r)/8,s=255-(n?so[n-1]:0),a=r?so[r-1]:0,u=this.data.getByte(i);if(i===o)return lo[u&s&a];for(var h=lo[u&s],f=i+1;f<o;f++)h+=lo[this.data.getByte(f)];return h+lo[this.data.getByte(o)&a]},vo.prototype.compress=function(){return eo.encode(this.data.toBuffer())},vo.prototype._setIndex=function(e,t){var n=3&e;e=(e-n)/4;var r=this.index,i=this._iterator,o=2*e,s=r.getByte(o)&io[n]|function(e){switch(t){case 255:return 192;case 0:return 0;default:return 64}}()>>2*n,a=r.length,u=256*this.pages.length;for(i.seek(o);i.index<u&&r.setByte(i.index,s);)s=i.isLeft()?ho[s]|uo[r.getByte(i.sibling())]:uo[s]|ho[r.getByte(i.sibling())],i.parent();return a!==r.length&&this._expand(a),i.index!==o},vo.prototype._expand=function(e){for(var t=dn.fullRoots(2*e),n=this.index,r=this._iterator,i=0,o=0;o<t.length;o++){r.seek(t[o]),i=n.getByte(r.index);do{i=r.isLeft()?ho[i]|uo[n.getByte(r.sibling())]:uo[i]|ho[n.getByte(r.sibling())]}while(mo(n,r.parent(),i))}},vo.prototype.iterator=function(e,t){var n=new bo(this);return n.range(e||0,t||this.length),n.seek(0),n},bo.prototype.range=function(e,t){return this.start=e,this.end=t,this._indexEnd=2*Math.ceil(t/32),this.end>this._bitfield.length&&this._bitfield._expand(this.end),this},bo.prototype.seek=function(e){if((e+=this.start)<this.start&&(e=this.start),e>=this.end)return this._pos=-1,this;var t=7&e;return this._pos=(e-t)/8,this._byte=this._bitfield.data.getByte(this._pos)|(t?so[t-1]:0),this},bo.prototype.random=function(){var e=this.seek(Math.floor(Math.random()*(this.end-this.start))).next();return-1===e?this.seek(0).next():e},bo.prototype.next=function(){if(-1===this._pos)return-1;for(var e=this._bitfield.data,t=fo[this._byte];-1===t;)if(this._byte=e.getByte(++this._pos),-1===(t=fo[this._byte])){if(this._pos=this._skipAhead(this._pos),-1===this._pos)return-1;this._byte=e.getByte(this._pos),t=fo[this._byte]}this._byte|=so[t];var n=8*this._pos+t;return n<this.end?n:-1},bo.prototype.peek=function(){if(-1===this._pos)return-1;var e=fo[this._byte],t=8*this._pos+e;return t<this.end?t:-1},bo.prototype._skipAhead=function(e){var t=this._bitfield.index,n=this._indexEnd,r=this._bitfield._iterator,i=3&e;r.seek((e-i)/4*2);for(var o=t.getByte(r.index)|oo[i];-1===co[o];){if(r.isLeft()?r.next():(r.next(),r.parent()),_o(r)>=n){for(;_o(r)>=n&&wo(r);)r.leftChild();if(_o(r)>=n)return-1}o=t.getByte(r.index)}for(;r.factor>2;)co[o]<2?r.leftChild():r.rightChild(),o=t.getByte(r.index);var s=co[o];-1===s&&(s=4);var a=2*r.index+s;return a<=e?e+1:a};var Io=function(e){var t=32;return(e&=-e)&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t},Eo=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Co(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}for(var So=function(){return new Oo},ko=function e(t){Co(this,e);var n=new Uint8Array(t?8456:4360),r=n.byteOffset;this.buffer=n,this.bits=t?null:new Uint32Array(n.buffer,r,1024),this.children=t?new Array(32768):null,this.level=t,this.allOne=t?[new Uint32Array(n.buffer,r,1024),new Uint32Array(n.buffer,r+4096,32),new Uint32Array(n.buffer,r+4224,1)]:[this.bits,new Uint32Array(n.buffer,r+4096,32),new Uint32Array(n.buffer,r+4224,1)],this.oneOne=t?[new Uint32Array(n.buffer,r+4228,1024),new Uint32Array(n.buffer,r+8324,32),new Uint32Array(n.buffer,r+8452,1)]:[this.bits,new Uint32Array(n.buffer,r+4228,32),new Uint32Array(n.buffer,r+4356,1)]},Bo=[new ko(0),new ko(1),new ko(2),new ko(3)],xo=new Uint32Array(32),Mo=new Uint32Array(32),Do=0;Do<32;Do++)xo[Do]=Math.pow(2,31-Do)-1,Mo[Do]=Math.pow(2,32-Do)-1;var Qo=255===new Uint8Array(xo.buffer,xo.byteOffset,1)[0],Oo=function(){function e(){Co(this,e),this.length=32768,this.littleEndian=Qo,this._path=new Uint16Array(5),this._offsets=new Uint16Array(this._path.buffer,this._path.byteOffset+2,4),this._parents=new Array(4).fill(null),this._page=new ko(0),this._allocs=1}return Eo(e,[{key:"last",value:function(){for(var e=this._page,t=0;;){for(var n=2;n>=0;n--){var r=Io(e.oneOne[n][t]);if(32===r)return-1;t=31-r+(t<<5)}if(this._path[e.level]=t,!e.level)return Lo(this._path);e=e.children[t],t=0}}},{key:"set",value:function(e,t){var n=this._getPage(e,t);if(!n)return!1;var r=this._path[0],i=31&r,o=r>>>5,s=n.bits[o];n.bits[o]=t?s|2147483648>>>i:s&~(2147483648>>>i);var a=n.bits[o];return a!==s&&(this._updateAllOne(n,o,a),this._updateOneOne(n,o,a),!0)}},{key:"get",value:function(e){var t=this._getPage(e,!1);if(!t)return!1;var n=this._path[0],r=31&n;return 0!=(t.bits[n>>>5]&2147483648>>>r)}},{key:"iterator",value:function(){return new To(this)}},{key:"fill",value:function(e,t,n){return t||(t=0),!0===e?this._fillBit(!0,t,0===n?n:n||this.length):!1===e?this._fillBit(!1,t,0===n?n:n||this.length):void this._fillBuffer(e,t,0===n?n:n||t+8*e.length)}},{key:"grow",value:function(){if(3===this._page.level)throw new Error("Cannot grow beyond "+this.length);var e=this._page;this._page=new ko(e.level+1),this._page.children[0]=e,3===this._page.level?this.length=Number.MAX_SAFE_INTEGER:this.length*=32768}},{key:"_fillBuffer",value:function(e,t,n){if(7&t||7&n)throw new Error("Offsets must be a multiple of 8");for(t/=8;n>this.length;)this.grow();n/=8;for(var r=this._getPage(t,!0);t<n;){var i=n-t<4096?n-t:4096;(t+=this._setPageBuffer(r,e.subarray(t,t+i),1023&t))!==n&&(r=this._nextPage(r,t))}}},{key:"_fillBit",value:function(e,t,n){for(var r=this._getPage(t,e);t<n;){var i=n-t<32768?n-t:32768;(t+=this._setPageBits(r,e,32767&t,i))!==n&&(r=this._nextPage(r,t))}}},{key:"_nextPage",value:function(e,t){var n=++this._offsets[e.level];return 32768===n?this._getPage(t,!0):this._parents[e.level].children[n]||this._addPage(this._parents[e.level],n)}},{key:"_setPageBuffer",value:function(e,t,n){return new Uint8Array(e.bits.buffer,e.bits.byteOffset,4*e.bits.length).set(t,n),n>>>=2,this._update(e,n,n+(t.length>>>2)+(3&t.length?1:0)),t.length}},{key:"_setPageBits",value:function(e,t,n,r){var i=n>>>5,o=r>>>5,s=4294967295>>>(31&n),a=~(4294967295>>>(31&r));return i===o?(e.bits[i]=t?e.bits[i]|s&a:e.bits[i]&~(s&a),this._update(e,i,i+1),r-n):(e.bits[i]=t?e.bits[i]|s:e.bits[i]&~s,o-i>2&&e.bits.fill(t?4294967295:0,i+1,o-1),1024===o?(e.bits[o-1]=t?4294967295:0,this._update(e,i,o),r-n):(e.bits[o]=t?e.bits[o]|a:e.bits[o]&~a,this._update(e,i,o+1),r-n))}},{key:"_update",value:function(e,t,n){for(;t<n;t++){var r=e.bits[t];this._updateAllOne(e,t,r),this._updateOneOne(e,t,r)}}},{key:"_updateAllOne",value:function(e,t,n){var r=1;do{for(;r<3;r++){var i=e.allOne[r],o=31&t,s=i[t>>>=5];if(i[t]=4294967295===n?s|2147483648>>>o:s&~(2147483648>>>o),(n=i[t])===s)return}t+=this._offsets[e.level],e=this._parents[e.level],r=0}while(e)}},{key:"_updateOneOne",value:function(e,t,n){var r=1;do{for(;r<3;r++){var i=e.oneOne[r],o=31&t,s=i[t>>>=5];if(i[t]=0!==n?s|2147483648>>>o:s&~(2147483648>>>o),(n=i[t])===s)return}t+=this._offsets[e.level],e=this._parents[e.level],r=0,0===n&&e&&(e.children[this._offsets[e.level-1]]=void 0)}while(e)}},{key:"_getPage",value:function(e,t){for(Uo(e,this._path);e>=this.length;){if(!t)return null;this.grow()}for(var n=this._page,r=n.level;r>0&&n;r--){var i=this._path[r];this._parents[r-1]=n,n=n.children[i]||(t?this._addPage(n,i):null)}return n}},{key:"_addPage",value:function(e,t){return this._allocs++,e.children[t]=new ko(e.level-1)}}]),e}(),To=function(){function e(t){Co(this,e),this._bitfield=t,this._path=new Uint16Array(5),this._offsets=new Uint16Array(this._path.buffer,this._path.byteOffset+2,4),this._parents=new Array(4).fill(null),this._page=null,this._allocs=t._allocs,this.seek(0)}return Eo(e,[{key:"seek",value:function(e){if(this._allocs=this._bitfield._allocs,e>=this._bitfield.length)return this._page=null,this;Uo(e,this._path),this._page=this._bitfield._page;for(var t=this._page.level;t>0;t--)this._parents[t-1]=this._page,this._page=this._page.children[this._path[t]]||Bo[t-1];return this}},{key:"next",value:function(e){return e?this.nextTrue():this.nextFalse()}},{key:"nextFalse",value:function(){this._allocs!==this._bitfield._allocs&&this.seek(Lo(this._path));for(var e=this._page,t=this._path[0],n=Mo;e;){for(var r=0;r<3;r++){var i=31&t,o=Math.clz32(~e.allOne[r][t>>>=5]&n[i]);if(32!==o)return this._downLeftFalse(e,r,t,o);n=xo}t=this._offsets[e.level],e=this._parents[e.level]}return-1}},{key:"_downLeftFalse",value:function(e,t,n,r){for(;;){for(;t;)n=(n<<5)+r,r=Math.clz32(~e.allOne[--t][n]);if(n=(n<<5)+r,!e.level)break;this._parents[e.level-1]=e,this._path[e.level]=n,e=e.children[n],t=3,r=n=0}return this._page=e,this._path[0]=n,this._inc()}},{key:"nextTrue",value:function(){for(var e=this._page,t=this._path[0],n=Mo;e;){for(var r=0;r<3;r++){var i=31&t,o=Math.clz32(e.oneOne[r][t>>>=5]&n[i]);if(32!==o)return this._downLeftTrue(e,r,t,o);n=xo}t=this._offsets[e.level],e=this._parents[e.level]}return-1}},{key:"_downLeftTrue",value:function(e,t,n,r){for(;;){for(;t;)n=(n<<5)+r,r=Math.clz32(e.oneOne[--t][n]);if(n=(n<<5)+r,!e.level)break;this._parents[e.level-1]=e,this._path[e.level]=n,e=e.children[n],t=3,r=n=0}return this._page=e,this._path[0]=n,this._inc()}},{key:"_inc",value:function(){var e=Lo(this._path);return this._path[0]<32767?this._path[0]++:this.seek(e+1),e}}]),e}();function Lo(e){return 32768*(32768*(32768*e[3]+e[2])+e[1])+e[0]}function Uo(e,t){e=((e=(e-(t[0]=32767&e))/32768)-(t[1]=32767&e))/32768,t[3]=(e-(t[2]=32767&e))/32768&32767}var Fo=128,No=127,Yo=128,Ro=-128,Ko=Math.pow(2,31),Po=Math.pow(2,7),jo=Math.pow(2,14),Ho=Math.pow(2,21),Wo=Math.pow(2,28),Go=Math.pow(2,35),Vo=Math.pow(2,42),zo=Math.pow(2,49),qo=Math.pow(2,56),Jo=Math.pow(2,63),Xo={encode:function e(t,n,r){n=n||[];for(var i=r=r||0;t>=Ko;)n[r++]=255&t|Yo,t/=128;for(;t&Ro;)n[r++]=255&t|Yo,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},decode:function e(t,n){var r,i=0,o=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],i+=o<28?(r&No)<<o:(r&No)*Math.pow(2,o),o+=7}while(r>=Fo);return e.bytes=s-n,i},encodingLength:function(e){return e<Po?1:e<jo?2:e<Ho?3:e<Wo?4:e<Go?5:e<Vo?6:e<zo?7:e<qo?8:e<Jo?9:10}},Zo=128,$o=127,es=128,ts=-128,ns=Math.pow(2,31),rs=Math.pow(2,7),is=Math.pow(2,14),os=Math.pow(2,21),ss=Math.pow(2,28),as=Math.pow(2,35),us=Math.pow(2,42),hs=Math.pow(2,49),cs=Math.pow(2,56),ls=Math.pow(2,63),ds={encode:function e(t,n,r){n=n||[];for(var i=r=r||0;t>=ns;)n[r++]=255&t|es,t/=128;for(;t&ts;)n[r++]=255&t|es,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},decode:function e(t,n){var r,i=0,o=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],i+=o<28?(r&$o)<<o:(r&$o)*Math.pow(2,o),o+=7}while(r>=Zo);return e.bytes=s-n,i},encodingLength:function(e){return e<rs?1:e<is?2:e<os?3:e<ss?4:e<as?5:e<us?6:e<hs?7:e<cs?8:e<ls?9:10}},ps={encode:function e(t,n,r){var i=ds.encode(t=t>=0?2*t:-2*t-1,n,r);return e.bytes=ds.encode.bytes,i},decode:function e(t,n){var r=ds.decode(t,n);return e.bytes=ds.decode.bytes,1&r?(r+1)/-2:r/2},encodingLength:function(e){return ds.encodingLength(e>=0?2*e:-2*e-1)}},gs={};(function(e){function t(e,t,n,r){return t.bytes=n.bytes=0,{type:e,encode:t,decode:n,encodingLength:r}}function n(t){return e.isBuffer(t)?t.length:e.byteLength(t)}gs.make=t,gs.name=function(e){for(var t=Object.keys(gs),n=0;n<t.length;n++)if(gs[t[n]]===e)return t[n];return null},gs.skip=function(e,t,n){switch(e){case 0:return Xo.decode(t,n),n+Xo.decode.bytes;case 1:return n+8;case 2:var r=Xo.decode(t,n);return n+Xo.decode.bytes+r;case 3:case 4:throw new Error("Groups are not supported");case 5:return n+4}throw new Error("Unknown wire type: "+e)},gs.bytes=t(2,function t(r,i,o){var s=o,a=n(r);return Xo.encode(a,i,o),o+=Xo.encode.bytes,e.isBuffer(r)?r.copy(i,o):i.write(r,o,a),t.bytes=(o+=a)-s,i},function e(t,n){var r=n,i=Xo.decode(t,n);n+=Xo.decode.bytes;var o=t.slice(n,n+i);return n+=o.length,e.bytes=n-r,o},function(e){var t=n(e);return Xo.encodingLength(t)+t}),gs.string=t(2,function t(n,r,i){var o=i,s=e.byteLength(n);return Xo.encode(s,r,i,"utf-8"),i+=Xo.encode.bytes,r.write(n,i,s),t.bytes=(i+=s)-o,r},function e(t,n){var r=n,i=Xo.decode(t,n);n+=Xo.decode.bytes;var o=t.toString("utf-8",n,n+i);return e.bytes=(n+=i)-r,o},function(t){var n=e.byteLength(t);return Xo.encodingLength(n)+n}),gs.bool=t(0,function e(t,n,r){return n[r]=t?1:0,e.bytes=1,n},function e(t,n){var r=t[n]>0;return e.bytes=1,r},function(){return 1}),gs.int32=t(0,function e(t,n,r){return Xo.encode(t<0?t+4294967296:t,n,r),e.bytes=Xo.encode.bytes,n},function e(t,n){var r=Xo.decode(t,n);return e.bytes=Xo.decode.bytes,r>2147483647?r-4294967296:r},function(e){return Xo.encodingLength(e<0?e+4294967296:e)}),gs.int64=t(0,function e(t,n,r){if(t<0){var i=r+9;for(Xo.encode(-1*t,n,r),n[r+=Xo.encode.bytes-1]=128|n[r];r<i-1;)n[++r]=255;n[i]=1,e.bytes=10}else Xo.encode(t,n,r),e.bytes=Xo.encode.bytes;return n},function t(n,r){var i=Xo.decode(n,r);if(i>=Math.pow(2,63)){for(var o=9;255===n[r+o-1];)o--;o=o||9;var s=e.allocUnsafe(o);n.copy(s,0,r,r+o),s[o-1]=127&s[o-1],i=-1*Xo.decode(s,0),t.bytes=10}else t.bytes=Xo.decode.bytes;return i},function(e){return e<0?10:Xo.encodingLength(e)}),gs.sint32=gs.sint64=t(0,ps.encode,ps.decode,ps.encodingLength),gs.uint32=gs.uint64=gs.enum=gs.varint=t(0,Xo.encode,Xo.decode,Xo.encodingLength),gs.fixed64=gs.sfixed64=t(1,function e(t,n,r){return t.copy(n,r),e.bytes=8,n},function e(t,n){var r=t.slice(n,n+8);return e.bytes=8,r},function(){return 8}),gs.double=t(1,function e(t,n,r){return n.writeDoubleLE(t,r),e.bytes=8,n},function e(t,n){var r=t.readDoubleLE(n);return e.bytes=8,r},function(){return 8}),gs.fixed32=t(5,function e(t,n,r){return n.writeUInt32LE(t,r),e.bytes=4,n},function e(t,n){var r=t.readUInt32LE(n);return e.bytes=4,r},function(){return 4}),gs.sfixed32=t(5,function e(t,n,r){return n.writeInt32LE(t,r),e.bytes=4,n},function e(t,n){var r=t.readInt32LE(n);return e.bytes=4,r},function(){return 4}),gs.float=t(5,function e(t,n,r){return n.writeFloatLE(t,r),e.bytes=4,n},function e(t,n){var r=t.readFloatLE(n);return e.bytes=4,r},function(){return 4})}).call(this,v.Buffer);var ys={};(function(e){var t=gs.varint,n=gs.skip,r=ys.Feed={buffer:!0,encodingLength:null,encode:null,decode:null},i=ys.Handshake={buffer:!0,encodingLength:null,encode:null,decode:null},o=ys.Info={buffer:!0,encodingLength:null,encode:null,decode:null},s=ys.Have={buffer:!0,encodingLength:null,encode:null,decode:null},a=ys.Unhave={buffer:!0,encodingLength:null,encode:null,decode:null},u=ys.Want={buffer:!0,encodingLength:null,encode:null,decode:null},h=ys.Unwant={buffer:!0,encodingLength:null,encode:null,decode:null},f=ys.Request={buffer:!0,encodingLength:null,encode:null,decode:null},c=ys.Cancel={buffer:!0,encodingLength:null,encode:null,decode:null},l=ys.Data={buffer:!0,encodingLength:null,encode:null,decode:null};function d(e){return null!=e&&("number"!=typeof e||!isNaN(e))}!function(){var i=[gs.bytes];function o(e){var t=0;if(!d(e.discoveryKey))throw new Error("discoveryKey is required");(t+=1+i[0].encodingLength(e.discoveryKey),d(e.nonce))&&(t+=1+i[0].encodingLength(e.nonce));return t}r.encodingLength=o,r.encode=function t(n,r,s){s||(s=0),r||(r=e.allocUnsafe(o(n)));var a=s;if(!d(n.discoveryKey))throw new Error("discoveryKey is required");return r[s++]=10,i[0].encode(n.discoveryKey,r,s),s+=i[0].encode.bytes,d(n.nonce)&&(r[s++]=18,i[0].encode(n.nonce,r,s),s+=i[0].encode.bytes),t.bytes=s-a,r},r.decode=function e(r,o,s){if(o||(o=0),s||(s=r.length),!(s<=r.length&&o<=r.length))throw new Error("Decoded message is not valid");for(var a=o,u={discoveryKey:null,nonce:null},h=!1;;){if(s<=o){if(!h)throw new Error("Decoded message is not valid");return e.bytes=o-a,u}var f=t.decode(r,o);switch(o+=t.decode.bytes,f>>3){case 1:u.discoveryKey=i[0].decode(r,o),o+=i[0].decode.bytes,h=!0;break;case 2:u.nonce=i[0].decode(r,o),o+=i[0].decode.bytes;break;default:o=n(7&f,r,o)}}}}(),function(){var r=[gs.bytes,gs.bool,gs.string];function o(e){var t=0;d(e.id)&&(t+=1+r[0].encodingLength(e.id));d(e.live)&&(t+=1+r[1].encodingLength(e.live));d(e.userData)&&(t+=1+r[0].encodingLength(e.userData));if(d(e.extensions))for(var n=0;n<e.extensions.length;n++)if(d(e.extensions[n])){t+=1+r[2].encodingLength(e.extensions[n])}d(e.ack)&&(t+=1+r[1].encodingLength(e.ack));return t}i.encodingLength=o,i.encode=function t(n,i,s){s||(s=0),i||(i=e.allocUnsafe(o(n)));var a=s;if(d(n.id)&&(i[s++]=10,r[0].encode(n.id,i,s),s+=r[0].encode.bytes),d(n.live)&&(i[s++]=16,r[1].encode(n.live,i,s),s+=r[1].encode.bytes),d(n.userData)&&(i[s++]=26,r[0].encode(n.userData,i,s),s+=r[0].encode.bytes),d(n.extensions))for(var u=0;u<n.extensions.length;u++)d(n.extensions[u])&&(i[s++]=34,r[2].encode(n.extensions[u],i,s),s+=r[2].encode.bytes);return d(n.ack)&&(i[s++]=40,r[1].encode(n.ack,i,s),s+=r[1].encode.bytes),t.bytes=s-a,i},i.decode=function e(i,o,s){if(o||(o=0),s||(s=i.length),!(s<=i.length&&o<=i.length))throw new Error("Decoded message is not valid");for(var a=o,u={id:null,live:!1,userData:null,extensions:[],ack:!1};;){if(s<=o)return e.bytes=o-a,u;var h=t.decode(i,o);switch(o+=t.decode.bytes,h>>3){case 1:u.id=r[0].decode(i,o),o+=r[0].decode.bytes;break;case 2:u.live=r[1].decode(i,o),o+=r[1].decode.bytes;break;case 3:u.userData=r[0].decode(i,o),o+=r[0].decode.bytes;break;case 4:u.extensions.push(r[2].decode(i,o)),o+=r[2].decode.bytes;break;case 5:u.ack=r[1].decode(i,o),o+=r[1].decode.bytes;break;default:o=n(7&h,i,o)}}}}(),function(){var r=[gs.bool];function i(e){var t=0;d(e.uploading)&&(t+=1+r[0].encodingLength(e.uploading));d(e.downloading)&&(t+=1+r[0].encodingLength(e.downloading));return t}o.encodingLength=i,o.encode=function t(n,o,s){s||(s=0),o||(o=e.allocUnsafe(i(n)));var a=s;return d(n.uploading)&&(o[s++]=8,r[0].encode(n.uploading,o,s),s+=r[0].encode.bytes),d(n.downloading)&&(o[s++]=16,r[0].encode(n.downloading,o,s),s+=r[0].encode.bytes),t.bytes=s-a,o},o.decode=function e(i,o,s){if(o||(o=0),s||(s=i.length),!(s<=i.length&&o<=i.length))throw new Error("Decoded message is not valid");for(var a=o,u={uploading:!1,downloading:!1};;){if(s<=o)return e.bytes=o-a,u;var h=t.decode(i,o);switch(o+=t.decode.bytes,h>>3){case 1:u.uploading=r[0].decode(i,o),o+=r[0].decode.bytes;break;case 2:u.downloading=r[0].decode(i,o),o+=r[0].decode.bytes;break;default:o=n(7&h,i,o)}}}}(),function(){var r=[gs.varint,gs.bytes];function i(e){var t=0;if(!d(e.start))throw new Error("start is required");(t+=1+r[0].encodingLength(e.start),d(e.length))&&(t+=1+r[0].encodingLength(e.length));d(e.bitfield)&&(t+=1+r[1].encodingLength(e.bitfield));return t}s.encodingLength=i,s.encode=function t(n,o,s){s||(s=0),o||(o=e.allocUnsafe(i(n)));var a=s;if(!d(n.start))throw new Error("start is required");return o[s++]=8,r[0].encode(n.start,o,s),s+=r[0].encode.bytes,d(n.length)&&(o[s++]=16,r[0].encode(n.length,o,s),s+=r[0].encode.bytes),d(n.bitfield)&&(o[s++]=26,r[1].encode(n.bitfield,o,s),s+=r[1].encode.bytes),t.bytes=s-a,o},s.decode=function e(i,o,s){if(o||(o=0),s||(s=i.length),!(s<=i.length&&o<=i.length))throw new Error("Decoded message is not valid");for(var a=o,u={start:0,length:1,bitfield:null},h=!1;;){if(s<=o){if(!h)throw new Error("Decoded message is not valid");return e.bytes=o-a,u}var f=t.decode(i,o);switch(o+=t.decode.bytes,f>>3){case 1:u.start=r[0].decode(i,o),o+=r[0].decode.bytes,h=!0;break;case 2:u.length=r[0].decode(i,o),o+=r[0].decode.bytes;break;case 3:u.bitfield=r[1].decode(i,o),o+=r[1].decode.bytes;break;default:o=n(7&f,i,o)}}}}(),function(){var r=[gs.varint];function i(e){var t=0;if(!d(e.start))throw new Error("start is required");(t+=1+r[0].encodingLength(e.start),d(e.length))&&(t+=1+r[0].encodingLength(e.length));return t}a.encodingLength=i,a.encode=function t(n,o,s){s||(s=0),o||(o=e.allocUnsafe(i(n)));var a=s;if(!d(n.start))throw new Error("start is required");return o[s++]=8,r[0].encode(n.start,o,s),s+=r[0].encode.bytes,d(n.length)&&(o[s++]=16,r[0].encode(n.length,o,s),s+=r[0].encode.bytes),t.bytes=s-a,o},a.decode=function e(i,o,s){if(o||(o=0),s||(s=i.length),!(s<=i.length&&o<=i.length))throw new Error("Decoded message is not valid");for(var a=o,u={start:0,length:1},h=!1;;){if(s<=o){if(!h)throw new Error("Decoded message is not valid");return e.bytes=o-a,u}var f=t.decode(i,o);switch(o+=t.decode.bytes,f>>3){case 1:u.start=r[0].decode(i,o),o+=r[0].decode.bytes,h=!0;break;case 2:u.length=r[0].decode(i,o),o+=r[0].decode.bytes;break;default:o=n(7&f,i,o)}}}}(),function(){var r=[gs.varint];function i(e){var t=0;if(!d(e.start))throw new Error("start is required");(t+=1+r[0].encodingLength(e.start),d(e.length))&&(t+=1+r[0].encodingLength(e.length));return t}u.encodingLength=i,u.encode=function t(n,o,s){s||(s=0),o||(o=e.allocUnsafe(i(n)));var a=s;if(!d(n.start))throw new Error("start is required");return o[s++]=8,r[0].encode(n.start,o,s),s+=r[0].encode.bytes,d(n.length)&&(o[s++]=16,r[0].encode(n.length,o,s),s+=r[0].encode.bytes),t.bytes=s-a,o},u.decode=function e(i,o,s){if(o||(o=0),s||(s=i.length),!(s<=i.length&&o<=i.length))throw new Error("Decoded message is not valid");for(var a=o,u={start:0,length:0},h=!1;;){if(s<=o){if(!h)throw new Error("Decoded message is not valid");return e.bytes=o-a,u}var f=t.decode(i,o);switch(o+=t.decode.bytes,f>>3){case 1:u.start=r[0].decode(i,o),o+=r[0].decode.bytes,h=!0;break;case 2:u.length=r[0].decode(i,o),o+=r[0].decode.bytes;break;default:o=n(7&f,i,o)}}}}(),function(){var r=[gs.varint];function i(e){var t=0;if(!d(e.start))throw new Error("start is required");(t+=1+r[0].encodingLength(e.start),d(e.length))&&(t+=1+r[0].encodingLength(e.length));return t}h.encodingLength=i,h.encode=function t(n,o,s){s||(s=0),o||(o=e.allocUnsafe(i(n)));var a=s;if(!d(n.start))throw new Error("start is required");return o[s++]=8,r[0].encode(n.start,o,s),s+=r[0].encode.bytes,d(n.length)&&(o[s++]=16,r[0].encode(n.length,o,s),s+=r[0].encode.bytes),t.bytes=s-a,o},h.decode=function e(i,o,s){if(o||(o=0),s||(s=i.length),!(s<=i.length&&o<=i.length))throw new Error("Decoded message is not valid");for(var a=o,u={start:0,length:0},h=!1;;){if(s<=o){if(!h)throw new Error("Decoded message is not valid");return e.bytes=o-a,u}var f=t.decode(i,o);switch(o+=t.decode.bytes,f>>3){case 1:u.start=r[0].decode(i,o),o+=r[0].decode.bytes,h=!0;break;case 2:u.length=r[0].decode(i,o),o+=r[0].decode.bytes;break;default:o=n(7&f,i,o)}}}}(),function(){var r=[gs.varint,gs.bool];function i(e){var t=0;if(!d(e.index))throw new Error("index is required");(t+=1+r[0].encodingLength(e.index),d(e.bytes))&&(t+=1+r[0].encodingLength(e.bytes));d(e.hash)&&(t+=1+r[1].encodingLength(e.hash));d(e.nodes)&&(t+=1+r[0].encodingLength(e.nodes));return t}f.encodingLength=i,f.encode=function t(n,o,s){s||(s=0),o||(o=e.allocUnsafe(i(n)));var a=s;if(!d(n.index))throw new Error("index is required");return o[s++]=8,r[0].encode(n.index,o,s),s+=r[0].encode.bytes,d(n.bytes)&&(o[s++]=16,r[0].encode(n.bytes,o,s),s+=r[0].encode.bytes),d(n.hash)&&(o[s++]=24,r[1].encode(n.hash,o,s),s+=r[1].encode.bytes),d(n.nodes)&&(o[s++]=32,r[0].encode(n.nodes,o,s),s+=r[0].encode.bytes),t.bytes=s-a,o},f.decode=function e(i,o,s){if(o||(o=0),s||(s=i.length),!(s<=i.length&&o<=i.length))throw new Error("Decoded message is not valid");for(var a=o,u={index:0,bytes:0,hash:!1,nodes:0},h=!1;;){if(s<=o){if(!h)throw new Error("Decoded message is not valid");return e.bytes=o-a,u}var f=t.decode(i,o);switch(o+=t.decode.bytes,f>>3){case 1:u.index=r[0].decode(i,o),o+=r[0].decode.bytes,h=!0;break;case 2:u.bytes=r[0].decode(i,o),o+=r[0].decode.bytes;break;case 3:u.hash=r[1].decode(i,o),o+=r[1].decode.bytes;break;case 4:u.nodes=r[0].decode(i,o),o+=r[0].decode.bytes;break;default:o=n(7&f,i,o)}}}}(),function(){var r=[gs.varint,gs.bool];function i(e){var t=0;if(!d(e.index))throw new Error("index is required");(t+=1+r[0].encodingLength(e.index),d(e.bytes))&&(t+=1+r[0].encodingLength(e.bytes));d(e.hash)&&(t+=1+r[1].encodingLength(e.hash));return t}c.encodingLength=i,c.encode=function t(n,o,s){s||(s=0),o||(o=e.allocUnsafe(i(n)));var a=s;if(!d(n.index))throw new Error("index is required");return o[s++]=8,r[0].encode(n.index,o,s),s+=r[0].encode.bytes,d(n.bytes)&&(o[s++]=16,r[0].encode(n.bytes,o,s),s+=r[0].encode.bytes),d(n.hash)&&(o[s++]=24,r[1].encode(n.hash,o,s),s+=r[1].encode.bytes),t.bytes=s-a,o},c.decode=function e(i,o,s){if(o||(o=0),s||(s=i.length),!(s<=i.length&&o<=i.length))throw new Error("Decoded message is not valid");for(var a=o,u={index:0,bytes:0,hash:!1},h=!1;;){if(s<=o){if(!h)throw new Error("Decoded message is not valid");return e.bytes=o-a,u}var f=t.decode(i,o);switch(o+=t.decode.bytes,f>>3){case 1:u.index=r[0].decode(i,o),o+=r[0].decode.bytes,h=!0;break;case 2:u.bytes=r[0].decode(i,o),o+=r[0].decode.bytes;break;case 3:u.hash=r[1].decode(i,o),o+=r[1].decode.bytes;break;default:o=n(7&f,i,o)}}}}(),function(){var r=l.Node={buffer:!0,encodingLength:null,encode:null,decode:null};!function(){var i=[gs.varint,gs.bytes];function o(e){var t=0;if(!d(e.index))throw new Error("index is required");if(t+=1+i[0].encodingLength(e.index),!d(e.hash))throw new Error("hash is required");if(t+=1+i[1].encodingLength(e.hash),!d(e.size))throw new Error("size is required");return t+(1+i[0].encodingLength(e.size))}r.encodingLength=o,r.encode=function t(n,r,s){s||(s=0),r||(r=e.allocUnsafe(o(n)));var a=s;if(!d(n.index))throw new Error("index is required");if(r[s++]=8,i[0].encode(n.index,r,s),s+=i[0].encode.bytes,!d(n.hash))throw new Error("hash is required");if(r[s++]=18,i[1].encode(n.hash,r,s),s+=i[1].encode.bytes,!d(n.size))throw new Error("size is required");return r[s++]=24,i[0].encode(n.size,r,s),s+=i[0].encode.bytes,t.bytes=s-a,r},r.decode=function e(r,o,s){if(o||(o=0),s||(s=r.length),!(s<=r.length&&o<=r.length))throw new Error("Decoded message is not valid");for(var a=o,u={index:0,hash:null,size:0},h=!1,f=!1,c=!1;;){if(s<=o){if(!h||!f||!c)throw new Error("Decoded message is not valid");return e.bytes=o-a,u}var l=t.decode(r,o);switch(o+=t.decode.bytes,l>>3){case 1:u.index=i[0].decode(r,o),o+=i[0].decode.bytes,h=!0;break;case 2:u.hash=i[1].decode(r,o),o+=i[1].decode.bytes,f=!0;break;case 3:u.size=i[0].decode(r,o),o+=i[0].decode.bytes,c=!0;break;default:o=n(7&l,r,o)}}}}();var i=[gs.varint,gs.bytes,r];function o(e){var n=0;if(!d(e.index))throw new Error("index is required");(n+=1+(o=i[0].encodingLength(e.index)),d(e.value))&&(n+=1+(o=i[1].encodingLength(e.value)));if(d(e.nodes))for(var r=0;r<e.nodes.length;r++)if(d(e.nodes[r])){var o=i[2].encodingLength(e.nodes[r]);n+=t.encodingLength(o),n+=1+o}d(e.signature)&&(n+=1+(o=i[1].encodingLength(e.signature)));return n}l.encodingLength=o,l.encode=function n(r,s,a){a||(a=0),s||(s=e.allocUnsafe(o(r)));var u=a;if(!d(r.index))throw new Error("index is required");if(s[a++]=8,i[0].encode(r.index,s,a),a+=i[0].encode.bytes,d(r.value)&&(s[a++]=18,i[1].encode(r.value,s,a),a+=i[1].encode.bytes),d(r.nodes))for(var h=0;h<r.nodes.length;h++)d(r.nodes[h])&&(s[a++]=26,t.encode(i[2].encodingLength(r.nodes[h]),s,a),a+=t.encode.bytes,i[2].encode(r.nodes[h],s,a),a+=i[2].encode.bytes);return d(r.signature)&&(s[a++]=34,i[1].encode(r.signature,s,a),a+=i[1].encode.bytes),n.bytes=a-u,s},l.decode=function e(r,o,s){if(o||(o=0),s||(s=r.length),!(s<=r.length&&o<=r.length))throw new Error("Decoded message is not valid");for(var a=o,u={index:0,value:null,nodes:[],signature:null},h=!1;;){if(s<=o){if(!h)throw new Error("Decoded message is not valid");return e.bytes=o-a,u}var f=t.decode(r,o);switch(o+=t.decode.bytes,f>>3){case 1:u.index=i[0].decode(r,o),o+=i[0].decode.bytes,h=!0;break;case 2:u.value=i[1].decode(r,o),o+=i[1].decode.bytes;break;case 3:var c=t.decode(r,o);o+=t.decode.bytes,u.nodes.push(i[2].decode(r,o,o+c)),o+=i[2].decode.bytes;break;case 4:u.signature=i[1].decode(r,o),o+=i[1].decode.bytes;break;default:o=n(7&f,r,o)}}}}()}).call(this,v.Buffer);var As=128,vs=127,ms=128,bs=-128,_s=Math.pow(2,31),ws=Math.pow(2,7),Is=Math.pow(2,14),Es=Math.pow(2,21),Cs=Math.pow(2,28),Ss=Math.pow(2,35),ks=Math.pow(2,42),Bs=Math.pow(2,49),xs=Math.pow(2,56),Ms=Math.pow(2,63),Ds={encode:function e(t,n,r){n=n||[];for(var i=r=r||0;t>=_s;)n[r++]=255&t|ms,t/=128;for(;t&bs;)n[r++]=255&t|ms,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},decode:function e(t,n){var r,i=0,o=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],i+=o<28?(r&vs)<<o:(r&vs)*Math.pow(2,o),o+=7}while(r>=As);return e.bytes=s-n,i},encodingLength:function(e){return e<ws?1:e<Is?2:e<Es?3:e<Cs?4:e<Ss?5:e<ks?6:e<Bs?7:e<xs?8:e<Ms?9:10}},Qs={};(function(e){function t(e){if(!(this instanceof t))return new t(e);ne.EventEmitter.call(this),this.key=null,this.discoveryKey=null,this.stream=e,this.peer=null,this.id=-1,this.remoteId=-1,this.header=0,this.headerLength=0,this.closed=!1,this._buffer=[]}function n(e,t,n,r){try{return e.decode(t,n,r)}catch(Pl){return null}}Qs=t,Te(t,ne.EventEmitter),t.prototype.handshake=function(e){return this._send(1,ys.Handshake,e)},t.prototype.info=function(e){return this._send(2,ys.Info,e)},t.prototype.have=function(e){return this._send(3,ys.Have,e)},t.prototype.unhave=function(e){return this._send(4,ys.Unhave,e)},t.prototype.want=function(e){return this._send(5,ys.Want,e)},t.prototype.unwant=function(e){return this._send(6,ys.Unwant,e)},t.prototype.request=function(e){return this._send(7,ys.Request,e)},t.prototype.cancel=function(e){return this._send(8,ys.Cancel,e)},t.prototype.data=function(e){return this._send(9,ys.Data,e)},t.prototype.extension=function(e,t){var n=this.stream.extensions.indexOf(e);if(-1===n)return!1;var r=15|this.header,i=this.headerLength+Ds.encodingLength(n)+t.length,o=sn(Ds.encodingLength(i)+i),s=0;return Ds.encode(i,o,s),s+=Ds.encode.bytes,Ds.encode(r,o,s),s+=Ds.encode.bytes,Ds.encode(n,o,s),s+=Ds.encode.bytes,t.copy(o,s),this.stream._push(o)},t.prototype.remoteSupports=function(e){return this.stream.remoteSupports(e)},t.prototype.destroy=function(e){this.stream.destroy(e)},t.prototype.close=function(){var e=this.stream.feeds.indexOf(this);if(e>-1){if(this.stream.feeds[e]=this.stream.feeds[this.stream.feeds.length-1],this.stream.feeds.pop(),this.stream._localFeeds[this.id]=null,this.id=-1,this.stream.destroyed)return;if(this.stream.expectedFeeds<=0||--this.stream.expectedFeeds)return;this.stream._prefinalize()}},t.prototype._onclose=function(){if(!this.closed){if(this.closed=!0,!this.stream.destroyed){this.close(),this.remoteId>-1&&(this.stream._remoteFeeds[this.remoteId]=null);var e=this.discoveryKey.toString("hex");this.stream._feeds[e]===this&&delete this.stream._feeds[e]}this.peer?this.peer.onclose():this.emit("close")}},t.prototype._resume=function(){var t=this;e.nextTick(function(){for(;t._buffer.length;){var e=t._buffer.shift();t._emit(e.type,e.message)}t._buffer=null})},t.prototype._onextension=function(e,t,n){if(!(n<=t)){var r=Ds.decode(e,t),i=this.stream.remoteExtensions,o=!i||r>=i.length?-1:i[r];if(-1!==o){var s=e.slice(t+Ds.decode.bytes,n),a=this.stream.extensions[o];this.peer&&this.peer.onextension?this.peer.onextension(a,s):this.emit("extension",a,s)}}},t.prototype._onmessage=function(e,t,r,i){var o=function(e,t,r,i){switch(e){case 1:return n(ys.Handshake,t,r,i);case 2:return n(ys.Info,t,r,i);case 3:return n(ys.Have,t,r,i);case 4:return n(ys.Unhave,t,r,i);case 5:return n(ys.Want,t,r,i);case 6:return n(ys.Unwant,t,r,i);case 7:return n(ys.Request,t,r,i);case 8:return n(ys.Cancel,t,r,i);case 9:return n(ys.Data,t,r,i)}}(e,t,r,i);if(o&&!this.closed)return 1===e?this.stream._onhandshake(o):void(this._buffer?this._buffer.length>16?this.destroy(new Error("Remote sent too many messages on an unopened feed")):this._buffer.push({type:e,message:o}):this._emit(e,o))},t.prototype._emit=function(e,t){if(this.peer)switch(e){case 2:return this.peer.oninfo(t);case 3:return this.peer.onhave(t);case 4:return this.peer.onunhave(t);case 5:return this.peer.onwant(t);case 6:return this.peer.onunwant(t);case 7:return this.peer.onrequest(t);case 8:return this.peer.oncancel(t);case 9:return this.peer.ondata(t)}else switch(e){case 2:return this.emit("info",t);case 3:return this.emit("have",t);case 4:return this.emit("unhave",t);case 5:return this.emit("want",t);case 6:return this.emit("unwant",t);case 7:return this.emit("request",t);case 8:return this.emit("cancel",t);case 9:return this.emit("data",t)}},t.prototype._send=function(e,t,n){var r=this.header|e,i=this.headerLength+t.encodingLength(n),o=sn(Ds.encodingLength(i)+i),s=0;return Ds.encode(i,o,s),s+=Ds.encode.bytes,Ds.encode(r,o,s),s+=Ds.encode.bytes,t.encode(n,o,s),this.stream._push(o)}}).call(this,Fe);var Os={};(function(e){function t(e){if(!(this instanceof t))return new t(e);e||(e={}),Mt.Duplex.call(this);var r=this;this.id=e.id||n(32),this.live=!!e.live,this.ack=!!e.ack,this.userData=e.userData||null,this.remoteId=null,this.remoteLive=!1,this.remoteUserData=null,this.destroyed=!1,this.encrypted=!1!==e.encrypt,this.key=null,this.discoveryKey=null,this.remoteDiscoveryKey=null,this.feeds=[],this.expectedFeeds=e.expectedFeeds||0,this.extensions=e.extensions||[],this.remoteExtensions=null,this._localFeeds=[],this._remoteFeeds=[],this._feeds={},this._nonce=null,this._remoteNonce=null,this._xor=null,this._remoteXor=null,this._needsKey=!1,this._length=sn(Ds.encodingLength(8388608)),this._missing=0,this._buf=null,this._pointer=0,this._data=null,this._start=0,this._cb=null,this._interval=null,this._keepAlive=0,this._remoteKeepAlive=0,this._maybeFinalize=function(e){if(e)return r.destroy(e);r.expectedFeeds||r.finalize()},this._utp=null,0!==e.timeout&&!1!==e.timeout&&this.setTimeout(e.timeout||5e3,this._ontimeout),this.on("finish",this.finalize),this.on("pipe",this._onpipe)}function n(e){var t=sn(e);return ki.randombytes_buf(t),t}Os=t,Te(t,Mt.Duplex),t.prototype._onpipe=function(e){"function"==typeof e.setContentSize&&(this._utp=e)},t.prototype._prefinalize=function(){this.emit("prefinalize",this._maybeFinalize)||this.finalize()},t.prototype.setTimeout=function(e,t){if(!this.destroyed){t&&this.once("timeout",t);var n=this;this._keepAlive=0,this._remoteKeepAlive=0,clearInterval(this._interval),e&&(this._interval=setInterval(function(){n._kick()},e/4|0),this._interval.unref&&this._interval.unref())}},t.prototype.feed=function(e,t){if(this.destroyed)return null;t||(t={});var r=t.discoveryKey||function(e){var t=sn(32);return ki.crypto_generichash(t,un("hypercore"),e),t}(e),i=this._feed(r);if(i.id>-1)return t.peer&&(i.peer=t.peer),i;if(this._localFeeds.length>=256)return this._tooManyFeeds(),null;i.id=this._localFeeds.push(i)-1,i.header=i.id<<4,i.headerLength=Ds.encodingLength(i.header),i.key=e,i.discoveryKey=r,t.peer&&(i.peer=t.peer),this.feeds.push(i);var o=!this.key,s={discoveryKey:r,nonce:null};if(o){if(this.key=e,this.discoveryKey=r,!this._sameKey())return null;this.encrypted&&(s.nonce=this._nonce=n(24),this._xor=ki.crypto_stream_xor_instance(this._nonce,this.key),this._remoteNonce&&(this._remoteXor=ki.crypto_stream_xor_instance(this._remoteNonce,this.key))),this._needsKey&&(this._needsKey=!1,this._resume())}var a=function(e,t){var n=i.id<<4,r=Ds.encodingLength(n)+ys.Feed.encodingLength(e),o=sn(Ds.encodingLength(r)+r),s=0;return Ds.encode(r,o,s),s+=Ds.encode.bytes,Ds.encode(n,o,s),s+=Ds.encode.bytes,ys.Feed.encode(e,o,s),o}(s);return!s.nonce&&this.encrypted&&this._xor.update(a,a),this._keepAlive=0,this.push(a),this.destroyed?null:(o&&i.handshake({id:this.id,live:this.live,userData:this.userData,extensions:this.extensions,ack:this.ack}),i._buffer.length?i._resume():i._buffer=null,i)},t.prototype._resume=function(){var t=this;e.nextTick(function(){if(t._data){var e=t._data,n=t._start,r=t._cb;t._data=null,t._start=0,t._cb=null,t._parse(e,n,r)}})},t.prototype._kick=function(){if(this._remoteKeepAlive>4)return clearInterval(this._interval),void this.emit("timeout");for(var e=0;e<this.feeds.length;e++){var t=this.feeds[e];t.peer?t.peer.ontick():t.emit("tick")}this._remoteKeepAlive++,this._keepAlive>2?(this.ping(),this._keepAlive=0):this._keepAlive++},t.prototype.ping=function(){if(!this.key)return!0;var e=un([0]);return this._xor&&this._xor.update(e,e),this.push(e)},t.prototype.destroy=function(e){this.destroyed||(this.destroyed=!0,e&&this.emit("error",e),this._close(),this.emit("close"))},t.prototype.finalize=function(){this.destroyed||(this.destroyed=!0,this._close(),this.push(null))},t.prototype._close=function(){clearInterval(this._interval);var e=this.feeds;this.feeds=[];for(var t=0;t<e.length;t++)e[t]._onclose();this._xor&&(this._xor.final(),this._xor=null)},t.prototype._read=function(){},t.prototype._push=function(e){if(!this.destroyed)return this._keepAlive=0,this._xor&&this._xor.update(e,e),this.push(e)},t.prototype._write=function(e,t,n){this._remoteKeepAlive=0,this._parse(e,0,n)},t.prototype._feed=function(e){var t=e.toString("hex"),n=this._feeds[t];return n||(this._feeds[t]=Qs(this))},t.prototype.remoteSupports=function(e){var t=this.extensions.indexOf(e);return t>-1&&!!this.remoteExtensions&&this.remoteExtensions.indexOf(t)>-1},t.prototype._onhandshake=function(e){this.remoteId||(this.remoteId=e.id||n(32),this.remoteLive=e.live,this.remoteUserData=e.userData,this.remoteExtensions=function(e,t){for(var n=new Array(t.length),r=0,i=0;r<e.length&&i<t.length;){var o=e[r],s=t[i];o!==s?o<s?r++:n[i++]=-1:n[i++]=r}for(;i<t.length;i++)n[i]=-1;return n}(this.extensions,e.extensions),this.remoteAck=e.ack,this.emit("handshake"))},t.prototype._onopen=function(e,t,n,r){var i=function(e,t,n){var r=null;try{r=ys.Feed.decode(e,t,n)}catch(Pl){return null}return 32!==r.discoveryKey.length?null:r.nonce&&24!==r.nonce.length?null:r}(t,n,r);if(!i)return this._badFeed();if(!this.remoteDiscoveryKey){if(this.remoteDiscoveryKey=i.discoveryKey,!this._sameKey())return;if(this.encrypted&&!this._remoteNonce){if(!i.nonce)return void this.destroy(new Error("Remote did not include a nonce"));this._remoteNonce=i.nonce}this.encrypted&&this.key&&!this._remoteXor&&(this._remoteXor=ki.crypto_stream_xor_instance(this._remoteNonce,this.key))}this._remoteFeeds[e]=this._feed(i.discoveryKey),i.remoteId=e,this.emit("feed",i.discoveryKey)},t.prototype._onmessage=function(e,t,n){if(!(n-t<2)){var r=function(e,t){try{return Ds.decode(e,t)}catch(Pl){return-1}}(e,t);if(-1===r)return this.destroy(new Error("Remote sent invalid header"));t+=Ds.decode.bytes;var i=r>>4,o=15&r;if(i>=256)return this._tooManyFeeds();for(;this._remoteFeeds.length<i;)this._remoteFeeds.push(null);var s=this._remoteFeeds[i];return 0===o?(s&&s._onclose(),this._onopen(i,e,t,n)):s?15===o?s._onextension(e,t,n):void s._onmessage(o,e,t,n):this._badFeed()}},t.prototype._parse=function(e,t,n){var r=!!this._remoteXor;for(t&&(e=e.slice(t),t=0),this._remoteXor&&this._remoteXor.update(e,e);t<e.length&&!this.destroyed;){if(t=this._missing?this._parseMessage(e,t):this._parseLength(e,t),this._needsKey)return this._data=e,this._start=t,void(this._cb=n);if(!r&&this._remoteXor)return this._parse(e,t,n)}n()},t.prototype._parseMessage=function(e,t){var n=t+this._missing;if(n<=e.length){var r=n;return this._buf&&(e.copy(this._buf,this._pointer,t),t=0,n=(e=this._buf).length,this._buf=null),this._missing=0,this._pointer=0,this.encrypted&&!this.key&&(this._needsKey=!0),this._onmessage(e,t,n),r}this._buf||(this._buf=sn(this._missing),this._pointer=0);var i=e.length-t;return e.copy(this._buf,this._pointer,t),this._pointer+=i,this._missing-=i,e.length},t.prototype._parseLength=function(e,t){for(;!this._missing&&t<e.length;){if(!(128&(this._length[this._pointer++]=e[t++]))){if(this._missing=Ds.decode(this._length),this._pointer=0,this._missing>8388608)return this._tooBig(e.length);if(this._utp){var n=this._missing-(e.length-t);n>0&&!this._needsKey&&this._utp.setContentSize(n)}return t}if(this._pointer>=this._length.length)return this._tooBig(e.length)}return t},t.prototype._sameKey=function(){return!this.discoveryKey||!this.remoteDiscoveryKey||this.remoteDiscoveryKey.toString("hex")===this.discoveryKey.toString("hex")||(this.destroy(new Error("First shared hypercore must be the same")),!1)},t.prototype._tooManyFeeds=function(){this.destroy(new Error("Only 256 feeds currently supported. Open a Github issue if you need more"))},t.prototype._tooBig=function(e){return this.destroy(new Error("Remote message is larger than 8MB (max allowed)")),e},t.prototype._badFeed=function(){this.destroy(new Error("Remote sent invalid feed message"))},t.prototype._ontimeout=function(){this.destroy(new Error("Remote timed out"))}}).call(this,Fe);var Ts={};function Ls(e,t){return t._index<e.length&&e[t._index]===t}Ts.add=function(e,t){return Ls(e,t)?t:(t._index=e.length,e.push(t),t)},Ts.has=Ls,Ts.remove=function(e,t){if(!Ls(e,t))return null;var n=e.pop();return n!==t&&(e[t._index]=n,n._index=t._index),t},Ts.swap=function(e,t,n){if(Ls(e,t)&&Ls(e,n)){var r=t._index;t._index=n._index,e[t._index]=t,n._index=r,e[n._index]=n}};var Us,Fs=eo.align(4),Ns=new Uint8Array(1024);function Ys(e,t){this.feed=e,this.stream=null,this.remoteId=null,this.remoteBitfield=So(),this.remoteLength=0,this.remoteWant=!1,this.live=!!t.live,this.sparse=e.sparse,this.remoteDownloading=!0,this.downloading="boolean"==typeof t.download?t.download:!e.writable,this.uploading=!0,this.maxRequests=t.maxRequests||e.maxRequests||16,this.inflightRequests=[],this._index=-1,this._lastBytes=0,this._first=!0,this._closed=!1,this._destroyed=!1,this._defaultDownloading=this.downloading,this._iterator=this.remoteBitfield.iterator()}function Rs(e){var t=e?e.buffer:Ns;return new DataView(t.buffer,t.byteOffset,1024)}Us=function(e,t){var n=t.stream;return n||(t.expectedFeeds||(t.expectedFeeds=1),t.id||(t.id=e.id),n=Os(t)),e.ready(function(r){if(r)return n.destroy(r);if(!n.destroyed){var i=new Ys(e,t);i.feed=e,i.stream=n.feed(e.key,{peer:i}),i.remoteId=n.remoteId,n.setMaxListeners(0),n.on("handshake",function(){i.remoteId=n.remoteId}),n.destroyed||i.ready()}}),n},Ys.prototype.onwant=function(){this.remoteWant=!0;var e=this.feed.bitfield.compress();this.stream.have({start:0,bitfield:e})},Ys.prototype.ondata=function(e){var t=this;if(!this.feed.allowPush&&e.value&&!this.feed._reserved.get(e.index))return t.feed.bitfield.get(e.index)||t.unhave({start:e.index}),void t._clear(e.index,!e.value);this.feed._putBuffer(e.index,e.value,e,this,function(n){if(n)return t.destroy(n);t.remoteBitfield.set(e.index,!1),t._clear(e.index,!e.value)})},Ys.prototype._clear=function(e,t){for(var n=0;n<this.inflightRequests.length;n++)this.inflightRequests[n].index===e&&(this.inflightRequests.splice(n,1),n--);this.feed._reserved.set(e,!1),this.feed._updatePeers()},Ys.prototype.onrequest=function(e){if(e.bytes)return this._onbytes(e);var t=this,n={digest:e.nodes,hash:e.hash};this.feed.proof(e.index,n,function(n,r){if(n)return t.destroy(n);function i(n,i){if(n)return t.destroy(n);i&&t.feed.emit("upload",e.index,i,t),e.index+1>t.remoteLength&&(t.remoteLength=e.index+1,t._updateEnd()),t.stream.data({index:e.index,value:i,nodes:r.nodes,signature:r.signature})}e.hash?i(null,null):t.feed.bitfield.get(e.index)&&t.feed._getBuffer(e.index,i)})},Ys.prototype._onbytes=function(e){var t=this;this.feed.seek(e.bytes,{wait:!1},function(n,r){if(n)return e.bytes=0,void t.onrequest(e);t._lastBytes!==e.bytes&&(t._lastBytes=e.bytes,e.bytes=0,e.index=r,e.nodes=0,t.onrequest(e))})},Ys.prototype.ontick=function(){if(this.inflightRequests.length){var e=this.inflightRequests[0];if(!--e.tick)return(e.hash?this.feed.tree.get(2*e.index):this.feed.bitfield.get(e.index))?(this.inflightRequests.shift(),void this.feed._reserved.set(e.index,!1)):void this.destroy(new Error("Request timeout"))}},Ys.prototype.onhave=function(e){var t=this._first;if(this._first&&(this._first=!1),e.bitfield){var n=Fs.decode(e.bitfield),r=8*n.length;!function(e,t,n){for(var r=new DataView(t.buffer,t.byteOffset),i=Math.floor(t.length/4),o=new Uint32Array(t.buffer,t.byteOffset,i),s=0,a=0,u=Rs(e.pages.get(s++,!0)),h=0;h<i;h++)o[h]=r.getUint32(4*h,!n)&~u.getUint32(4*a++,!n),256===a&&(u=Rs(e.pages.get(s++,!0)),a=0)}(this.feed.bitfield,n,this.remoteBitfield.littleEndian),this.remoteBitfield.fill(n,0),r>this.remoteLength&&(this.remoteLength=this.remoteBitfield.last()+1,t=!0)}else{for(var i=e.start,o=e.length||1;o--;)this.remoteBitfield.set(i,!this.feed.bitfield.get(i++));i>this.remoteLength&&(this.remoteLength=i,t=!0)}t&&this.feed.emit("remote-update",this),this._updateEnd(),this.update()},Ys.prototype._updateEnd=function(){if(!this.live&&!this.feed.sparse&&this.feed._selections.length){for(var e=this.feed._selections[0],t=this.feed.length||-1,n=0;n<this.feed.peers.length;n++)this.feed.peers[n].remoteLength>t&&(t=this.feed.peers[n].remoteLength);e.end=t}},Ys.prototype.oninfo=function(e){this.remoteDownloading=e.downloading,e.downloading||this.live||(this.update(),this.feed._selections.length&&this.downloading||this.end())},Ys.prototype.onunhave=function(e){for(var t=e.start,n=e.length||1;n--;)this.remoteBitfield.set(t++,!1)},Ys.prototype.onunwant=Ys.prototype.oncancel=function(){},Ys.prototype.onclose=function(){this.destroy()},Ys.prototype.have=function(e){this.stream&&this.remoteWant&&this.stream.have(e);for(var t=e.start,n=e.length;n--;)this.remoteBitfield.set(t++,!1)},Ys.prototype.unhave=function(e){this.stream&&this.remoteWant&&this.stream.unhave(e)},Ys.prototype.haveBytes=function(e){for(var t=0;t<this.inflightRequests.length;t++)this.inflightRequests[t].bytes===e&&(this.feed._reserved.set(this.inflightRequests[t].index,!1),this.inflightRequests.splice(t,1),t--);this.update()},Ys.prototype.update=function(){for(;this._update(););},Ys.prototype._update=function(){if(!this.downloading)return!1;for(var e=this.feed._selections,t=this.feed._waiting,n=t.length,r=e.length,i=this.inflightRequests.length,o=0,s=0;i<this.maxRequests;){for(o=Math.floor(Math.random()*t.length),s=0;s<t.length;s++){var a=t[o++];if(o===t.length&&(o=0),this._downloadWaiting(a),t.length!==n)return!0;if(this.inflightRequests.length>=this.maxRequests)return!1}if(i===this.inflightRequests.length)break;i=this.inflightRequests.length}for(;i<this.maxRequests;){for(o=Math.floor(Math.random()*e.length),s=0;s<e.length;s++){var u=e[o++];if(o===e.length&&(o=0),u.iterator||(u.iterator=this.feed.bitfield.iterator(u.start,u.end)),this._downloadRange(u),e.length!==r)return!0;if(this.inflightRequests.length>=this.maxRequests)return!1}if(i===this.inflightRequests.length)return!1;i=this.inflightRequests.length}return!1},Ys.prototype.ready=function(){Ts.add(this.feed.peers,this),this.downloading&&this.stream.want({start:0}),this.feed.emit("peer-add",this)},Ys.prototype.end=function(){if(!this.downloading&&!this.remoteDownloading&&!this.live)return this._defaultDownloading||this.stream.info({downloading:!1,uploading:!1}),void this._close();this._closed?this.live||this._close():(this._closed=!0,this.downloading=!1,this.stream.info({downloading:!1,uploading:!0}))},Ys.prototype._close=function(){if(-1!==this._index){this._destroyed||(this.stream.close(),this._destroyed=!0),Ts.remove(this.feed.peers,this),this._index=-1;for(var e=0;e<this.inflightRequests.length;e++)this.feed._reserved.set(this.inflightRequests[e].index,!1);this._updateEnd(),this.remoteWant=!1,this.feed._updatePeers(),this.feed.emit("peer-remove",this)}},Ys.prototype.destroy=function(e){-1===this._index||this._destroyed||(this.stream.destroy(e),this._destroyed=!0,this._close())},Ys.prototype._downloadWaiting=function(e){if(e.bytes)this._downloadRange(e);else{if(!this.remoteBitfield.get(e.index)||!this.feed._reserved.set(e.index,!0))return;this._request(e.index,0,!1)}},Ys.prototype._downloadRange=function(e){e.iterator||(e.iterator=this.feed.bitfield.iterator(e.start,e.end));var t=this.feed._reserved,n=this._iterator,r=Math.min(-1===e.end?this.remoteLength:e.end,this.remoteLength),i=e.linear?n.seek(e.start).next(!0):function(t,n,r){var i=e.end-n,o=t.seek(Math.floor(Math.random()*i)+n).next(!0);return-1===o?t.seek(n).next(!0):o}(n,e.start),o=i;if(-1===i||i>=r)!e.bytes&&e.end>-1&&this.feed.length>=e.end&&-1===e.iterator.seek(0).next()&&(Ts.remove(this.feed._selections,e),e.callback(null),this.live||this.sparse||this.feed._selections.length||this.end());else{for(;e.hash&&this.feed.tree.get(2*i)||!t.set(i,!0);)if(!((i=n.next(!0))>-1&&i<r)&&(e.linear||0===o||(o=0,!((i=n.seek(e.start).next(!0))>-1&&i<r)))){if(e.hash){for(var s=e.start;s<r;s++)if(!this.feed.tree.get(2*s))return;e.bytes||(Ts.remove(this.feed._selections,e),e.callback(null))}return}this._request(i,e.bytes||0,e.hash)}},Ys.prototype._request=function(e,t,n){var r={tick:6,bytes:t,index:e,hash:n,nodes:this.feed.digest(e)};this.inflightRequests.push(r),this.stream.request(r)};var Ks=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920],Ps=function(e){for(var t=0,n=0,r=0;r<8;r++)e=(e-(n=255&e))/256,t=65535&(t<<8^Ks[255&(t>>8^n)]);return t},js={};function Hs(e,t){if(!(this instanceof Hs))return new Hs(e,t);for(t||(t={}),this.collisions=Vs(t.collisions||t.bucketSize||4),this.buckets=function(e,t){for(e=Vs(e);e&t-1;)e<<=1;return e}(e,this.collisions)/this.collisions;this.buckets>65536;)this.buckets>>=1,this.collisions<<=1;var n;this.size=this.buckets*this.collisions,this.wrap=!t.indexedValues,this.cache=new Array(this.size),this.hash=65536===this.buckets?Ps:(n=this.buckets-1,function(e){return Ps(e)&n}),this.evict=t.evict||null}function Ws(e,t,n,r){for(;n>t;)e[n]=e[--n];e[t]=r}function Gs(e,t){this.index=e,this.value=t}function Vs(e){if(e&&!(e&e-1))return e;for(var t=1;t<e;)t<<=1;return t}js=Hs,Hs.prototype.set=function(e,t){for(var n=this.collisions*this.hash(e),r=n+this.collisions,i=n,o=null;i<r;){if(!(o=this.cache[i]))return o=this.cache[i]=this.wrap?new Gs(e,t):t,void Ws(this.cache,n,i,o);if(o.index===e)return this.wrap?o.value=t:this.cache[i]=t,void Ws(this.cache,n,i,o);i++}this.wrap?(this.evict&&this.evict(o.index,o.value),o.index=e,o.value=t):(this.evict&&this.evict(o.index,o),this.cache[i-1]=t),Ws(this.cache,n,i-1,o)},Hs.prototype.get=function(e){for(var t=this.collisions*this.hash(e),n=t+this.collisions,r=t;r<n;){var i=this.cache[r++];if(!i)return null;if(i.index===e)return Ws(this.cache,t,r-1,i),this.wrap?i.value:i}return null};var zs={};(function(e){zs=n;var t=[];function n(e,t){if(!(this instanceof n))return new n(e,t);t=void 0===t?65536:t,this.cache=t>0?js(t,{indexedValues:!0}):null,this.key=null,this.secretKey=null,this.tree=null,this.data=null,this.bitfield=null,this.signatures=null,this.create=e}function r(){}function i(e,t,n){var r=sn(32);return r.fill(0),r[0]=5,r[1]=2,r[2]=87,r[3]=e,r[4]=0,r.writeUInt16BE(t,5),n&&(r[7]=n.length,r.write(n,8)),r}function o(e,t,n){this.index=e,this.hash=t,this.size=n}function s(e,t){for(var n=0;n<e.length;n++)if(e[n].index===t)return e[n];return null}function a(e){for(var t=0;t<e.length;t++)if(e[t])return!1;return!0}function u(e,t){e.close?e.close(t):t()}n.prototype.putData=function(e,t,n,i){i||(i=r);var o=this;if(!t.length)return i(null);this.dataOffset(e,n,function(e,n,r){return e?i(e):r!==t.length?i(new Error("Unexpected data size")):void o.data.write(n,t,i)})},n.prototype.getData=function(e,n){var r=this;this.dataOffset(e,t,function(e,t,i){if(e)return n(e);r.data.read(t,i,n)})},n.prototype.nextSignature=function(e,t){var n=this;this._getSignature(e,function(r,i){return r?t(r):a(i)?n.nextSignature(e+1,t):void t(null,{index:e,signature:i})})},n.prototype.getSignature=function(e,t){this._getSignature(e,function(e,n){return e?t(e):a(n)?t(new Error("No signature found")):void t(null,n)})},n.prototype._getSignature=function(e,t){this.signatures.read(32+64*e,64,t)},n.prototype.putSignature=function(e,t,n){this.signatures.write(32+64*e,t,n)},n.prototype.dataOffset=function(e,t,n){var r=dn.fullRoots(2*e),i=this,o=0,a=r.length,u=null,h=2*e;if(!a)return a=1,void d(null,null);for(var f=0;f<r.length;f++){var c=s(t,r[f]);c?d(null,c):this.getNode(r[f],d)}function l(e,t){if(e)return n(e);n(null,o,t.size)}function d(e,r){if(e&&(u=e),r&&(o+=r.size),!--a){if(u)return n(u);var f=s(t,h);f?l(null,f):i.getNode(h,l)}}},n.prototype.getDataBatch=function(e,n,r){var i=new Array(n),o=new Array(n),s=this;this.dataOffset(e,t,function(t,a,u){if(t)return r(t);if(e++,--n<=0)return h(null,null);function h(e,t){if(e)return r(e);var n=o[0]=u;if(t)for(var i=1;i<o.length;i++)o[i]=Mi.decode(t,32+80*(i-1)),n+=o[i];s.data.read(a,n,f)}function f(e,t){if(e)return r(e);for(var n=0,s=0;s<i.length;s++)i[s]=t.slice(n,n+=o[s]);r(null,i)}s.tree.read(32+80*e,80*n-40,h)})},n.prototype.getNode=function(e,t){if(this.cache){var n=this.cache.get(e);if(n)return t(null,n)}var r=this;this.tree.read(32+40*e,40,function(n,i){if(n)return t(n);var s=i.slice(0,32),u=Mi.decode(i,32);if(!u&&a(s))return t(new Error("No node found"));var h=new o(e,s,u,null);r.cache&&r.cache.set(e,h),t(null,h)})},n.prototype.putNode=function(e,t,n){n||(n=r);var i=sn(40);t.hash.copy(i,0),Mi.encode(t.size,i,32),this.tree.write(32+40*e,i,n)},n.prototype.putBitfield=function(e,t,n){this.bitfield.write(32+e,t,n)},n.prototype.close=function(e){e||(e=r);var t=6,n=null;function i(r){r&&(n=r),--t||e(n)}u(this.bitfield,i),u(this.tree,i),u(this.data,i),u(this.key,i),u(this.secretKey,i),u(this.signatures,i)},n.prototype.openKey=function(e,t){if("function"==typeof e)return this.openKey({},e);this.key||(this.key=this.create("key",e)),this.key.read(0,32,t)},n.prototype.open=function(t,n){if("function"==typeof t)return this.open({},t);var r=this,o=null,s=5;this.key||(this.key=this.create("key",t)),this.secretKey||(this.secretKey=this.create("secret_key",t)),this.tree||(this.tree=this.create("tree",t)),this.data||(this.data=this.create("data",t)),this.bitfield||(this.bitfield=this.create("bitfield",t)),this.signatures||(this.signatures=this.create("signatures",t));var a={bitfield:sn(0),secretKey:null,key:null};function u(e){e&&(o=e),--s||(o?n(o):n(null,a))}this.bitfield.write(0,i(0,3328,null),function(t){if(t)return n(t);!function(t,n,r,i){if("number"==typeof t.length&&t.length>-1)return t.read(32,t.length-32,i);if(!0===t.statable)return function(e,t,n){e.stat(function(t,r){if(t)return n(null,sn(0));e.read(32,r.size-32,n)})}(t,0,i);var o=[];t.read(32,3328,function n(r,s){if(r)return i(null,e.concat(o));o.push(s),t.read(32+3328*o.length,3328,n)})}(r.bitfield,0,0,function(e,t){t&&(a.bitfield=t),u(e)})}),this.signatures.write(0,i(1,64,"Ed25519"),u),this.tree.write(0,i(2,40,"BLAKE2b"),u),this.secretKey.read(0,64,function(e,t){t&&(a.secretKey=t),u(null)}),this.key.read(0,32,function(e,t){t&&(a.key=t),u(null)})},n.Node=o}).call(this,v.Buffer);var qs={};function Js(e){if(!(this instanceof Js))return new Js(e);this.bitfield=e||no()}function Xs(e){return(e-(1&e))/2}function Zs(e,t,n,r){for(var i=dn.fullRoots(e),o=0;o<i.length;o++)i[o]===n||r.get(i[o])||t.push(i[o])}qs=Js,Js.prototype.proof=function(e,t){t||(t={});var n=[],r=t.tree||new Js,i=t.digest||0;if(!this.get(e))return null;if(t.hash&&n.push(e),1===i)return{nodes:n,verifiedBy:0};var o=null,s=e,a=e,u=1&i;for(i=Xs(i);i;){if(1===i&&u){this.get(a)&&r.set(a),dn.sibling(a)<a&&(a=dn.sibling(a)),o=dn.fullRoots(dn.rightSpan(a)+2);for(var h=0;h<o.length;h++)this.get(o[h])&&r.set(o[h]);break}s=dn.sibling(a),1&i&&this.get(s)&&r.set(s),a=dn.parent(a),i=Xs(i)}for(a=e;!r.get(a);){if(s=dn.sibling(a),!this.get(s)){var f=this.verifiedBy(a);return Zs(f,n,a,r),{nodes:n,verifiedBy:f}}r.get(s)||n.push(s),a=dn.parent(a)}return{nodes:n,verifiedBy:0}},Js.prototype.digest=function(e){if(this.get(e))return 1;for(var t=0,n=dn.sibling(e),r=Math.max(n+2,this.bitfield.length),i=2,o=dn.depth(e),s=dn.parent(n,o++);dn.rightSpan(n)<r||dn.leftSpan(s)>0;){if(this.get(n)&&(t|=i),this.get(s))return 1+(t|=2*i+1)==4*i?1:t;n=dn.sibling(s),s=dn.parent(n,o++),i*=2}return t},Js.prototype.blocks=function(){for(var e=0,t=0,n=this.bitfield.length;dn.rightSpan(t)<n;)t=dn.parent(t),this.get(t)&&(e=t);return(this.get(e)?this.verifiedBy(e):0)/2},Js.prototype.roots=function(){return dn.fullRoots(2*this.blocks())},Js.prototype.verifiedBy=function(e,t){if(!this.get(e))return 0;for(var n=dn.depth(e),r=e,i=dn.parent(r,n++);this.get(i)&&this.get(dn.sibling(r));)r=i,i=dn.parent(r,n++);for(n--;n;){for(r=dn.leftChild(dn.index(n,dn.offset(r,n)+1),n),n--;!this.get(r)&&n;)r=dn.leftChild(r,n--);t&&this.get(r)&&t.push(r)}return this.get(r)?r+2:r},Js.prototype.get=function(e){return this.bitfield.get(e)},Js.prototype.set=function(e){if(!this.bitfield.set(e,!0))return!1;for(;this.bitfield.get(dn.sibling(e))&&(e=dn.parent(e),this.bitfield.set(e,!0)););return!0};var $s={};(function(e){"use strict";$s=!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?function(t,n,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,r)});case 4:return e.nextTick(function(){t.call(null,n,r,i)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return e.nextTick(function(){t.apply(null,o)})}}:e.nextTick}).call(this,Fe);var ea=Symbol.for("util.inspect.custom");function ta(e){}var na=function(e){var t=null,n=null,r=null,i=null;return function(e,t){i=e,o(t||ta)};function o(r){if(n)return t||(t=[]),void t.push(r);var o=i;i=null,n=r,e(o,s)}function s(e){var i=n,s=r;if(r=null,n=null,t&&(r=t,t=null,o(ta)),s)for(var a=0;a<s.length;a++)s[a](e);i(e)}},ra={};(function(e){function t(e,n){if(!(this instanceof t))return new t(e,n);if(!e||!e.leaf||!e.parent)throw new Error("opts.leaf and opts.parent required");this.roots=n||e.roots||[],this.blocks=this.roots.length?1+dn.rightSpan(this.roots[this.roots.length-1].index)/2:0;for(var r=0;r<this.roots.length;r++){var i=this.roots[r];i&&!i.parent&&(i.parent=dn.parent(i.index))}this._leaf=e.leaf,this._parent=e.parent}ra=t,t.prototype.next=function(t,n){e.isBuffer(t)||(t=new e(t)),n||(n=[]);var r=2*this.blocks++,i={index:r,parent:dn.parent(r),hash:null,size:t.length,data:t};for(i.hash=this._leaf(i,this.roots),this.roots.push(i),n.push(i);this.roots.length>1;){var o=this.roots[this.roots.length-2],s=this.roots[this.roots.length-1];if(o.parent!==s.parent)break;this.roots.pop(),this.roots[this.roots.length-1]=i={index:o.parent,parent:dn.parent(o.parent),hash:this._parent(o,s),size:o.size+s.size,data:null},n.push(i)}return n}}).call(this,v.Buffer);var ia={};(function(e){ia=function(t){return e.isBuffer(t)&&(t=t.toString("hex")),"string"==typeof t&&t.length>8?t.slice(0,6)+".."+t.slice(-2):t}}).call(this,{isBuffer:Qe});var oa=function(){throw new Error("random-access-file is not supported in the browser")},sa={};(function(e){"use strict";var t=function(t,n,r){e.nextTick(function(){t(n,r)})};function n(){}function r(e,t){e.apply(null,t)}e.nextTick(function(n){42===n&&(t=e.nextTick)},42),sa=function(e){var i=function(n){var s=[n];i=function(e){s.push(e)},e(function(e){var n=arguments;for(i=function(e){return"[object Error]"===Object.prototype.toString.call(e)}(e)?o:a;s.length;)a(s.shift());function a(e){t(r,e,n)}})};return function(e){i(e||n)};function o(n){var s=[n];i=function(e){s.push(e)},e(function(e){var n=arguments;for(i=function(e){return"[object Error]"===Object.prototype.toString.call(e)}(e)?o:a;s.length;)a(s.shift());function a(e){t(r,e,n)}})}}}).call(this,Fe);var aa=function(e,t){if(!(t>=e.length||t<0)){var n=e.pop();if(t<e.length){var r=e[t];return e[t]=n,r}return n}},ua={};(function(e){var t=null;function n(t,r,i){if(!(this instanceof n))return new n(t,r,i);var o;if(ne.EventEmitter.call(this),"string"==typeof t&&(o=t,t=function(e){return oa(e,{directory:o})}),"function"!=typeof t)throw new Error("Storage should be a function or string");"string"==typeof r&&(r=un(r,"hex")),e.isBuffer(r)||i||(i=r,r=null),i||(i={});var s=this,u=i.secretKey||null;"string"==typeof u&&(u=un(u,"hex")),this.id=i.id||Qi.randomBytes(32),this.live=!1!==i.live,this.sparse=!!i.sparse,this.length=0,this.byteLength=0,this.maxRequests=i.maxRequests||16,this.key=r||i.key||null,this.discoveryKey=this.key&&Qi.discoveryKey(this.key),this.secretKey=u,this.bitfield=null,this.tree=null,this.writable=!!i.writable,this.readable=!0,this.opened=!1,this.closed=!1,this.allowPush=!!i.allowPush,this.peers=[],this._onwrite=i.onwrite||null,this._ready=sa(function(e){s._open(e)}),this._indexing=!!i.indexing,this._createIfMissing=!1!==i.createIfMissing,this._overwrite=!!i.overwrite,this._storeSecretKey=!1!==i.storeSecretKey,this._merkle=null,this._storage=zs(t,i.storageCacheSize),this._batch=on(this._onwrite?function e(t,n){if(!s._merkle)return s._reloadMerkleStateBeforeAppend(e,t,n);s._appendHook(t,n)}:function e(t,n){if(!s._merkle)return s._reloadMerkleStateBeforeAppend(e,t,n);s._append(t,n)}),this._seq=0,this._waiting=[],this._selections=[],this._reserved=no(),this._synced=null,this._codec=a(i.valueEncoding),this._sync=na(function(e,t){s._syncBitfield(t)}),this.sparse||this.download({start:0,end:-1}),this._ready(function(e){e&&s.emit("error",e)})}function r(){}function i(e,t){return e&&e.index===t.index&&an(e.hash,t.hash)}function o(e,t){return e+t.size}function s(e){return 0==(1&e)}function a(e){return ln("json"===e?"ndjson":e)}function u(e,t){return function(n,r){if(n)return t(n);try{r=e.decode(r)}catch(n){return t(n)}t(null,r)}}function h(e,t){var n=!1,r=setTimeout(function(){n=!0;var t=new Error("ETIMEDOUT");t.code="ETIMEDOUT",e(t)},t);return function(t,i){n||(clearTimeout(r),e(t,i))}}function f(e,t){return e?t?an(e,t):!e:!t}ua=n,Te(n,ne.EventEmitter),n.discoveryKey=Qi.discoveryKey,n.prototype[ea]=function(e,t){var n="";if("number"==typeof t.indentationLvl)for(;n.length<t.indentationLvl;)n+=" ";return"Hypercore(\n"+n+"  key: "+t.stylize(this.key&&ia(this.key),"string")+"\n"+n+"  discoveryKey: "+t.stylize(this.discoveryKey&&ia(this.discoveryKey),"string")+"\n"+n+"  opened: "+t.stylize(this.opened,"boolean")+"\n"+n+"  writable: "+t.stylize(this.writable,"boolean")+"\n"+n+"  length: "+t.stylize(this.length,"number")+"\n"+n+"  byteLength: "+t.stylize(this.byteLength,"number")+"\n"+n+"  peers: "+t.stylize(this.peers.length,"number")+"\n"+n+")"},Object.defineProperty(n.prototype,"remoteLength",{enumerable:!0,get:function(){for(var e=0,t=0;t<this.peers.length;t++){var n=this.peers[t].remoteLength;n>e&&(e=n)}return e}}),n.prototype.replicate=function(e){return t||(t=Us),this._selections.length&&-1===this._selections[0].end||this.sparse||e&&e.live||this.download({start:0,end:-1}),t(this,e||{})},n.prototype.ready=function(e){this._ready(function(t){t||e()})},n.prototype.update=function(e,t){if("function"==typeof e)return this.update(-1,e);"number"!=typeof e&&(e=-1),t||(t=r);var n=this;this.ready(function(r){return r?t(r):(-1===e&&(e=n.length+1),n.length>=e?t(null):(n.writable&&(t=n._writeStateReloader(t)),n._waiting.push({hash:!0,bytes:0,index:e-1,update:!0,callback:t}),void n._updatePeers()))})},n.prototype._writeStateReloader=function(e){var t=this;return function(n){if(n)return e(n);t._reloadMerkleState(e)}},n.prototype._reloadMerkleState=function(e){var t=this;this._roots(t.length,function(n,r){if(n)return e(n);t._merkle=ra(Qi,r),e(null)})},n.prototype._reloadMerkleStateBeforeAppend=function(e,t,n){this._reloadMerkleState(function(r){if(r)return n(r);e(t,n)})},n.prototype._open=function(e){var t=this,n=!1;function r(r,i){if(r)return e(r);if(!i.key&&i.bitfield.length&&(t._overwrite=!0),t._overwrite&&(i.bitfield.fill(0),i.key=i.secretKey=null),t.bitfield=ro(i.bitfield),t.tree=qs(t.bitfield.tree),t.length=t.tree.blocks(),t._seq=t.length,i.key&&t.key&&!an(i.key,t.key))return e(new Error("Another hypercore is stored here"));if(i.key&&(t.key=i.key),i.secretKey&&(t.secretKey=i.secretKey),t.key&&t.secretKey){var s=sn(0);if(!Qi.verify(s,Qi.sign(s,t.secretKey),t.key))return e(new Error("Key and secret do not match"))}if(!t.length)return a(null,null);function a(r,s){if(t.length&&(t.live=!!s),(n||!t.key)&&!t._createIfMissing)return e(new Error("No hypercore is stored here"));if(!t.key&&t.live){var a=Qi.keyPair();t.secretKey=a.secretKey,t.key=a.publicKey}var u=!!t.secretKey||null===t.key;if(!u&&t.writable)return e(new Error("Feed is not writable"));t.writable=u,t.discoveryKey=t.key&&Qi.discoveryKey(t.key),t._storeSecretKey&&!t.secretKey&&(t._storeSecretKey=!1);var h=n||!f(t.key,i.key),c=t._storeSecretKey&&(n||!f(t.secretKey,i.secretKey)),l=1+(h?1:0)+(c?1:0)+(t._overwrite?1:0),d=null;function p(n){if(n&&(d=n),!--l)return d?e(d):void t._roots(t.length,g)}function g(n,r){if(n)return e(n);t._merkle=ra(Qi,r),t.byteLength=r.reduce(o,0),t.opened=!0,t.emit("ready"),e(null)}h&&t._storage.key.write(0,t.key,p),c&&t._storage.secretKey.write(0,t.secretKey,p),t._overwrite&&t._storage.putBitfield(0,i.bitfield,p),p(null)}t._storage.getSignature(t.length-1,a)}this._storage.openKey(function(e,i){if(!i||t._overwrite||t.key||(t.key=i),!t.key&&t.live){var o=Qi.keyPair();t.secretKey=o.secretKey,t.key=o.publicKey,n=!0}t.discoveryKey=t.key&&Qi.discoveryKey(t.key),t._storage.open({key:t.key,discoveryKey:t.discoveryKey},r)})},n.prototype.download=function(e,t){if("function"==typeof e)return this.download(null,e);if("number"==typeof e&&(e={start:e,end:e+1}),e||(e={}),t||(t=r),!this.readable)return t(new Error("Feed is closed"));var n={_index:this._selections.length,hash:!!e.hash,iterator:null,start:e.start||0,end:e.end||-1,linear:!!e.linear,callback:t};return this._selections.push(n),this._updatePeers(),n},n.prototype.undownload=function(e){if("number"==typeof e&&(e={start:e,end:e+1}),e||(e={}),e.callback&&e._index>-1)return Ts.remove(this._selections,e),void $s(e.callback,new Error("Download was cancelled"));for(var t=e.start||0,n=e.end||-1,r=!!e.hash,i=!!e.linear,o=0;o<this._selections.length;o++){var s=this._selections[o];if(s.start===t&&s.end===n&&s.hash===r&&s.linear===i)return Ts.remove(this._selections,s),void $s(s.callback,new Error("Download was cancelled"))}},n.prototype.digest=function(e){return this.tree.digest(2*e)},n.prototype.proof=function(e,t,n){if("function"==typeof t)return this.proof(e,null,t);if(!this.opened)return this._readyAndProof(e,t,n);t||(t={});var r=this.tree.proof(2*e,t);if(!r)return n(new Error("No proof available for this index"));var i=this.live&&!!r.verifiedBy,o=r.nodes.length+(i?1:0),s=null,a=null,u=new Array(r.nodes.length);if(!o)return n(null,{nodes:u,signature:null});for(var h=0;h<r.nodes.length;h++)this._storage.getNode(r.nodes[h],f);function f(e,t){if(e&&(s=e),t&&(u[r.nodes.indexOf(t.index)]=t),!--o)return s?n(s):void n(null,{nodes:u,signature:a})}i&&this._storage.getSignature(r.verifiedBy/2-1,function(e,t){t&&(a=t),f(e,null)})},n.prototype._readyAndProof=function(e,t,n){var r=this;this._ready(function(i){if(i)return n(i);r.proof(e,t,n)})},n.prototype.put=function(e,t,n,r){if(!this.opened)return this._readyAndPut(e,t,n,r);this._putBuffer(e,this._codec.encode(t),n,null,r)},n.prototype.cancel=function(e,t){t||(t=e+1);for(var n=this._selections.length-1;n>=0;n--){var r=this._selections[n];e<=r.start&&r.end<=t&&this.undownload(r)}this.opened?this._cancel(e,t):this._readyAndCancel(e,t)},n.prototype._cancel=function(e,t){var n=0;for(n=e;n<t;n++)this._reserved.set(n,!1);for(n=this._waiting.length-1;n>=0;n--){var r=this._waiting[n];(e<=r.start&&r.end<=t||e<=r.index&&r.index<t)&&(aa(this._waiting,n),r.callback&&$s(r.callback,new Error("Request cancelled")))}},n.prototype.clear=function(e,t,n,i){if("function"==typeof t)return this.clear(e,e+1,null,t);if("function"==typeof n)return this.clear(e,t,null,n);n||(n={}),t||(t=e+1),i||(i=r);var o=this,s=0===e?0:"number"==typeof n.byteOffset?n.byteOffset:-1,a="number"==typeof n.byteLength?n.byteLength:-1;this._ready(function(r){if(r)return i(r);for(var u=!1,h=e;h<t;h++)o.bitfield.set(h,!1)&&(u=!0);if(!u)return $s(i);if(o._unannounce({start:e,length:t-e}),!1===n.delete||o._indexing)return f();if(s>-1)return c(null,s);function f(){o.emit("clear",e,t),o._sync(null,i)}function c(e,n){return e?i(e):(s=n,a>-1?l(null,a+s):t===o.length?l(null,o.byteLength):void o._storage.dataOffset(t,[],l))}function l(e,t){return e?i(e):o._storage.data.del?void o._storage.data.del(s,t-s,f):f()}o._storage.dataOffset(e,[],c)})},n.prototype.signature=function(e,t){return"function"==typeof e?this.signature(this.length-1,e):e<0||e>=this.length?t(new Error("No signature available for this index")):void this._storage.nextSignature(e,t)},n.prototype.verify=function(e,t,n){var r=this;this.rootHashes(e,function(e,i){if(e)return n(e);var o=Qi.tree(i);Qi.verify(o,t,r.key)?n(null,!0):n(new Error("Signature verification failed"))})},n.prototype.rootHashes=function(e,t){this._getRootsToVerify(2*e+2,{},[],t)},n.prototype.seek=function(e,t,n){if("function"==typeof t)return this.seek(e,null,t);if(t||(t={}),!this.opened)return this._readyAndSeek(e,t,n);var i=this;this._seek(e,function(o,a,u){if(!o&&s(a))return function(t,r){for(var o=0;o<i.peers.length;o++)i.peers[o].haveBytes(e);n(null,t,r)}(a/2,u);if(!1===t.wait)return n(o||new Error("Unable to seek to this offset"));var h=t.start||0,f=t.end||-1;if(!o){var c=dn.leftSpan(a)/2,l=dn.rightSpan(a)/2+1;c>h&&(h=c),(l<f||-1===f)&&(f=l)}if(f>-1&&f<=h)return n(new Error("Unable to seek to this offset"));i._waiting.push({hash:!1!==t.hash,bytes:e,index:-1,start:h,end:f,callback:n||r}),i._updatePeers()})},n.prototype._seek=function(e,t){if(0===e)return t(null,0,0);var n=this,r=dn.fullRoots(2*this.length),i=0;function o(r){if(s(r))return t(null,r,e);for(var o=dn.leftChild(r);!n.tree.get(o);){if(s(o))return t(null,i,e);o=dn.leftChild(o)}n._storage.getNode(o,a)}function a(n,r){if(n)return t(n);r.size>e?(i=r.index,o(r.index)):(e-=r.size,o(dn.sibling(r.index)))}!function s(a,u){if(a)return t(a);if(u){if(u.size>e)return i=u.index,o(u.index);e-=u.size}if(!r.length)return t(new Error("Out of bounds"));n._storage.getNode(r.shift(),s)}(null,null)},n.prototype._readyAndSeek=function(e,t,n){var r=this;this._ready(function(i){if(i)return n(i);r.seek(e,t,n)})},n.prototype._getBuffer=function(e,t){this._storage.getData(e,t)},n.prototype._putBuffer=function(e,t,n,r,i){for(var o=this,s=-1,a=[],u=2*e,h=t?0:1;;){if(this.tree.get(u)){s=u;break}var f=dn.sibling(u);if(u=dn.parent(u),h<n.nodes.length&&n.nodes[h].index===f)h++;else{if(!this.tree.get(f))break;a.push(f)}}-1===s&&this.tree.get(u)&&(s=u);var c=null,l=null,d=new Array(a.length),p=a.length+(s>-1?1:0);for(h=0;h<a.length;h++)this._storage.getNode(a[h],g);function g(e,t){e&&(c=e),t&&(d[a.indexOf(t.index)]=t),--p||y(c)}function y(s){if(s)return i(s);o._verifyAndWrite(e,t,n,d,l,r,i)}s>-1&&this._storage.getNode(s,function(e,t){e&&(c=e),t&&(l=t),--p||y(c)}),a.length||-1!==s||y(null)},n.prototype._readyAndPut=function(e,t,n,r){var i=this;this._ready(function(o){if(o)return r(o);i.put(e,t,n,r)})},n.prototype._write=function(e,t,n,r,i,o){if(!this._onwrite)return this._writeAfterHook(e,t,n,r,i,o);this._onwrite(e,t,i,function(e,t,n,r,i,o,s){return function(a){if(a)return s(a);e._writeAfterHook(t,n,r,i,o,s)}}(this,e,t,n,r,i,o))},n.prototype._writeAfterHook=function(e,t,n,r,i,o){for(var s=this,a=n.length+1+(r?1:0),u=null,h=0;h<n.length;h++)this._storage.putNode(n[h].index,n[h],f);function f(r){if(r&&(u=r),!--a)return u?o(u):void s._writeDone(e,t,n,i,o)}t?this._storage.putData(e,t,n,f):f(),r&&this._storage.putSignature(r.index,r.signature,f)},n.prototype._writeDone=function(e,t,n,r,i){for(var o=0;o<n.length;o++)this.tree.set(n[o].index);this.tree.set(2*e),t&&(this.bitfield.set(e,!0)&&this.emit("download",e,t,r),this.peers.length&&this._announce({start:e},r),this.writable||(this._synced||(this._synced=this.bitfield.iterator(0,this.length)),-1===this._synced.next()&&(this._synced.range(0,this.length),this._synced.seek(0),-1===this._synced.next()&&this.emit("sync")))),this._sync(null,i)},n.prototype._verifyAndWrite=function(e,t,n,r,o,s,a){var u=[],h=n.nodes,f=t?new zs.Node(2*e,Qi.data(t),t.length):h.shift();if(i(o,f))this._write(e,t,u,null,s,a);else for(;;){var c=null,l=dn.sibling(f.index);if(h.length&&h[0].index===l)c=h.shift(),u.push(c);else{if(!r.length||r[0].index!==l)return void this._verifyRootsAndWrite(e,t,f,n,u,s,a);c=r.shift()}if(u.push(f),i(o,f=new zs.Node(dn.parent(f.index),Qi.parent(f,c),f.size+c.size)))return void this._write(e,t,u,null,s,a)}},n.prototype._verifyRootsAndWrite=function(e,t,n,r,i,s,a){var u=r.nodes,h=u.length?u[u.length-1].index:n.index,f=Math.max(dn.rightSpan(n.index),dn.rightSpan(h))+2,c=this;this._getRootsToVerify(f,n,u,function(n,u,h){if(n)return a(n);var l=Qi.tree(u),d=null;if(c.length&&c.live&&!r.signature)return a(new Error("Remote did not include a signature"));if(r.signature){if(!Qi.verify(l,r.signature,c.key))return a(new Error("Remote signature could not be verified"));d={index:f/2-1,signature:r.signature}}else if(!an(l,c.key))return a(new Error("Remote checksum failed"));c.live=!!d;var p=f/2;p>c.length&&(c.writable&&(c._merkle=null),c.length=p,c._seq=p,c.byteLength=u.reduce(o,0),c._synced&&c._synced.seek(0,c.length),c.emit("append")),c._write(e,t,i.concat(h),d,s,a)})},n.prototype._getRootsToVerify=function(e,t,n,r){for(var i=dn.fullRoots(e),o=new Array(i.length),s=[],a=null,u=o.length,h=0;h<i.length;h++)i[h]===t.index?(s.push(t),f(null,t)):n.length&&i[h]===n[0].index?(s.push(n[0]),f(null,n.shift())):this.tree.get(i[h])?this._storage.getNode(i[h],f):f(new Error("Missing tree roots needed for verify"));function f(e,t){e&&(a=e),t&&(o[i.indexOf(t.index)]=t),--u||function(e){if(a)return r(a);r(null,o,s)}()}},n.prototype._announce=function(e,t){for(var n=0;n<this.peers.length;n++){var r=this.peers[n];r!==t&&r.have(e)}},n.prototype._unannounce=function(e){for(var t=0;t<this.peers.length;t++)this.peers[t].unhave(e)},n.prototype.downloaded=function(e,t){return this.bitfield.total(e,t)},n.prototype.has=function(e,t){return void 0===t?this.bitfield.get(e):t-e===this.bitfield.total(e,t)},n.prototype.head=function(e,t){if("function"==typeof e)return this.head({},e);var n=this;this._ready(function(e){if(e)return t(e);0===n.length?t(new Error("feed is empty")):n.get(n.length-1,t)})},n.prototype.get=function(e,t,n){return"function"==typeof t?this.get(e,null,t):this.opened?this.readable?(t&&t.timeout&&(n=h(n,t.timeout)),this.bitfield.get(e)?(t&&t.valueEncoding?n=u(a(t.valueEncoding),n):this._codec!==ln.binary&&(n=u(this._codec,n)),void this._getBuffer(e,n)):t&&!1===t.wait?n(new Error("Block not downloaded")):(this._waiting.push({bytes:0,hash:!1,index:e,options:t,callback:n}),void this._updatePeers())):n(new Error("Feed is closed")):this._readyAndGet(e,t,n)},n.prototype._readyAndGet=function(e,t,n){var r=this;this._ready(function(i){if(i)return n(i);r.get(e,t,n)})},n.prototype.getBatch=function(e,t,n,r){if("function"==typeof n)return this.getBatch(e,t,null,n);if(!this.opened)return this._readyAndGetBatch(e,t,n,r);var i=this,o=!n||!1!==n.wait;return this.has(e,t)?this._getBatch(e,t,n,r):o?(n&&n.timeout&&(r=h(r,n.timeout)),void this.download({start:e,end:t},function(o){if(o)return r(o);i._getBatch(e,t,n,r)})):r(new Error("Block not downloaded"))},n.prototype._getBatch=function(e,t,n,r){var i=n&&n.valueEncoding,o=i?a(i):this._codec;this._storage.getDataBatch(e,t-e,function(e,t){if(e)return r(e);for(var n=new Array(t.length),i=0;i<t.length;i++)try{n[i]=o?o.decode(t[i]):t[i]}catch(e){return r(e)}r(null,n)})},n.prototype._readyAndGetBatch=function(e,t,n,r){var i=this;this._ready(function(o){if(o)return r(o);i.getBatch(e,t,n,r)})},n.prototype._updatePeers=function(){for(var e=0;e<this.peers.length;e++)this.peers[e].update()},n.prototype.createWriteStream=function(){var e=this;return hn.obj(function(t,n){e.append(t,n)})},n.prototype.createReadStream=function(e){e||(e={});var t=this,n=e.start||0,r="number"==typeof e.end?e.end:-1,i=!!e.live,o=!1!==e.snapshot,s=!0,a=this.download({start:n,end:r,linear:!0});return An.obj(function u(h,f){if(!t.opened)return function(e,n){t._ready(function(t){if(t)return n(t);u(e,n)})}(h,f);if(!t.readable)return f(new Error("Feed is closed"));if(s){if(-1===r&&(i?r=1/0:o&&(r=t.length),n>r))return f(null,null);e.tail&&(n=t.length),s=!1}if(n===r||-1===r&&n===t.length)return f(null,null);a.start++,a.iterator&&a.iterator.start++,t.get(n++,e,f)}).on("end",u).on("close",u);function u(){a&&(t.undownload(a),a=null)}},n.prototype.finalize=function(e){this.key||(this.key=Qi.tree(this._merkle.roots),this.discoveryKey=Qi.discoveryKey(this.key)),this._storage.key.write(0,this.key,e)},n.prototype.append=function(e,t){t||(t=r);var n=this,i=Array.isArray(e)?e:[e];this._batch(i,function(e){if(e)return t(e);var r=n._seq;n._seq+=i.length,t(null,r)})},n.prototype.flush=function(e){this.append([],e)},n.prototype.close=function(e){var t=this;this._ready(function(){t.writable=!1,t.readable=!1,t._storage.close(function(n){t.closed||n||t._onclose(),e&&e(n)})})},n.prototype._onclose=function(){for(this.closed=!0;this._waiting.length;)this._waiting.pop().callback(new Error("Feed is closed"));for(;this._selections.length;)this._selections.pop().callback(new Error("Feed is closed"));this.emit("close")},n.prototype._appendHook=function(e,t){var n=this,r=e.length,i=null;if(!r)return this._append(e,t);for(var o=0;o<e.length;o++)this._onwrite(o+this.length,e[o],null,s);function s(o){if(o&&(i=o),!--r)return i?t(i):void n._append(e,t)}},n.prototype._append=function(e,t){if(!this.opened)return this._readyAndAppend(e,t);if(!this.writable)return t(new Error("This feed is not writable. Did you create it?"));var n=this,r=this.live&&e.length?1+e.length:e.length,i=0,o=null;if(!r)return t();for(var s=0;s<e.length;s++){var a=this._codec.encode(e[s]),u=this._merkle.next(a);if(this._indexing?l(null):this._storage.data.write(this.byteLength+i,a,l),this.live&&s===e.length-1){var h=Qi.sign(Qi.tree(this._merkle.roots),this.secretKey);this._storage.putSignature(this.length+s,h,l)}r+=u.length,i+=a.length;for(var f=0;f<u.length;f++){var c=u[f];this._storage.putNode(c.index,c,l)}}function l(s){if(s&&(o=s),!--r){if(o)return t(o);var a=n.length;n.byteLength+=i;for(var u=0;u<e.length;u++)n.bitfield.set(n.length,!0),n.tree.set(2*n.length++);n.emit("append");var h=n.length-a>1?{start:a,length:n.length-a}:{start:a};n.peers.length&&n._announce(h),n._sync(null,t)}}},n.prototype._readyAndAppend=function(e,t){var n=this;this._ready(function(r){if(r)return t(r);n._append(e,t)})},n.prototype._readyAndCancel=function(e,t){var n=this;this.ready(function(){n._cancel(e,t)})},n.prototype._pollWaiting=function(){for(var e=this._waiting.length,t=0;t<e;t++){var n=this._waiting[t];(n.bytes||this.bitfield.get(n.index))&&(aa(this._waiting,t--),e--,n.bytes?this.seek(n.bytes,n,n.callback):n.update?this.update(n.index+1,n.callback):this.get(n.index,n.options,n.callback))}},n.prototype._syncBitfield=function(e){var t=this.bitfield.pages.updates.length,n=null,r=null;if(!t)return this._pollWaiting(),e(null);for(;null!==(n=this.bitfield.pages.lastUpdate());)this._storage.putBitfield(n.offset,n.buffer,i);function i(n){n&&(r=n),--t||e(r)}this._pollWaiting()},n.prototype._roots=function(e,t){var n=dn.fullRoots(2*e),r=new Array(n.length),i=n.length,o=null;if(!i)return t(null,r);for(var s=0;s<n.length;s++)this._storage.getNode(n[s],a);function a(e,s){if(e&&(o=e),s&&(r[n.indexOf(s.index)]=s),!--i)return o?t(o):void t(null,r)}},n.prototype.truncate=function(e,t){},n.prototype.audit=function(e){e||(e=r);var t=this,n={valid:0,invalid:0};this.ready(function(r){if(r)return e(r);var i=0,o=t.length;function s(e,r){if(e)return o(null,null);function o(e,o){var s=o&&Qi.data(o).equals(r.hash);s?n.valid++:n.invalid++,t.bitfield.set(i,s),i++,a()}t._storage.getData(i,o)}function a(){for(;i<o&&!t.bitfield.get(i);)i++;i>=o?t._sync(null,function(t){if(t)return e(t);e(null,n)}):t._storage.getNode(2*i,s)}a()})}}).call(this,{isBuffer:Qe});var ha={};(function(e){function t(t){var n=e.alloc(4);return n.writeUInt32LE(t,0),n}function n(e){return Object.keys(e).map(function(t){return e[t]})}ha={serialize:function(r){for(var i=[t((r=n(r)).length)],o=0;o<r.length;o++)i.push(r[o].key),i.push(t(r[o].min)),i.push(t(r[o].max));return e.concat(i)},deserialize:function(e){for(var t={},n=e.readUInt32LE(0),r=0;r<n;r++){var i=4+40*r,o=e.slice(i,i+32),s=e.readUInt32LE(i+32),a=e.readUInt32LE(i+36);t[o.toString("hex")]={key:o,min:s,max:a}}return t}}}).call(this,v.Buffer);var fa={};(function(e){var t=ne.EventEmitter;function n(t){if(!(this instanceof n))return new n(t);if(!t)throw new Error("missing opts param");if(!t.log)throw new Error('missing opts param "log"');if(!t.batch)throw new Error('missing opts param "batch"');if(r=!!t.storeState,i=!!t.fetchState,r&&!i||!r&&i)throw new Error("either neither or both of {opts.storeState, opts.fetchState} must be provided");var r,i,o;this._log=t.log,this._batch=t.batch,this._ready=!1,this._maxBatch=t.maxBatch||1,this._at=null,t.storeState||t.fetchState?(this._storeState=t.storeState,this._fetchState=t.fetchState):(this._storeState=function(t,n){o=t,e.nextTick(n)},this._fetchState=function(t){e.nextTick(t,null,o)});var s=this;this._log.ready(function(){s._ready=!0,s._run()}),this._log.on("feed",function(e,t){e.ready(function(){e.on("append",function(){s._run()}),e.on("download",function(){s._run()}),s._ready&&s._run()})}),this.setMaxListeners(128)}fa=n,Te(n,t),n.prototype.ready=function(t){this._ready?e.nextTick(t):this.once("ready",t)},n.prototype._run=function(){if(this._ready){var e=this;this._ready=!1;var t=!1,n=1;this._at?r():this._fetchState(function(t,n){if(t)throw t;n?e._at=ha.deserialize(n):(e._at={},e._log.feeds().forEach(function(t){e._at[t.key.toString("hex")]={key:t.key,min:0,max:0}})),e._log.feeds().forEach(function(t){t.on("append",function(){e._run()}),t.on("download",function(){e._run()})}),r()})}function r(){var r=e._log.feeds(),i=[];function o(){--n||(e._ready=!0,t?e._run():e.emit("ready"))}!function n(s){if(s>=r.length)return o();var a=r[s].key.toString("hex");void 0===e._at[a]&&(e._at[a]={key:r[s].key,min:0,max:0});var u=e._at[a].max,h=Math.min(r[s].length,u+e._maxBatch);if(u<h)for(var f=h-u,c=0,l=!1,d=u;d<h;d++)r[s].get(d,{wait:!1},function(u,h,d){if(!l){var p=!0;if(h)return p=!1,l=!0,n(s+1);f--,c++,p&&i.push({key:r[s].key.toString("hex"),seq:u,value:d}),f||(t=!0,e._batch(i,function(){e._at[a].max+=c,e._storeState(ha.serialize(e._at),function(){e.emit("indexed",i),o()})}))}}.bind(null,d));else n(s+1)}(0)}}}).call(this,Fe);var ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},la=1e3,da=36e5,pa=24*da;function ga(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}var ya=function(e,t){t=t||{};var n,r,i=void 0===e?"undefined":ca(e);if("string"===i&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"weeks":case"week":case"w":return 6048e5*n;case"days":case"day":case"d":return n*pa;case"hours":case"hour":case"hrs":case"hr":case"h":return n*da;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*n;case"seconds":case"second":case"secs":case"sec":case"s":return n*la;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}(e);if("number"===i&&!1===isNaN(e))return t.long?(n=e,(r=Math.abs(n))>=pa?ga(n,r,pa,"day"):r>=da?ga(n,r,da,"hour"):r>=6e4?ga(n,r,6e4,"minute"):r>=la?ga(n,r,la,"second"):n+" ms"):function(e){var t=Math.abs(e);return t>=pa?Math.round(e/pa)+"d":t>=da?Math.round(e/da)+"h":t>=6e4?Math.round(e/6e4)+"m":t>=la?Math.round(e/la)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Aa(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var va={};(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};va.log=function(){var e;return"object"===("undefined"==typeof console?"undefined":t(console))&&console.log&&(e=console).log.apply(e,arguments)},va.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+va.humanize(this.diff),this.useColors){var t="color: "+this.color;e.splice(1,0,t,"color: inherit");var n=0,r=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(n++,"%c"===e&&(r=n))}),e.splice(r,0,t)}},va.save=function(e){try{e?va.storage.setItem("debug",e):va.storage.removeItem("debug")}catch(t){}},va.load=function(){var t=void 0;try{t=va.storage.getItem("debug")}catch(n){}return!t&&void 0!==e&&"env"in e&&(t=e.env.DEBUG),t},va.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},va.storage=function(){try{return localStorage}catch(e){}}(),va.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],(va=function(e){function t(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){var o=void 0;function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(s.enabled){var i=s,a=Number(new Date),u=a-(o||a);i.diff=u,i.prev=o,i.curr=a,o=a,t[0]=n.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var h=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(e,r){if("%%"===e)return e;h++;var o=n.formatters[r];if("function"==typeof o){var s=t[h];e=o.call(i,s),t.splice(h,1),h--}return e}),n.formatArgs.call(i,t),(i.log||n.log).apply(i,t)}}return s.namespace=e,s.enabled=n.enabled(e),s.useColors=n.useColors(),s.color=t(e),s.destroy=r,s.extend=i,"function"==typeof n.init&&n.init(s),n.instances.push(s),s}function r(){var e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function i(e,t){return n(this.namespace+(void 0===t?":":t)+e)}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){var e=[].concat(Aa(n.names.map(o)),Aa(n.skips.map(o).map(function(e){return"-"+e}))).join(",");return n.enable(""),e},n.enable=function(e){n.save(e),n.names=[],n.skips=[];var t=void 0,r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(t=0;t<i;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){var o=n.instances[t];o.enabled=n.enabled(o.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;var t=void 0,r=void 0;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=ya,Object.keys(e).forEach(function(t){n[t]=e[t]}),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}(va)).formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,Fe);var ma={};(function(e){ma=function(t){var n=!1,r=[];return e.nextTick(function(){t(function(){n=!0,r.forEach(e.nextTick)})}),function(t){n?e.nextTick(t):r.push(t)}}}).call(this,Fe);var ba={};(function(e){ba=function(){var t=[],n=null,r=function(){n(o)},i=function i(o){return n?t.push(o):(n=o,i.locked=!0,e.nextTick(r),0)};i.locked=!1;var o=function(e,r,o){n=null,i.locked=!1,t.length&&i(t.shift()),e&&e(r,o)};return i}}).call(this,Fe);var _a={};(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}_a.resolve=function(){for(var r="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(r=s+"/"+r,i="/"===s.charAt(0))}return(i?"/":"")+(r=t(n(r.split("/"),function(e){return!!e}),!i).join("/"))||"."},_a.normalize=function(e){var i=_a.isAbsolute(e),o="/"===r(e,-1);return(e=t(n(e.split("/"),function(e){return!!e}),!i).join("/"))||i||(e="."),e&&o&&(e+="/"),(i?"/":"")+e},_a.isAbsolute=function(e){return"/"===e.charAt(0)},_a.join=function(){var e=Array.prototype.slice.call(arguments,0);return _a.normalize(n(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},_a.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=_a.resolve(e).substr(1),t=_a.resolve(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),o=Math.min(r.length,i.length),s=o,a=0;a<o;a++)if(r[a]!==i[a]){s=a;break}var u=[];for(a=s;a<r.length;a++)u.push("..");return(u=u.concat(i.slice(s))).join("/")},_a.sep="/",_a.delimiter=":",_a.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},_a.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},_a.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,s=e.length-1;s>=0;--s){var a=e.charCodeAt(s);if(47!==a)-1===r&&(i=!1,r=s+1),46===a?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){n=s+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var r="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,Fe);var wa=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(e){r[e]=t[e]}),r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),i=e[e.length-1];return"function"==typeof r&&r!==i&&Object.keys(i).forEach(function(e){r[e]=i[e]}),r}},Ia={};function Ea(e){var t=function t(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function Ca(e){var t=function t(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}(Ia=wa(Ea)).strict=wa(Ca),Ea.proto=Ea(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Ea(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Ca(this)},configurable:!0})});var Sa=function(){},ka=function e(t,n,r){if("function"==typeof n)return e(t,null,n);n||(n={}),r=Ia(r||Sa);var i=t._writableState,o=t._readableState,s=n.readable||!1!==n.readable&&t.readable,a=n.writable||!1!==n.writable&&t.writable,u=function(){t.writable||h()},h=function(){a=!1,s||r.call(t)},f=function(){s=!1,a||r.call(t)},c=function(e){r.call(t,e?new Error("exited with error code: "+e):null)},l=function(e){r.call(t,e)},d=function(){return(!s||o&&o.ended)&&(!a||i&&i.ended)?void 0:r.call(t,new Error("premature close"))},p=function(){t.req.on("finish",h)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",h),t.on("abort",d),t.req?p():t.on("request",p)):a&&!i&&(t.on("end",u),t.on("close",u)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(t)&&t.on("exit",c),t.on("end",f),t.on("finish",h),!1!==n.error&&t.on("error",l),t.on("close",d),function(){t.removeListener("complete",h),t.removeListener("abort",d),t.removeListener("request",p),t.req&&t.req.removeListener("finish",h),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",h),t.removeListener("exit",c),t.removeListener("end",f),t.removeListener("error",l),t.removeListener("close",d)}},Ba={};(function(e,t){var n=t.from&&t.from!==Uint8Array.from?t.from([0]):new t([0]),r=function(e,t){e._corked?e.once("uncork",t):t()},i=function(e,t){return function(n){n?function(e,t){e._autoDestroy&&e.destroy(t)}(e,"premature close"===n.message?null:n):t&&!e._ended&&e.end()}},o=function e(t,n,r){if(!(this instanceof e))return new e(t,n,r);Mt.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!r||!1!==r.autoDestroy,this._forwardDestroy=!r||!1!==r.destroy,this._forwardEnd=!r||!1!==r.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,t&&this.setWritable(t),n&&this.setReadable(n)};Te(o,Mt.Duplex),o.obj=function(e,t,n){return n||(n={}),n.objectMode=!0,n.highWaterMark=16,new o(e,t,n)},o.prototype.cork=function(){1==++this._corked&&this.emit("cork")},o.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit("uncork")},o.prototype.setWritable=function(t){if(this._unwrite&&this._unwrite(),this.destroyed)t&&t.destroy&&t.destroy();else if(null!==t&&!1!==t){var n=this,r=ka(t,{writable:!0,readable:!1},i(this,this._forwardEnd)),o=function(){var e=n._ondrain;n._ondrain=null,e&&e()};this._unwrite&&e.nextTick(o),this._writable=t,this._writable.on("drain",o),this._unwrite=function(){n._writable.removeListener("drain",o),r()},this.uncork()}else this.end()},o.prototype.setReadable=function(e){if(this._unread&&this._unread(),this.destroyed)e&&e.destroy&&e.destroy();else{if(null===e||!1===e)return this.push(null),void this.resume();var t,n=this,r=ka(e,{writable:!1,readable:!0},i(this)),o=function(){n._forward()},s=function(){n.push(null)};this._drained=!0,this._readable=e,this._readable2=e._readableState?e:(t=e,new Mt.Readable({objectMode:!0,highWaterMark:16}).wrap(t)),this._readable2.on("readable",o),this._readable2.on("end",s),this._unread=function(){n._readable2.removeListener("readable",o),n._readable2.removeListener("end",s),r()},this._forward()}},o.prototype._read=function(){this._drained=!0,this._forward()},o.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){var e;for(this._forwarding=!0;this._drained&&null!==(t=this._readable2,n=void 0,r=void 0,e=(r=t._readableState)?r.objectMode?t.read():t.read((n=r).buffer.length?n.buffer.head?n.buffer.head.data.length:n.buffer[0].length:n.length):null);)this.destroyed||(this._drained=this.push(e));this._forwarding=!1}var t,n,r},o.prototype.destroy=function(t){if(!this.destroyed){this.destroyed=!0;var n=this;e.nextTick(function(){n._destroy(t)})}},o.prototype._destroy=function(e){if(e){var t=this._ondrain;this._ondrain=null,t?t(e):this.emit("error",e)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},o.prototype._write=function(e,t,i){return this.destroyed?i():this._corked?r(this,this._write.bind(this,e,t,i)):e===n?this._finish(i):this._writable?void(!1===this._writable.write(e)?this._ondrain=i:i()):i()},o.prototype._finish=function(e){var t=this;this.emit("preend"),r(this,function(){var n,i;i=function(){!1===t._writableState.prefinished&&(t._writableState.prefinished=!0),t.emit("prefinish"),r(t,e)},(n=t._forwardEnd&&t._writable)?n._writableState&&n._writableState.finished?i():n._writableState?n.end(i):(n.end(),i()):i()})},o.prototype.end=function(e,t,r){return"function"==typeof e?this.end(null,null,e):"function"==typeof t?this.end(e,null,t):(this._ended=!0,e&&this.write(e),this._writableState.ending||this.write(n),Mt.Writable.prototype.end.call(this,r))},Ba=o}).call(this,Fe,v.Buffer);var xa={};function Ma(e){var t=function t(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}xa=wa(Ma),Ma.proto=Ma(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Ma(this)},configurable:!0})});var Da={};(function(e){var t=function(){},n=/^v?\.0/.test(e.version),r=function(e){return"function"==typeof e},i=function(e){e()},o=function(e,t){return e.pipe(t)};Da=function(){var e,s=Array.prototype.slice.call(arguments),a=r(s[s.length-1]||t)&&s.pop()||t;if(Array.isArray(s[0])&&(s=s[0]),s.length<2)throw new Error("pump requires two streams per minimum");var u=s.map(function(o,h){var f=h<s.length-1;return function(e,i,o,s){s=xa(s);var a=!1;e.on("close",function(){a=!0}),ka(e,{readable:i,writable:o},function(e){if(e)return s(e);a=!0,s()});var u=!1;return function(i){if(!a&&!u)return u=!0,function(e){return!!n&&(e instanceof(fs.ReadStream||t)||e instanceof(fs.WriteStream||t))&&r(e.close)}(e)?e.close(t):function(e){return e.setHeader&&r(e.abort)}(e)?e.abort():r(e.destroy)?e.destroy():void s(i||new Error("stream was destroyed"))}}(o,f,h>0,function(t){e||(e=t),t&&u.forEach(i),f||(u.forEach(i),a(e))})});s.reduce(o)}}).call(this,Fe);var Qa={},Oa=function(e){return e.length?Array.isArray(e[0])?e[0]:Array.prototype.slice.call(e):[]},Ta=function(e){var t=function t(){var n=Oa(arguments);if(!(this instanceof t))return new t(n);Ba.call(this,null,null,e),n.length&&this.setPipeline(n)};return Te(t,Ba),t.prototype.setPipeline=function(){var e=Oa(arguments),t=this,n=!1,r=e[0],i=e[e.length-1];i=i.readable?i:null,r=r.writable?r:null;var o=function(){e[0].emit("error",new Error("stream was destroyed"))};if(this.on("close",o),this.on("prefinish",function(){n||t.cork()}),Da(e,function(e){if(t.removeListener("close",o),e)return t.destroy("premature close"===e.message?null:e);n=!0,!1===t._autoDestroy&&(t._autoDestroy=!0),t.uncork()}),this.destroyed)return o();this.setWritable(r),this.setReadable(i)},t};(Qa=Ta({autoDestroy:!1,destroy:!1})).obj=Ta({autoDestroy:!1,destroy:!1,objectMode:!0,highWaterMark:16}),Qa.ctor=Ta;var La={};(function(e,t){var n=va("multifeed");function r(e,i,o){if(!(this instanceof r))return new r(e,i,o);this._feeds={},this._feedKeyToFeed={},this._hypercore=e,this._opts=o,this.writerLock=ba(),this._storage=function(e){return function(t){var n=i;return"string"==typeof i?oa(_a.join(i,e,t)):n(e+"/"+t)}};var s=this;this._ready=ma(function(r){var i=new t("bee80ff3a4ee5e727dc44197cb9d25bf8f19d50b0f3ad2984cfe5b7d14e75de7","hex"),o=e(s._storage("fake"),i);o.ready(function(){s._fake=o,s._loadFeeds(function(){n("[INIT] finished loading feeds"),r()})})})}function i(e){return Object.keys(e).map(function(t){return e[t]})}La=r,Te(r,ne.EventEmitter),r.prototype._addFeed=function(e,t){this._feeds[t]=e,this._feedKeyToFeed[e.key.toString("hex")]=e,this.emit("feed",e,t)},r.prototype.ready=function(e){this._ready(e)},r.prototype._loadFeeds=function(e){var t=this;!function r(i){n("[INIT] loading feed #"+i);var o=t._storage(""+i);o("key").read(0,4,function(n){if(n)return e();var s=t._hypercore(o,t._opts);s.ready(function(){!function(e,t){e.stat(function(n,r){if(n)return t(n);var i=r.size;e.read(0,i,function(e,n){if(e)return t(e);var r=n.toString();t(null,r)})})}(o("localname"),function(e,n){!e&&n?t._addFeed(s,n):t._addFeed(s,String(i)),r(i+1)})})})}(0)},r.prototype.writer=function(r,i){"function"!=typeof r||i||(i=r,r=void 0);var o=this;this.ready(function(){o._feeds[r]?e.nextTick(i,null,o._feeds[r]):(n("[WRITER] creating new writer: "+r),o.writerLock(function(e){var n=Object.keys(o._feeds).length,s=o._storage(""+n),a=r||String(n),u=s("localname");!function(e,n,r){var i=t.from(e,"utf8");n.write(0,i,r)}(a,u,function(t){if(t)e(function(){i(t)});else{var n=o._hypercore(s,o._opts);n.ready(function(){o._addFeed(n,String(a)),e(function(){i(null,n,a)})})}})}))})},r.prototype.feeds=function(){return i(this._feeds)},r.prototype.feed=function(e){return t.isBuffer(e)&&(e=e.toString("hex")),"string"==typeof e?this._feedKeyToFeed[e]:null},r.prototype.replicate=function(r){r||(r={});var o=this;r.expectedFeeds=Object.keys(this._feeds).length+1;var s=r.expectedFeeds;function a(e,r){o.ready(function(s){if(s)return r(s);o.writerLock(function(s){!function(e,r){var s=0;n("[REPLICATION] recv'd "+e.length+" keys"),e.filter(function(e){return!Number.isNaN(parseInt(e,16))&&64===e.length}).forEach(function(e){if(!i(o._feeds).filter(function(t){return t.key.toString("hex")===e}).length){s++;var a,u=Object.keys(o._feeds).length,h=o._storage(""+u);try{n("[REPLICATION] trying to create new local hypercore, key="+e.toString("hex")),a=o._hypercore(h,t.from(e,"hex"),o._opts)}catch(f){return n("[REPLICATION] failed to create new local hypercore, key="+e.toString("hex")),void(--s||r())}n("[REPLICATION] succeeded in creating new local hypercore, key="+e.toString("hex")),o._addFeed(a,String(u)),a.ready(function(){--s||r()})}}),s||r()}(e,function(e){s(r,e)})})})}r.encrypt=!1,r.stream=Os(r);var u=!0,h=Nt(function(e,r,s){if(u){u=!1,n("[REPLICATION] able to share "+i(o._feeds).length+" keys");var a=function(e,r){var s={version:"1.0.0",keys:i(o._feeds).map(function(e){return e.key.toString("hex")})},a=JSON.stringify(s);n("[SERIALIZE] header outgoing: "+a);var u=t.alloc(4);u.writeUInt32LE(a.length,0);var h=t.from(a,"utf8");return t.concat([u,h])}();this.push(a)}this.push(e),s()}),f=!0,c=t.alloc(0),l=Nt(function(r,i,o){var s,u,h,l=this;if(f){if((c=t.concat([c,r])).length<=0)return o();var d=c.readUInt32LE(0);if(c.length>=d+4){f=!1;try{var g=function(e){var t=e.readUInt32LE(0);n("[SERIALIZE] header len to read: "+t);var r=e.slice(4,t+4);return n("[SERIALIZE] json buf to read: "+r.toString()),JSON.parse(r.toString("utf8"))}(c);if(n("[REPLICATION] recv'd header: "+JSON.stringify(g)),s=g.version,"1.0.0",u=s.split(".")[0],h="1.0.0".split(".")[0],parseInt(u)!==parseInt(h))return n("[REPLICATION] aborting; version mismatch (us=1.0.0)"),void l.emit("error",new Error("protocol version mismatch! us=1.0.0 them="+g.version));a(g.keys,function(){var t=c.slice(d+4);l.unshift(t),n("[REPLICATION] starting hypercore replication"),e.nextTick(p),o()})}catch(y){return n("[REPLICATION] aborting (bad header)"),void l.emit("error",y)}}else o()}else this.push(r),o()}),d=Qa(l,r.stream,h);return r.live||r.stream.on("prefinalize",function(e){var t=Object.keys(o._feeds).length+1;r.stream.expectedFeeds+=t-s,s=t,e()}),this.ready(function(e){if(e)return d.destroy(e);d.destroyed||o._fake.replicate(r)}),d;function p(){i(o._feeds).sort(function(e,t){return e.key.toString("hex")>t.key.toString("hex")}).forEach(function(e){n("[REPLICATION] replicating "+e.key.toString("hex")),e.replicate(r)})}}}).call(this,Fe,v.Buffer);var Ua={};function Fa(e,t){if(!(this instanceof Fa))return new Fa(e,t);this._logs=La(ua,e,t),this._indexes={},this.api={}}Ua=Fa,Fa.prototype.use=function(e,t){var n=fa({log:this._logs,maxBatch:t.maxBatch||10,batch:t.map,fetchState:t.fetchState,storeState:t.storeState});for(var r in t.indexed&&n.on("indexed",t.indexed),this._indexes[e]=n,this.api[e]={},this.api[e].ready=n.ready.bind(n),t.api)"function"==typeof t.api[r]?this.api[e][r]=t.api[r].bind(n,this):this.api[e][r]=t.api[r]},Fa.prototype.feeds=function(){return this._logs.feeds()},Fa.prototype.ready=function(e,t){"function"==typeof e&&(t=e,e=[]),"string"==typeof e&&(e=[e]),0===e.length&&(e=Object.keys(this._indexes));var n=e.length,r=this;function i(){--n||t()}this._logs.ready(function(){for(var t=0;t<e.length;t++)r._indexes[e[t]].ready(i)})},Fa.prototype.feed=function(e,t){this._logs.writer(e,t)},Fa.prototype.replicate=function(e){return this._logs.replicate(e)};var Na={};(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function n(e){this._db=e,this._operations=[],this._written=!1}n.prototype._serializeKey=function(e){return this._db._serializeKey(e)},n.prototype._serializeValue=function(e){return this._db._serializeValue(e)},n.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},n.prototype.put=function(e,t){this._checkWritten();var n=this._db._checkKey(e,"key",this._db._isBuffer);if(n)throw n;return e=this._serializeKey(e),t=this._serializeValue(t),"function"==typeof this._put?this._put(e,t):this._operations.push({type:"put",key:e,value:t}),this},n.prototype.del=function(e){this._checkWritten();var t=this._db._checkKey(e,"key",this._db._isBuffer);if(t)throw t;return e=this._serializeKey(e),"function"==typeof this._del?this._del(e):this._operations.push({type:"del",key:e}),this},n.prototype.clear=function(){return this._checkWritten(),this._operations=[],"function"==typeof this._clear&&this._clear(),this},n.prototype.write=function(n,r){if(this._checkWritten(),"function"==typeof n&&(r=n),"function"!=typeof r)throw new Error("write() requires a callback argument");return"object"!=(void 0===n?"undefined":t(n))&&(n={}),this._written=!0,"function"==typeof this._write?this._write(r):"function"==typeof this._db._batch?this._db._batch(this._operations,n,r):void e.nextTick(r)},Na=n}).call(this,Fe);var Ya={};(function(e){function t(e){this.db=e,this._ended=!1,this._nexting=!1}t.prototype.next=function(t){var n=this;if("function"!=typeof t)throw new Error("next() requires a callback argument");return n._ended?t(new Error("cannot call next() after end()")):n._nexting?t(new Error("cannot call next() before previous next() has completed")):(n._nexting=!0,"function"==typeof n._next?n._next(function(){n._nexting=!1,t.apply(null,arguments)}):void e.nextTick(function(){n._nexting=!1,t()}))},t.prototype.end=function(t){if("function"!=typeof t)throw new Error("end() requires a callback argument");return this._ended?t(new Error("end() already called on iterator")):(this._ended=!0,"function"==typeof this._end?this._end(t):void e.nextTick(t))},Ya=t}).call(this,Fe);var Ra={};(function(e,t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(e){if(!arguments.length||void 0===e)throw new Error("constructor requires at least a location argument");if("string"!=typeof e)throw new Error("constructor requires a location string argument");this.location=e,this.status="new"}r.prototype.open=function(e,r){var i=this,o=this.status;if("function"==typeof e&&(r=e),"function"!=typeof r)throw new Error("open() requires a callback argument");"object"!=(void 0===e?"undefined":n(e))&&(e={}),e.createIfMissing=0!=e.createIfMissing,e.errorIfExists=!!e.errorIfExists,"function"==typeof this._open?(this.status="opening",this._open(e,function(e){if(e)return i.status=o,r(e);i.status="open",r()})):(this.status="open",t.nextTick(r))},r.prototype.close=function(e){var n=this,r=this.status;if("function"!=typeof e)throw new Error("close() requires a callback argument");"function"==typeof this._close?(this.status="closing",this._close(function(t){if(t)return n.status=r,e(t);n.status="closed",e()})):(this.status="closed",t.nextTick(e))},r.prototype.get=function(e,r,i){var o;if("function"==typeof r&&(i=r),"function"!=typeof i)throw new Error("get() requires a callback argument");return(o=this._checkKey(e,"key"))?i(o):(e=this._serializeKey(e),"object"!=(void 0===r?"undefined":n(r))&&(r={}),r.asBuffer=0!=r.asBuffer,"function"==typeof this._get?this._get(e,r,i):void t.nextTick(function(){i(new Error("NotFound"))}))},r.prototype.put=function(e,r,i,o){var s;if("function"==typeof i&&(o=i),"function"!=typeof o)throw new Error("put() requires a callback argument");return(s=this._checkKey(e,"key"))?o(s):(e=this._serializeKey(e),r=this._serializeValue(r),"object"!=(void 0===i?"undefined":n(i))&&(i={}),"function"==typeof this._put?this._put(e,r,i,o):void t.nextTick(o))},r.prototype.del=function(e,r,i){var o;if("function"==typeof r&&(i=r),"function"!=typeof i)throw new Error("del() requires a callback argument");return(o=this._checkKey(e,"key"))?i(o):(e=this._serializeKey(e),"object"!=(void 0===r?"undefined":n(r))&&(r={}),"function"==typeof this._del?this._del(e,r,i):void t.nextTick(i))},r.prototype.batch=function(e,r,i){if(!arguments.length)return this._chainedBatch();if("function"==typeof r&&(i=r),"function"==typeof e&&(i=e),"function"!=typeof i)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(e))return i(new Error("batch(array) requires an array argument"));r&&"object"==(void 0===r?"undefined":n(r))||(r={});for(var o,s,a=0,u=e.length;a<u;a++)if("object"==(void 0===(o=e[a])?"undefined":n(o))){if(s=this._checkKey(o.type,"type"))return i(s);if(s=this._checkKey(o.key,"key"))return i(s)}if("function"==typeof this._batch)return this._batch(e,r,i);t.nextTick(i)},r.prototype.approximateSize=function(e,n,r){if(null==e||null==n||"function"==typeof e||"function"==typeof n)throw new Error("approximateSize() requires valid `start`, `end` and `callback` arguments");if("function"!=typeof r)throw new Error("approximateSize() requires a callback argument");if(e=this._serializeKey(e),n=this._serializeKey(n),"function"==typeof this._approximateSize)return this._approximateSize(e,n,r);t.nextTick(function(){r(null,0)})},r.prototype._setupIteratorOptions=function(e){var t=this;return e=Ut(e),["start","end","gt","gte","lt","lte"].forEach(function(n){e[n]&&t._isBuffer(e[n])&&0===e[n].length&&delete e[n]}),e.reverse=!!e.reverse,e.keys=0!=e.keys,e.values=0!=e.values,e.limit="limit"in e?e.limit:-1,e.keyAsBuffer=0!=e.keyAsBuffer,e.valueAsBuffer=0!=e.valueAsBuffer,e},r.prototype.iterator=function(e){return"object"!=(void 0===e?"undefined":n(e))&&(e={}),e=this._setupIteratorOptions(e),"function"==typeof this._iterator?this._iterator(e):new Ya(this)},r.prototype._chainedBatch=function(){return new Na(this)},r.prototype._isBuffer=function(t){return e.isBuffer(t)},r.prototype._serializeKey=function(e){return this._isBuffer(e)?e:String(e)},r.prototype._serializeValue=function(e){return null==e?"":this._isBuffer(e)||t.browser?e:String(e)},r.prototype._checkKey=function(e,t){return null==e?new Error(t+" cannot be `null` or `undefined`"):this._isBuffer(e)&&0===e.length?new Error(t+" cannot be an empty Buffer"):""===String(e)?new Error(t+" cannot be an empty String"):void 0},Ra=r}).call(this,{isBuffer:Qe},Fe);var Ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pa={};Pa.AbstractLevelDOWN=Ra,Pa.AbstractIterator=Ya,Pa.AbstractChainedBatch=Na,Pa.isLevelDOWN=function(e){return!(!e||"object"!==(void 0===e?"undefined":Ka(e)))&&Object.keys(Ra.prototype).filter(function(e){return"_"!=e[0]&&"approximateSize"!=e}).every(function(t){return"function"==typeof e[t]})};var ja={},Ha=Pa.AbstractIterator;function Wa(e){Ha.call(this,e),this._options=e,this._iterator=null,this._operations=[]}Lt.inherits(Wa,Ha),Wa.prototype.setDb=function(e){var t=this._iterator=e.iterator(this._options);this._operations.forEach(function(e){t[e.method].apply(t,e.args)})},Wa.prototype._operation=function(e,t){if(this._iterator)return this._iterator[e].apply(this._iterator,t);this._operations.push({method:e,args:t})},"next end".split(" ").forEach(function(e){Wa.prototype["_"+e]=function(){this._operation(e,arguments)}}),ja=Wa;var Ga={};(function(e,t){var n=Pa.AbstractLevelDOWN;function r(e){n.call(this,"string"==typeof e?e:""),this._db=void 0,this._operations=[],this._iterators=[]}Lt.inherits(r,n),r.prototype.setDb=function(e){this._db=e,this._operations.forEach(function(t){e[t.method].apply(e,t.args)}),this._iterators.forEach(function(t){t.setDb(e)})},r.prototype._open=function(e,n){return t.nextTick(n)},r.prototype._operation=function(e,t){if(this._db)return this._db[e].apply(this._db,t);this._operations.push({method:e,args:t})},"put get del batch approximateSize".split(" ").forEach(function(e){r.prototype["_"+e]=function(){this._operation(e,arguments)}}),r.prototype._isBuffer=function(t){return e.isBuffer(t)},r.prototype._iterator=function(e){if(this._db)return this._db.iterator.apply(this._db,arguments);var t=new ja(e);return this._iterators.push(t),t},(Ga=r).DeferredIterator=ja}).call(this,{isBuffer:Qe},Fe);var Va={};(function(e){function t(e){return e}function n(t){return null==t||e.isBuffer(t)}Va.utf8=Va["utf-8"]={encode:function(e){return n(e)?e:String(e)},decode:function(e){return"string"==typeof e?e:String(e)},buffer:!1,type:"utf8"},Va.json={encode:JSON.stringify,decode:JSON.parse,buffer:!1,type:"json"},Va.binary={encode:function(t){return n(t)?t:new e(t)},decode:t,buffer:!0,type:"binary"},Va.none={encode:t,decode:t,buffer:!1,type:"id"},Va.id=Va.none,["hex","ascii","base64","ucs2","ucs-2","utf16le","utf-16le"].forEach(function(t){Va[t]={encode:function(r){return n(r)?r:new e(r,t)},decode:function(e){return e.toString(t)},buffer:!0,type:t}})}).call(this,v.Buffer);var za={};function qa(e){this.opts=e||{},this.encodings=Va}za=qa,qa.prototype._encoding=function(e){return"string"==typeof e&&(e=Va[e]),e||(e=Va.id),e},qa.prototype._keyEncoding=function(e,t){return this._encoding(t&&t.keyEncoding||e&&e.keyEncoding||this.opts.keyEncoding)},qa.prototype._valueEncoding=function(e,t){return this._encoding(t&&(t.valueEncoding||t.encoding)||e&&(e.valueEncoding||e.encoding)||this.opts.valueEncoding||this.opts.encoding)},qa.prototype.encodeKey=function(e,t,n){return this._keyEncoding(t,n).encode(e)},qa.prototype.encodeValue=function(e,t,n){return this._valueEncoding(t,n).encode(e)},qa.prototype.decodeKey=function(e,t){return this._keyEncoding(t).decode(e)},qa.prototype.decodeValue=function(e,t){return this._valueEncoding(t).decode(e)},qa.prototype.encodeBatch=function(e,t){var n=this;return e.map(function(e){var r={type:e.type,key:n.encodeKey(e.key,t,e)};return n.keyAsBuffer(t,e)&&(r.keyEncoding="binary"),e.prefix&&(r.prefix=e.prefix),"value"in e&&(r.value=n.encodeValue(e.value,t,e),n.valueAsBuffer(t,e)&&(r.valueEncoding="binary")),r})};var Ja=["lt","gt","lte","gte","start","end"];qa.prototype.encodeLtgt=function(e){var t=this,n={};return Object.keys(e).forEach(function(r){n[r]=Ja.indexOf(r)>-1?t.encodeKey(e[r],e):e[r]}),n},qa.prototype.createStreamDecoder=function(e){var t=this;return e.keys&&e.values?function(n,r){return{key:t.decodeKey(n,e),value:t.decodeValue(r,e)}}:e.keys?function(n){return t.decodeKey(n,e)}:e.values?function(n,r){return t.decodeValue(r,e)}:function(){}},qa.prototype.keyAsBuffer=function(e){return this._keyEncoding(e).buffer},qa.prototype.valueAsBuffer=function(e){return this._valueEncoding(e).buffer};var Xa,Za={exports:{}},$a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Xa=function(){var e="function"==typeof Object.defineProperty?function(e,t,n){return Object.defineProperty(e,t,n),e}:function(e,t,n){return e[t]=n.value,e};return function(t,n,r,i){var o;if(i=function(e,t){var n="object"==(void 0===t?"undefined":$a(t)),r=!n&&"string"==typeof t,i=function(e){return n?!!t[e]:!!r&&t.indexOf(e[0])>-1};return{enumerable:i("enumerable"),configurable:i("configurable"),writable:i("writable"),value:e}}(r,i),"object"==(void 0===n?"undefined":$a(n))){for(o in n)Object.hasOwnProperty.call(n,o)&&(i.value=n[o],e(t,o,i));return t}return e(t,n,i)}},Za.exports?Za.exports=Xa():this.prr=Xa(),Za=Za.exports;var eu;function tu(e,t,n){t&&"string"!=typeof t&&(t=t.message||t.name),Za(this,{type:e,name:e,cause:"string"!=typeof t?t:n,message:t},"ewr")}function nu(e,t){Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),tu.call(this,"CustomError",e,t)}nu.prototype=new Error,eu=function(e){var t=function(t,n){return function(e,t,n){var r=function n(r,i){tu.call(this,t,r,i),"FilesystemError"==t&&(this.code=this.cause.code,this.path=this.cause.path,this.errno=this.cause.errno,this.message=(e.errno[this.cause.errno]?e.errno[this.cause.errno].description:this.cause.message)+(this.cause.path?" ["+this.cause.path+"]":"")),Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,n)};return r.prototype=n?new n:new nu,r}(e,t,n)};return{CustomError:nu,FilesystemError:t("FilesystemError"),createError:t}};var ru={},iu=ru.all=[{errno:-2,code:"ENOENT",description:"no such file or directory"},{errno:-1,code:"UNKNOWN",description:"unknown error"},{errno:0,code:"OK",description:"success"},{errno:1,code:"EOF",description:"end of file"},{errno:2,code:"EADDRINFO",description:"getaddrinfo error"},{errno:3,code:"EACCES",description:"permission denied"},{errno:4,code:"EAGAIN",description:"resource temporarily unavailable"},{errno:5,code:"EADDRINUSE",description:"address already in use"},{errno:6,code:"EADDRNOTAVAIL",description:"address not available"},{errno:7,code:"EAFNOSUPPORT",description:"address family not supported"},{errno:8,code:"EALREADY",description:"connection already in progress"},{errno:9,code:"EBADF",description:"bad file descriptor"},{errno:10,code:"EBUSY",description:"resource busy or locked"},{errno:11,code:"ECONNABORTED",description:"software caused connection abort"},{errno:12,code:"ECONNREFUSED",description:"connection refused"},{errno:13,code:"ECONNRESET",description:"connection reset by peer"},{errno:14,code:"EDESTADDRREQ",description:"destination address required"},{errno:15,code:"EFAULT",description:"bad address in system call argument"},{errno:16,code:"EHOSTUNREACH",description:"host is unreachable"},{errno:17,code:"EINTR",description:"interrupted system call"},{errno:18,code:"EINVAL",description:"invalid argument"},{errno:19,code:"EISCONN",description:"socket is already connected"},{errno:20,code:"EMFILE",description:"too many open files"},{errno:21,code:"EMSGSIZE",description:"message too long"},{errno:22,code:"ENETDOWN",description:"network is down"},{errno:23,code:"ENETUNREACH",description:"network is unreachable"},{errno:24,code:"ENFILE",description:"file table overflow"},{errno:25,code:"ENOBUFS",description:"no buffer space available"},{errno:26,code:"ENOMEM",description:"not enough memory"},{errno:27,code:"ENOTDIR",description:"not a directory"},{errno:28,code:"EISDIR",description:"illegal operation on a directory"},{errno:29,code:"ENONET",description:"machine is not on the network"},{errno:31,code:"ENOTCONN",description:"socket is not connected"},{errno:32,code:"ENOTSOCK",description:"socket operation on non-socket"},{errno:33,code:"ENOTSUP",description:"operation not supported on socket"},{errno:34,code:"ENOENT",description:"no such file or directory"},{errno:35,code:"ENOSYS",description:"function not implemented"},{errno:36,code:"EPIPE",description:"broken pipe"},{errno:37,code:"EPROTO",description:"protocol error"},{errno:38,code:"EPROTONOSUPPORT",description:"protocol not supported"},{errno:39,code:"EPROTOTYPE",description:"protocol wrong type for socket"},{errno:40,code:"ETIMEDOUT",description:"connection timed out"},{errno:41,code:"ECHARSET",description:"invalid Unicode character"},{errno:42,code:"EAIFAMNOSUPPORT",description:"address family for hostname not supported"},{errno:44,code:"EAISERVICE",description:"servname not supported for ai_socktype"},{errno:45,code:"EAISOCKTYPE",description:"ai_socktype not supported"},{errno:46,code:"ESHUTDOWN",description:"cannot send after transport endpoint shutdown"},{errno:47,code:"EEXIST",description:"file already exists"},{errno:48,code:"ESRCH",description:"no such process"},{errno:49,code:"ENAMETOOLONG",description:"name too long"},{errno:50,code:"EPERM",description:"operation not permitted"},{errno:51,code:"ELOOP",description:"too many symbolic links encountered"},{errno:52,code:"EXDEV",description:"cross-device link not permitted"},{errno:53,code:"ENOTEMPTY",description:"directory not empty"},{errno:54,code:"ENOSPC",description:"no space left on device"},{errno:55,code:"EIO",description:"i/o error"},{errno:56,code:"EROFS",description:"read-only file system"},{errno:57,code:"ENODEV",description:"no such device"},{errno:58,code:"ESPIPE",description:"invalid seek"},{errno:59,code:"ECANCELED",description:"operation canceled"}];ru.errno={},ru.code={},iu.forEach(function(e){ru.errno[e.errno]=e,ru.code[e.code]=e}),ru.custom=eu(ru),ru.create=ru.custom.createError;var ou,su=ru.create,au=su("LevelUPError"),uu=su("NotFoundError",au);uu.prototype.notFound=!0,uu.prototype.status=404,ou={LevelUPError:au,InitializationError:su("InitializationError",au),OpenError:su("OpenError",au),ReadError:su("ReadError",au),WriteError:su("WriteError",au),NotFoundError:uu,EncodingError:su("EncodingError",au)};var hu=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},fu={},cu=v.Buffer,lu=cu.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},du=fu.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),function(e){if(e&&!lu(e))throw new Error("Unknown encoding: "+e)}(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=gu;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=yu;break;default:return void(this.write=pu)}this.charBuffer=new cu(6),this.charReceived=0,this.charLength=0};function pu(e){return e.toString(this.encoding)}function gu(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function yu(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}du.prototype.write=function(e){for(var t="";this.charLength;){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";if(e=e.slice(n,e.length),!((r=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&r<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var r,i=e.length;if(this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived),i=(t+=e.toString(this.encoding,0,i)).length-1,(r=t.charCodeAt(i))>=55296&&r<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,i)}return t},du.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var n=e[e.length-t];if(1==t&&n>>5==6){this.charLength=2;break}if(t<=2&&n>>4==14){this.charLength=3;break}if(t<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=t},du.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;t+=r.slice(0,n).toString(i)}return t};var Au=i({}),vu=Mt.PassThrough,mu=Mt.Transform,bu=o({}),_u=Iu,wu=ne.EventEmitter;function Iu(){wu.call(this)}Te(Iu,wu),Iu.Readable=Mt,Iu.Writable=bu,Iu.Duplex=Au,Iu.Transform=mu,Iu.PassThrough=vu,Iu.Stream=Iu,Iu.prototype.pipe=function(e,t){var n=this;function r(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function i(){n.readable&&n.resume&&n.resume()}n.on("data",r),e.on("drain",i),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",a));var o=!1;function s(){o||(o=!0,e.end())}function a(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(h(),0===wu.listenerCount(this,"error"))throw e}function h(){n.removeListener("data",r),e.removeListener("drain",i),n.removeListener("end",s),n.removeListener("close",a),n.removeListener("error",u),e.removeListener("error",u),n.removeListener("end",h),n.removeListener("close",h),e.removeListener("close",h)}return n.on("error",u),e.on("error",u),n.on("end",h),n.on("close",h),e.on("close",h),e.emit("pipe",n),e};var Eu=ku,Cu=t({});function Su(e,t){this.afterTransform=function(e,n){return function(e,t,n){var r=e._transformState;r.transforming=!1;var i=r.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,Oe.isNullOrUndefined(n)||e.push(n),i&&i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function ku(e){if(!(this instanceof ku))return new ku(e);Cu.call(this,e),this._transformState=new Su(e,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",function(){Oe.isFunction(this._flush)?this._flush(function(e){Bu(t,e)}):Bu(t)})}function Bu(e,t){if(t)return e.emit("error",t);var n=e._writableState,r=e._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(r.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}Oe.inherits=Te,Oe.inherits(ku,Cu),ku.prototype.push=function(e,t){return this._transformState.needTransform=!1,Cu.prototype.push.call(this,e,t)},ku.prototype._transform=function(e,t,n){throw new Error("not implemented")},ku.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},ku.prototype._read=function(e){var t=this._transformState;Oe.isNull(t.writechunk)||!t.writecb||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))};var xu=Mu;function Mu(e){if(!(this instanceof Mu))return new Mu(e);Eu.call(this,e)}Oe.inherits=Te,Oe.inherits(Mu,Eu),Mu.prototype._transform=function(e,t,n){n(null,e)};var Du={};(function(e){(Du=Du=r({})).Stream=_u,Du.Readable=Du,Du.Writable=n({}),Du.Duplex=t({}),Du.Transform=Eu,Du.PassThrough=xu,e.browser||"disable"!==e.env.READABLE_STREAM||(Du=_u)}).call(this,Fe);var Qu={},Ou=Du.Readable,Tu=ou.EncodingError;function Lu(e,t){if(!(this instanceof Lu))return new Lu(e,t);Ou.call(this,Ut(t,{objectMode:!0})),this._iterator=e,this._destroyed=!1,this._decoder=null,t&&t.decoder&&(this._decoder=t.decoder),this.on("end",this._cleanup.bind(this))}Qu=Lu,Te(Lu,Ou),Lu.prototype._read=function(){var e=this;this._destroyed||this._iterator.next(function(t,n,r){if(!e._destroyed){if(t)return e.emit("error",t);if(void 0===n&&void 0===r)e.push(null);else{if(!e._decoder)return e.push({key:n,value:r});try{r=e._decoder(n,r)}catch(t){return e.emit("error",new Tu(t)),void e.push(null)}e.push(r)}}})},Lu.prototype.destroy=Lu.prototype._cleanup=function(){var e=this;this._destroyed||(this._destroyed=!0,this._iterator.end(function(t){if(t)return e.emit("error",t);e.emit("close")}))};var Uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu={createIfMissing:!0,errorIfExists:!1,keyEncoding:"utf8",valueEncoding:"utf8",compression:!0},Nu=function(e){return"string"==typeof e&&(e={valueEncoding:e}),"object"!==(void 0===e?"undefined":Uu(e))&&(e={}),e},Yu=function(e,t,n){"function"==typeof n?n(t):e.emit("error",t)},Ru={},Ku=ou.WriteError,Pu=Nu,ju=Yu;function Hu(e,t){this._levelup=e,this._codec=t,this.batch=e.db.batch(),this.ops=[],this.length=0}Hu.prototype.put=function(e,t,n){n=Pu(n);var r=this._codec.encodeKey(e,n),i=this._codec.encodeValue(t,n);try{this.batch.put(r,i)}catch(o){throw new Ku(o)}return this.ops.push({type:"put",key:r,value:i}),this.length++,this},Hu.prototype.del=function(e,t){t=Pu(t);var n=this._codec.encodeKey(e,t);try{this.batch.del(n)}catch(Pl){throw new Ku(Pl)}return this.ops.push({type:"del",key:n}),this.length++,this},Hu.prototype.clear=function(){try{this.batch.clear()}catch(Pl){throw new Ku(Pl)}return this.ops=[],this.length=0,this},Hu.prototype.write=function(e){var t=this._levelup,n=this.ops;try{this.batch.write(function(r){if(r)return ju(t,new Ku(r),e);t.emit("batch",n),e&&e()})}catch(Pl){throw new Ku(Pl)}},Ru=Hu;var Wu={};(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=ne.EventEmitter,r=Lt.inherits,i=Lt.deprecate,o=ou.WriteError,s=ou.ReadError,a=ou.NotFoundError,u=ou.OpenError,h=ou.EncodingError,f=ou.InitializationError,c=ou.LevelUPError,l=Nu,d=Fu,p=Yu;function g(e,t){return"function"==typeof e?e:t}function y(r,i,o){if(!(this instanceof y))return new y(r,i,o);var s;if(n.call(this),this.setMaxListeners(1/0),"function"==typeof r?((i="object"===(void 0===i?"undefined":t(i))?i:{}).db=r,r=null):"object"===(void 0===r?"undefined":t(r))&&"function"==typeof r.db&&(i=r,r=null),"function"==typeof i&&(o=i,i={}),(!i||"function"!=typeof i.db)&&"string"!=typeof r){if(s=new f("Must provide a location for the database"),o)return e.nextTick(function(){o(s)});throw s}i=l(i),this.options=Ut(d,i),this._codec=new za(this.options),this._status="new",Za(this,"location",r,"e"),this.open(o)}function A(e,t,n){if(!e._isOpening()&&!e.isOpen())return p(e,new s("Database is not open"),n),!0}function v(e,t,n){p(e,new o(t),n)}function m(e,t,n){p(e,new s(t),n)}function b(e){return function(t,n){Xe()[e](t,n||function(){})}}r(y,n),y.prototype.open=function(t){var n,r,i=this;if(this.isOpen())return t&&e.nextTick(function(){t(null,i)}),this;if(this._isOpening())return t&&this.once("open",function(){t(null,i)});if(this.emit("opening"),this._status="opening",this.db=new Ga(this.location),"function"!=typeof this.options.db&&"function"!=typeof Xe)throw new c("missing db factory, you need to set options.db");n=this.options.db||Xe(),(r=n(this.location)).open(this.options,function(e){if(e)return p(i,new u(e),t);i.db.setDb(r),i.db=r,i._status="open",t&&t(null,i),i.emit("open"),i.emit("ready")})},y.prototype.close=function(t){var n=this;if(this.isOpen())this._status="closing",this.db.close(function(){n._status="closed",n.emit("closed"),t&&t.apply(null,arguments)}),this.emit("closing"),this.db=new Ga(this.location);else{if("closed"===this._status&&t)return e.nextTick(t);"closing"===this._status&&t?this.once("closed",t):this._isOpening()&&this.once("open",function(){n.close(t)})}},y.prototype.isOpen=function(){return"open"===this._status},y.prototype._isOpening=function(){return"opening"===this._status},y.prototype.isClosed=function(){return/^clos/.test(this._status)},y.prototype.get=function(e,t,n){var r,i=this;if(!A(this,0,n=g(t,n))){if(null==e||"function"!=typeof n)return m(this,"get() requires key and callback arguments",n);t=Nu(t),r=this._codec.encodeKey(e,t),t.asBuffer=this._codec.valueAsBuffer(t),this.db.get(r,t,function(r,o){if(r)return r=/notfound/i.test(r)||r.notFound?new a("Key not found in database ["+e+"]",r):new s(r),p(i,r,n);if(n){try{o=i._codec.decodeValue(o,t)}catch(u){return n(new h(u))}n(null,o)}})}},y.prototype.put=function(e,t,n,r){var i,s,a=this;if(r=g(n,r),null==e)return v(this,"put() requires a key argument",r);A(this,0,r)||(n=l(n),i=this._codec.encodeKey(e,n),s=this._codec.encodeValue(t,n),this.db.put(i,s,n,function(n){if(n)return p(a,new o(n),r);a.emit("put",e,t),r&&r()}))},y.prototype.del=function(e,t,n){var r,i=this;if(n=g(t,n),null==e)return v(this,"del() requires a key argument",n);A(this,0,n)||(t=l(t),r=this._codec.encodeKey(e,t),this.db.del(r,t,function(t){if(t)return p(i,new o(t),n);i.emit("del",e),n&&n()}))},y.prototype.batch=function(e,t,n){var r,i=this;return arguments.length?(n=g(t,n),Array.isArray(e)?void(A(this,0,n)||(t=l(t),r=(r=i._codec.encodeBatch(e,t)).map(function(e){return e.type||void 0===e.key||void 0===e.value||(e.type="put"),e}),this.db.batch(r,t,function(t){if(t)return p(i,new o(t),n);i.emit("batch",e),n&&n()}))):v(this,"batch() requires an array argument",n)):new Ru(this,this._codec)},y.prototype.approximateSize=i(function(e,t,n,r){var i,o,s=this;if(r=g(n,r),n=l(n),null==e||null==t||"function"!=typeof r)return m(this,"approximateSize() requires start, end and callback arguments",r);i=this._codec.encodeKey(e,n),o=this._codec.encodeKey(t,n),this.db.approximateSize(i,o,function(e,t){if(e)return p(s,new u(e),r);r&&r(null,t)})},"db.approximateSize() is deprecated. Use db.db.approximateSize() instead"),y.prototype.readStream=y.prototype.createReadStream=function(e){return(e=Ut({keys:!0,values:!0},this.options,e)).keyEncoding=e.keyEncoding,e.valueEncoding=e.valueEncoding,(e=this._codec.encodeLtgt(e)).keyAsBuffer=this._codec.keyAsBuffer(e),e.valueAsBuffer=this._codec.valueAsBuffer(e),"number"!=typeof e.limit&&(e.limit=-1),new Qu(this.db.iterator(e),Ut(e,{decoder:this._codec.createStreamDecoder(e)}))},y.prototype.keyStream=y.prototype.createKeyStream=function(e){return this.createReadStream(Ut(e,{keys:!0,values:!1}))},y.prototype.valueStream=y.prototype.createValueStream=function(e){return this.createReadStream(Ut(e,{keys:!1,values:!0}))},y.prototype.toString=function(){return"LevelUP"},(Wu=y).errors=ou,Wu.destroy=i(b("destroy"),"levelup.destroy() is deprecated. Use leveldown.destroy() instead"),Wu.repair=i(b("repair"),"levelup.repair() is deprecated. Use leveldown.repair() instead")}).call(this,Fe);var Gu=function(e){return new Xu(e||nh,null)};function Vu(e,t,n,r,i,o){this._color=e,this.key=t,this.value=n,this.left=r,this.right=i,this._count=o}function zu(e){return new Vu(e._color,e.key,e.value,e.left,e.right,e._count)}function qu(e,t){return new Vu(e,t.key,t.value,t.left,t.right,t._count)}function Ju(e){e._count=1+(e.left?e.left._count:0)+(e.right?e.right._count:0)}function Xu(e,t){this._compare=e,this.root=t}var Zu=Xu.prototype;function $u(e,t){this.tree=e,this._stack=t}Object.defineProperty(Zu,"keys",{get:function(){var e=[];return this.forEach(function(t,n){e.push(t)}),e}}),Object.defineProperty(Zu,"values",{get:function(){var e=[];return this.forEach(function(t,n){e.push(n)}),e}}),Object.defineProperty(Zu,"length",{get:function(){return this.root?this.root._count:0}}),Zu.insert=function(e,t){for(var n=this._compare,r=this.root,i=[],o=[];r;){var s=n(e,r.key);i.push(r),o.push(s),r=s<=0?r.left:r.right}i.push(new Vu(0,e,t,null,null,1));for(var a=i.length-2;a>=0;--a)r=i[a],o[a]<=0?i[a]=new Vu(r._color,r.key,r.value,i[a+1],r.right,r._count+1):i[a]=new Vu(r._color,r.key,r.value,r.left,i[a+1],r._count+1);for(a=i.length-1;a>1;--a){var u=i[a-1];if(r=i[a],1===u._color||1===r._color)break;var h=i[a-2];if(h.left===u)if(u.left===r){if(!(f=h.right)||0!==f._color){h._color=0,h.left=u.right,u._color=1,u.right=h,i[a-2]=u,i[a-1]=r,Ju(h),Ju(u),a>=3&&((c=i[a-3]).left===h?c.left=u:c.right=u);break}u._color=1,h.right=qu(1,f),h._color=0,a-=1}else{if(!(f=h.right)||0!==f._color){u.right=r.left,h._color=0,h.left=r.right,r._color=1,r.left=u,r.right=h,i[a-2]=r,i[a-1]=u,Ju(h),Ju(u),Ju(r),a>=3&&((c=i[a-3]).left===h?c.left=r:c.right=r);break}u._color=1,h.right=qu(1,f),h._color=0,a-=1}else if(u.right===r){if(!(f=h.left)||0!==f._color){h._color=0,h.right=u.left,u._color=1,u.left=h,i[a-2]=u,i[a-1]=r,Ju(h),Ju(u),a>=3&&((c=i[a-3]).right===h?c.right=u:c.left=u);break}u._color=1,h.left=qu(1,f),h._color=0,a-=1}else{var f;if(!(f=h.left)||0!==f._color){var c;u.left=r.right,h._color=0,h.right=r.left,r._color=1,r.right=u,r.left=h,i[a-2]=r,i[a-1]=u,Ju(h),Ju(u),Ju(r),a>=3&&((c=i[a-3]).right===h?c.right=r:c.left=r);break}u._color=1,h.left=qu(1,f),h._color=0,a-=1}}return i[0]._color=1,new Xu(n,i[0])},Zu.forEach=function(e,t,n){if(this.root)switch(arguments.length){case 1:return function e(t,n){var r;return n.left&&(r=e(t,n.left))?r:(r=t(n.key,n.value))||(n.right?e(t,n.right):void 0)}(e,this.root);case 2:return function e(t,n,r,i){if(n(t,i.key)<=0){var o;if(i.left&&(o=e(t,n,r,i.left)))return o;if(o=r(i.key,i.value))return o}if(i.right)return e(t,n,r,i.right)}(t,this._compare,e,this.root);case 3:if(this._compare(t,n)>=0)return;return function e(t,n,r,i,o){var s,a=r(t,o.key),u=r(n,o.key);if(a<=0){if(o.left&&(s=e(t,n,r,i,o.left)))return s;if(u>0&&(s=i(o.key,o.value)))return s}if(u>0&&o.right)return e(t,n,r,i,o.right)}(t,n,this._compare,e,this.root)}},Object.defineProperty(Zu,"begin",{get:function(){for(var e=[],t=this.root;t;)e.push(t),t=t.left;return new $u(this,e)}}),Object.defineProperty(Zu,"end",{get:function(){for(var e=[],t=this.root;t;)e.push(t),t=t.right;return new $u(this,e)}}),Zu.at=function(e){if(e<0)return new $u(this,[]);for(var t=this.root,n=[];;){if(n.push(t),t.left){if(e<t.left._count){t=t.left;continue}e-=t.left._count}if(!e)return new $u(this,n);if(e-=1,!t.right)break;if(e>=t.right._count)break;t=t.right}return new $u(this,[])},Zu.ge=function(e){for(var t=this._compare,n=this.root,r=[],i=0;n;){var o=t(e,n.key);r.push(n),o<=0&&(i=r.length),n=o<=0?n.left:n.right}return r.length=i,new $u(this,r)},Zu.gt=function(e){for(var t=this._compare,n=this.root,r=[],i=0;n;){var o=t(e,n.key);r.push(n),o<0&&(i=r.length),n=o<0?n.left:n.right}return r.length=i,new $u(this,r)},Zu.lt=function(e){for(var t=this._compare,n=this.root,r=[],i=0;n;){var o=t(e,n.key);r.push(n),o>0&&(i=r.length),n=o<=0?n.left:n.right}return r.length=i,new $u(this,r)},Zu.le=function(e){for(var t=this._compare,n=this.root,r=[],i=0;n;){var o=t(e,n.key);r.push(n),o>=0&&(i=r.length),n=o<0?n.left:n.right}return r.length=i,new $u(this,r)},Zu.find=function(e){for(var t=this._compare,n=this.root,r=[];n;){var i=t(e,n.key);if(r.push(n),0===i)return new $u(this,r);n=i<=0?n.left:n.right}return new $u(this,[])},Zu.remove=function(e){var t=this.find(e);return t?t.remove():this},Zu.get=function(e){for(var t=this._compare,n=this.root;n;){var r=t(e,n.key);if(0===r)return n.value;n=r<=0?n.left:n.right}};var eh=$u.prototype;function th(e,t){e.key=t.key,e.value=t.value,e.left=t.left,e.right=t.right,e._color=t._color,e._count=t._count}function nh(e,t){return e<t?-1:e>t?1:0}Object.defineProperty(eh,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(eh,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),eh.clone=function(){return new $u(this.tree,this._stack.slice())},eh.remove=function(){var e=this._stack;if(0===e.length)return this.tree;var t=new Array(e.length),n=e[e.length-1];t[t.length-1]=new Vu(n._color,n.key,n.value,n.left,n.right,n._count);for(var r=e.length-2;r>=0;--r)(n=e[r]).left===e[r+1]?t[r]=new Vu(n._color,n.key,n.value,t[r+1],n.right,n._count):t[r]=new Vu(n._color,n.key,n.value,n.left,t[r+1],n._count);if((n=t[t.length-1]).left&&n.right){var i=t.length;for(n=n.left;n.right;)t.push(n),n=n.right;var o=t[i-1];for(t.push(new Vu(n._color,o.key,o.value,n.left,n.right,n._count)),t[i-1].key=n.key,t[i-1].value=n.value,r=t.length-2;r>=i;--r)n=t[r],t[r]=new Vu(n._color,n.key,n.value,n.left,t[r+1],n._count);t[i-1].left=t[i]}if(0===(n=t[t.length-1])._color){var s=t[t.length-2];for(s.left===n?s.left=null:s.right===n&&(s.right=null),t.pop(),r=0;r<t.length;++r)t[r]._count--;return new Xu(this.tree._compare,t[0])}if(n.left||n.right){for(n.left?th(n,n.left):n.right&&th(n,n.right),n._color=1,r=0;r<t.length-1;++r)t[r]._count--;return new Xu(this.tree._compare,t[0])}if(1===t.length)return new Xu(this.tree._compare,null);for(r=0;r<t.length;++r)t[r]._count--;var a=t[t.length-2];return function(e){for(var t,n,r,i,o=e.length-1;o>=0;--o){if(t=e[o],0===o)return void(t._color=1);if((n=e[o-1]).left===t){if((r=n.right).right&&0===r.right._color)return i=(r=n.right=zu(r)).right=zu(r.right),n.right=r.left,r.left=n,r.right=i,r._color=n._color,t._color=1,n._color=1,i._color=1,Ju(n),Ju(r),o>1&&((s=e[o-2]).left===n?s.left=r:s.right=r),void(e[o-1]=r);if(r.left&&0===r.left._color)return i=(r=n.right=zu(r)).left=zu(r.left),n.right=i.left,r.left=i.right,i.left=n,i.right=r,i._color=n._color,n._color=1,r._color=1,t._color=1,Ju(n),Ju(r),Ju(i),o>1&&((s=e[o-2]).left===n?s.left=i:s.right=i),void(e[o-1]=i);if(1===r._color){if(0===n._color)return n._color=1,void(n.right=qu(0,r));n.right=qu(0,r);continue}r=zu(r),n.right=r.left,r.left=n,r._color=n._color,n._color=0,Ju(n),Ju(r),o>1&&((s=e[o-2]).left===n?s.left=r:s.right=r),e[o-1]=r,e[o]=n,o+1<e.length?e[o+1]=t:e.push(t),o+=2}else{if((r=n.left).left&&0===r.left._color)return i=(r=n.left=zu(r)).left=zu(r.left),n.left=r.right,r.right=n,r.left=i,r._color=n._color,t._color=1,n._color=1,i._color=1,Ju(n),Ju(r),o>1&&((s=e[o-2]).right===n?s.right=r:s.left=r),void(e[o-1]=r);if(r.right&&0===r.right._color)return i=(r=n.left=zu(r)).right=zu(r.right),n.left=i.right,r.right=i.left,i.right=n,i.left=r,i._color=n._color,n._color=1,r._color=1,t._color=1,Ju(n),Ju(r),Ju(i),o>1&&((s=e[o-2]).right===n?s.right=i:s.left=i),void(e[o-1]=i);if(1===r._color){if(0===n._color)return n._color=1,void(n.left=qu(0,r));n.left=qu(0,r);continue}var s;r=zu(r),n.left=r.right,r.right=n,r._color=n._color,n._color=0,Ju(n),Ju(r),o>1&&((s=e[o-2]).right===n?s.right=r:s.left=r),e[o-1]=r,e[o]=n,o+1<e.length?e[o+1]=t:e.push(t),o+=2}}}(t),a.left===n?a.left=null:a.right=null,new Xu(this.tree._compare,t[0])},Object.defineProperty(eh,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(eh,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(eh,"index",{get:function(){var e=0,t=this._stack;if(0===t.length){var n=this.tree.root;return n?n._count:0}t[t.length-1].left&&(e=t[t.length-1].left._count);for(var r=t.length-2;r>=0;--r)t[r+1]===t[r].right&&(++e,t[r].left&&(e+=t[r].left._count));return e},enumerable:!0}),eh.next=function(){var e=this._stack;if(0!==e.length){var t=e[e.length-1];if(t.right)for(t=t.right;t;)e.push(t),t=t.left;else for(e.pop();e.length>0&&e[e.length-1].right===t;)t=e[e.length-1],e.pop()}},Object.defineProperty(eh,"hasNext",{get:function(){var e=this._stack;if(0===e.length)return!1;if(e[e.length-1].right)return!0;for(var t=e.length-1;t>0;--t)if(e[t-1].left===e[t])return!0;return!1}}),eh.update=function(e){var t=this._stack;if(0===t.length)throw new Error("Can't update empty node!");var n=new Array(t.length),r=t[t.length-1];n[n.length-1]=new Vu(r._color,r.key,e,r.left,r.right,r._count);for(var i=t.length-2;i>=0;--i)(r=t[i]).left===t[i+1]?n[i]=new Vu(r._color,r.key,r.value,n[i+1],r.right,r._count):n[i]=new Vu(r._color,r.key,r.value,r.left,n[i+1],r._count);return new Xu(this.tree._compare,n[0])},eh.prev=function(){var e=this._stack;if(0!==e.length){var t=e[e.length-1];if(t.left)for(t=t.left;t;)e.push(t),t=t.right;else for(e.pop();e.length>0&&e[e.length-1].left===t;)t=e[e.length-1],e.pop()}},Object.defineProperty(eh,"hasPrev",{get:function(){var e=this._stack;if(0===e.length)return!1;if(e[e.length-1].left)return!0;for(var t=e.length-1;t>0;--t)if(e[t-1].right===e[t])return!0;return!1}});var rh={};(function(e){function t(e){return void 0!==e&&""!==e}function n(e,t){return Object.hasOwnProperty.call(e,t)}function r(e,t){return Object.hasOwnProperty.call(e,t)&&t}rh.compare=function(t,n){if(e.isBuffer(t)){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var o=t[i]-n[i];if(o)return o}return t.length-n.length}return t<n?-1:t>n?1:0};var i=rh.lowerBoundKey=function(e){return r(e,"gt")||r(e,"gte")||r(e,"min")||(e.reverse?r(e,"end"):r(e,"start"))||void 0},o=rh.lowerBound=function(e,t){var n=i(e);return n?e[n]:t},s=rh.lowerBoundInclusive=function(e){return!n(e,"gt")},a=rh.upperBoundInclusive=function(e){return!n(e,"lt")},u=rh.lowerBoundExclusive=function(e){return!s(e)},h=rh.upperBoundExclusive=function(e){return!a(e)},f=rh.upperBoundKey=function(e){return r(e,"lt")||r(e,"lte")||r(e,"max")||(e.reverse?r(e,"start"):r(e,"end"))||void 0},c=rh.upperBound=function(e,t){var n=f(e);return n?e[n]:t};function l(e){return e}rh.start=function(e,t){return e.reverse?c(e,t):o(e,t)},rh.end=function(e,t){return e.reverse?o(e,t):c(e,t)},rh.startInclusive=function(e){return e.reverse?a(e):s(e)},rh.endInclusive=function(e){return e.reverse?s(e):a(e)},rh.toLtgt=function(e,t,r,i,o){t=t||{},r=r||l;var s=arguments.length>3,a=rh.lowerBoundKey(e),u=rh.upperBoundKey(e);return a?"gt"===a?t.gt=r(e.gt,!1):t.gte=r(e[a],!1):s&&(t.gte=r(i,!1)),u?"lt"===u?t.lt=r(e.lt,!0):t.lte=r(e[u],!0):s&&(t.lte=r(o,!0)),null!=e.reverse&&(t.reverse=!!e.reverse),n(t,"max")&&delete t.max,n(t,"min")&&delete t.min,n(t,"start")&&delete t.start,n(t,"end")&&delete t.end,t},rh.contains=function(e,n,r){r=r||rh.compare;var i=o(e);if(t(i)&&((s=r(n,i))<0||0===s&&u(e)))return!1;var s,a=c(e);return!t(a)||!((s=r(n,a))>0||0===s&&h(e))},rh.filter=function(e,t){return function(n){return rh.contains(e,n,t)}}}).call(this,{isBuffer:Qe});var ih={};(function(e){"use strict";ih.test=function(){return!e.setImmediate&&void 0!==e.MessageChannel},ih.install=function(t){var n=new e.MessageChannel;return n.port1.onmessage=t,function(){n.port2.postMessage(0)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var oh={};(function(e){"use strict";var t=e.MutationObserver||e.WebKitMutationObserver;oh.test=function(){return t},oh.install=function(n){var r=0,i=new t(n),o=e.document.createTextNode("");return i.observe(o,{characterData:!0}),function(){o.data=r=++r%2}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var sh={};(function(e){"use strict";sh.test=function(){return void 0!==e&&!e.browser},sh.install=function(t){return function(){e.nextTick(t)}}}).call(this,Fe);var ah={};(function(e){"use strict";ah.test=function(){return"document"in e&&"onreadystatechange"in e.document.createElement("script")},ah.install=function(t){return function(){var n=e.document.createElement("script");return n.onreadystatechange=function(){t(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},e.document.documentElement.appendChild(n),t}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var uh,hh,fh,ch={test:function(){return!0},install:function(e){return function(){setTimeout(e,0)}}},lh=[sh,oh,ih,ah,ch],dh=-1,ph=[],gh=!1;function yh(){uh&&hh&&(uh=!1,hh.length?ph=hh.concat(ph):dh=-1,ph.length&&Ah())}function Ah(){if(!uh){gh=!1,uh=!0;for(var e=ph.length,t=setTimeout(yh);e;){for(hh=ph,ph=[];hh&&++dh<e;)hh[dh].run();dh=-1,e=ph.length}hh=null,dh=-1,uh=!1,clearTimeout(t)}}for(var vh=-1,mh=lh.length;++vh<mh;)if(lh[vh]&&lh[vh].test&&lh[vh].test()){fh=lh[vh].install(Ah);break}function bh(e,t){this.fun=e,this.array=t}bh.prototype.run=function(){var e=this.fun,t=this.array;switch(t.length){case 0:return e();case 1:return e(t[0]);case 2:return e(t[0],t[1]);case 3:return e(t[0],t[1],t[2]);default:return e.apply(null,t)}};var _h=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];ph.push(new bh(e,t)),gh||uh||(gh=!0,fh())},wh={};(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function n(e){this._db=e,this._operations=[],this._written=!1}n.prototype._serializeKey=function(e){return this._db._serializeKey(e)},n.prototype._serializeValue=function(e){return this._db._serializeValue(e)},n.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},n.prototype.put=function(e,t){this._checkWritten();var n=this._db._checkKey(e,"key",this._db._isBuffer);if(n)throw n;return e=this._serializeKey(e),t=this._serializeValue(t),"function"==typeof this._put?this._put(e,t):this._operations.push({type:"put",key:e,value:t}),this},n.prototype.del=function(e){this._checkWritten();var t=this._db._checkKey(e,"key",this._db._isBuffer);if(t)throw t;return e=this._serializeKey(e),"function"==typeof this._del?this._del(e):this._operations.push({type:"del",key:e}),this},n.prototype.clear=function(){return this._checkWritten(),this._operations=[],"function"==typeof this._clear&&this._clear(),this},n.prototype.write=function(n,r){if(this._checkWritten(),"function"==typeof n&&(r=n),"function"!=typeof r)throw new Error("write() requires a callback argument");return"object"!=(void 0===n?"undefined":t(n))&&(n={}),this._written=!0,"function"==typeof this._write?this._write(r):"function"==typeof this._db._batch?this._db._batch(this._operations,n,r):void e.nextTick(r)},wh=n}).call(this,Fe);var Ih={};(function(e){function t(e){this.db=e,this._ended=!1,this._nexting=!1}t.prototype.next=function(t){var n=this;if("function"!=typeof t)throw new Error("next() requires a callback argument");return n._ended?t(new Error("cannot call next() after end()")):n._nexting?t(new Error("cannot call next() before previous next() has completed")):(n._nexting=!0,"function"==typeof n._next?n._next(function(){n._nexting=!1,t.apply(null,arguments)}):void e.nextTick(function(){n._nexting=!1,t()}))},t.prototype.end=function(t){if("function"!=typeof t)throw new Error("end() requires a callback argument");return this._ended?t(new Error("end() already called on iterator")):(this._ended=!0,"function"==typeof this._end?this._end(t):void e.nextTick(t))},Ih=t}).call(this,Fe);var Eh={};(function(e,t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(e){if(!arguments.length||void 0===e)throw new Error("constructor requires at least a location argument");if("string"!=typeof e)throw new Error("constructor requires a location string argument");this.location=e,this.status="new"}r.prototype.open=function(e,r){var i=this,o=this.status;if("function"==typeof e&&(r=e),"function"!=typeof r)throw new Error("open() requires a callback argument");"object"!=(void 0===e?"undefined":n(e))&&(e={}),e.createIfMissing=0!=e.createIfMissing,e.errorIfExists=!!e.errorIfExists,"function"==typeof this._open?(this.status="opening",this._open(e,function(e){if(e)return i.status=o,r(e);i.status="open",r()})):(this.status="open",t.nextTick(r))},r.prototype.close=function(e){var n=this,r=this.status;if("function"!=typeof e)throw new Error("close() requires a callback argument");"function"==typeof this._close?(this.status="closing",this._close(function(t){if(t)return n.status=r,e(t);n.status="closed",e()})):(this.status="closed",t.nextTick(e))},r.prototype.get=function(e,r,i){var o;if("function"==typeof r&&(i=r),"function"!=typeof i)throw new Error("get() requires a callback argument");return(o=this._checkKey(e,"key"))?i(o):(e=this._serializeKey(e),"object"!=(void 0===r?"undefined":n(r))&&(r={}),r.asBuffer=0!=r.asBuffer,"function"==typeof this._get?this._get(e,r,i):void t.nextTick(function(){i(new Error("NotFound"))}))},r.prototype.put=function(e,r,i,o){var s;if("function"==typeof i&&(o=i),"function"!=typeof o)throw new Error("put() requires a callback argument");return(s=this._checkKey(e,"key"))?o(s):(e=this._serializeKey(e),r=this._serializeValue(r),"object"!=(void 0===i?"undefined":n(i))&&(i={}),"function"==typeof this._put?this._put(e,r,i,o):void t.nextTick(o))},r.prototype.del=function(e,r,i){var o;if("function"==typeof r&&(i=r),"function"!=typeof i)throw new Error("del() requires a callback argument");return(o=this._checkKey(e,"key"))?i(o):(e=this._serializeKey(e),"object"!=(void 0===r?"undefined":n(r))&&(r={}),"function"==typeof this._del?this._del(e,r,i):void t.nextTick(i))},r.prototype.batch=function(e,r,i){if(!arguments.length)return this._chainedBatch();if("function"==typeof r&&(i=r),"function"==typeof e&&(i=e),"function"!=typeof i)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(e))return i(new Error("batch(array) requires an array argument"));r&&"object"==(void 0===r?"undefined":n(r))||(r={});for(var o,s,a=0,u=e.length;a<u;a++)if("object"==(void 0===(o=e[a])?"undefined":n(o))){if(s=this._checkKey(o.type,"type"))return i(s);if(s=this._checkKey(o.key,"key"))return i(s)}if("function"==typeof this._batch)return this._batch(e,r,i);t.nextTick(i)},r.prototype.approximateSize=function(e,n,r){if(null==e||null==n||"function"==typeof e||"function"==typeof n)throw new Error("approximateSize() requires valid `start`, `end` and `callback` arguments");if("function"!=typeof r)throw new Error("approximateSize() requires a callback argument");if(e=this._serializeKey(e),n=this._serializeKey(n),"function"==typeof this._approximateSize)return this._approximateSize(e,n,r);t.nextTick(function(){r(null,0)})},r.prototype._setupIteratorOptions=function(e){var t=this;return e=Ut(e),["start","end","gt","gte","lt","lte"].forEach(function(n){e[n]&&t._isBuffer(e[n])&&0===e[n].length&&delete e[n]}),e.reverse=!!e.reverse,e.keys=0!=e.keys,e.values=0!=e.values,e.limit="limit"in e?e.limit:-1,e.keyAsBuffer=0!=e.keyAsBuffer,e.valueAsBuffer=0!=e.valueAsBuffer,e},r.prototype.iterator=function(e){return"object"!=(void 0===e?"undefined":n(e))&&(e={}),e=this._setupIteratorOptions(e),"function"==typeof this._iterator?this._iterator(e):new Ih(this)},r.prototype._chainedBatch=function(){return new wh(this)},r.prototype._isBuffer=function(t){return e.isBuffer(t)},r.prototype._serializeKey=function(e){return this._isBuffer(e)?e:String(e)},r.prototype._serializeValue=function(e){return null==e?"":this._isBuffer(e)||t.browser?e:String(e)},r.prototype._checkKey=function(e,t){return null==e?new Error(t+" cannot be `null` or `undefined`"):this._isBuffer(e)&&0===e.length?new Error(t+" cannot be an empty Buffer"):""===String(e)?new Error(t+" cannot be an empty String"):void 0},Eh=r}).call(this,{isBuffer:Qe},Fe);var Ch="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh={};Sh.AbstractLevelDOWN=Eh,Sh.AbstractIterator=Ih,Sh.AbstractChainedBatch=wh,Sh.isLevelDOWN=function(e){return!(!e||"object"!==(void 0===e?"undefined":Ch(e)))&&Object.keys(Eh.prototype).filter(function(e){return"_"!=e[0]&&"approximateSize"!=e}).every(function(t){return"function"==typeof e[t]})};var kh={},Bh=Sh.AbstractLevelDOWN,xh=Sh.AbstractIterator,Mh=et.Buffer,Dh={};function Qh(e){return rh.compare(e,this._end)>0}function Oh(e){return rh.compare(e,this._end)>=0}function Th(e){return rh.compare(e,this._end)<0}function Lh(e){return rh.compare(e,this._end)<=0}function Uh(e,t){xh.call(this,e),this._limit=t.limit,-1===this._limit&&(this._limit=1/0);var n=e._store[e._location];this.keyAsBuffer=!1!==t.keyAsBuffer,this.valueAsBuffer=!1!==t.valueAsBuffer,this._reverse=t.reverse,this._options=t,this._done=0,this._reverse?(this._incr="prev",this._start=rh.upperBound(t),this._end=rh.lowerBound(t),void 0===this._start?this._tree=n.end:rh.upperBoundInclusive(t)?this._tree=n.le(this._start):this._tree=n.lt(this._start),this._end&&(rh.lowerBoundInclusive(t)?this._test=Oh:this._test=Qh)):(this._incr="next",this._start=rh.lowerBound(t),this._end=rh.upperBound(t),void 0===this._start?this._tree=n.begin:rh.lowerBoundInclusive(t)?this._tree=n.ge(this._start):this._tree=n.gt(this._start),this._end&&(rh.upperBoundInclusive(t)?this._test=Lh:this._test=Th))}function Fh(e){if(!(this instanceof Fh))return new Fh(e);Bh.call(this,"string"==typeof e?e:""),this._location=this.location?"$"+this.location:"_tree",this._store=this.location?Dh:this,this._store[this._location]=this._store[this._location]||Gu(rh.compare)}Te(Uh,xh),Uh.prototype._next=function(e){var t,n;return this._done++>=this._limit?_h(e):this._tree.valid?(t=this._tree.key,n=this._tree.value,this._test(t)?(this.keyAsBuffer&&(t=Mh.from(t)),this.valueAsBuffer&&(n=Mh.from(n)),this._tree[this._incr](),void _h(function(){e(null,t,n)})):_h(e)):_h(e)},Uh.prototype._test=function(){return!0},Fh.clearGlobalStore=function(e){e?Object.keys(Dh).forEach(function(e){delete Dh[e]}):Dh={}},Te(Fh,Bh),Fh.prototype._open=function(e,t){var n=this;_h(function(){t(null,n)})},Fh.prototype._put=function(e,t,n,r){null==t&&(t="");var i=this._store[this._location].find(e);i.valid?this._store[this._location]=i.update(t):this._store[this._location]=this._store[this._location].insert(e,t),_h(r)},Fh.prototype._get=function(e,t,n){var r=this._store[this._location].get(e);if(void 0===r)return _h(function(){n(new Error("NotFound"))});!1===t.asBuffer||this._isBuffer(r)||(r=Mh.from(String(r))),_h(function(){n(null,r)})},Fh.prototype._del=function(e,t,n){this._store[this._location]=this._store[this._location].remove(e),_h(n)},Fh.prototype._batch=function(e,t,n){for(var r,i,o,s=-1,a=e.length,u=this._store[this._location];++s<a;)e[s]&&(r=this._isBuffer(e[s].key)?e[s].key:String(e[s].key),o=u.find(r),"put"===e[s].type?(i=this._isBuffer(e[s].value)?e[s].value:String(e[s].value),u=o.valid?o.update(i):u.insert(r,i)):u=o.remove());this._store[this._location]=u,_h(n)},Fh.prototype._iterator=function(e){return new Uh(this,e)},Fh.prototype._isBuffer=function(e){return Mh.isBuffer(e)},Fh.destroy=function(e,t){var n="$"+e;n in Dh&&delete Dh[n],_h(t)},kh=Fh.default=Fh;var Nh=function(e,t){return"function"==typeof e&&(t=e,e={}),"string"==typeof e&&(e={}),(e=e||{}).db=function(e){return new kh(e)},Wu("",e,t)},Yh={};(function(e,t){function n(e,r,i){if(!(this instanceof n))return new n(e,r,i);i||(i={}),ne.EventEmitter.call(this);var o={encode:function(e){return t.from(JSON.stringify(e))},decode:function(e){var t=e.toString("utf8");try{var n=JSON.parse(t)}catch(Pl){return{}}return n}};this.key=r||null,this.db=Ua(e,{valueEncoding:o});var s=this;this.feed=sa(function(e){s.db.ready(function(){s.db.feed("local",function(t,n){s.key||(s.key=n.key.toString("hex")),e(n)})})}),this.db.use("channels",be(Nh({valueEncoding:o}))),this.db.use("messages",jt(Nh({valueEncoding:o}))),this.db.use("topics",zt(Nh({valueEncoding:o}))),this.db.use("users",rn(Nh({valueEncoding:o}))),this.messages=this.db.api.messages,this.channels=this.db.api.channels,this.topics=this.db.api.topics,this.users=this.db.api.users}function r(){}(Yh=n).databaseVersion=1,Te(n,ne.EventEmitter),n.prototype.getDatabaseVersion=function(t){t||(t=r),e.nextTick(t,1)},n.prototype.getUser=function(e,t){"function"==typeof e&&(t=e,e=null);var n=this;this.feed(function(r){e||(e=r.key.toString("hex")),n.db.api.users.get(e,t)})},n.prototype.publish=function(e,t,n){return n||(n=r),e?"function"==typeof t?this.publish(e,null,t):(t||(t={}),void this.feed(function(t){e.timestamp=$t(),t.append(e,function(t){n(t,t?null:e)})})):n()},n.prototype.publishNick=function(e,t){if(t||(t=r),!e)return t();this.feed(function(n){var r={type:"about",content:{name:e},timestamp:$t()};n.append(r,t)})},n.prototype.publishChannelTopic=function(e,t,n){return n||(n=r),e&&"string"==typeof e&&t&&"string"==typeof t?void this.feed(function(r){var i={type:"chat/topic",content:{channel:e,text:t},timestamp:$t()};r.append(i,n)}):n()},n.prototype.getLocalKey=function(e){e&&this.feed(function(t){e(null,t.key.toString("hex"))})},n.prototype.replicate=function(){return this.db.replicate({live:!0})},n.prototype._addConnection=function(e){this.emit("peer-added",e)},n.prototype._removeConnection=function(e){this.emit("peer-dropped",e)}}).call(this,Fe,v.Buffer);var Rh,Kh,Ph,jh={},Hh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wh=void 0,Gh=1e5,Vh=(Rh=Object.prototype.toString,Kh=Object.prototype.hasOwnProperty,{Class:function(e){return Rh.call(e).replace(/^\[object *|\]$/g,"")},HasProperty:function(e,t){return t in e},HasOwnProperty:function(e,t){return Kh.call(e,t)},IsCallable:function(e){return"function"==typeof e},ToInt32:function(e){return e>>0},ToUint32:function(e){return e>>>0}}),zh=Math.LN2,qh=Math.abs,Jh=Math.floor,Xh=Math.log,Zh=Math.min,$h=Math.pow,ef=Math.round;function tf(e){if(nf&&Ph){var t,n=nf(e);for(t=0;t<n.length;t+=1)Ph(e,n[t],{value:e[n[t]],writable:!1,enumerable:!1,configurable:!1})}}Ph=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()?Object.defineProperty:function(e,t,n){if(!e===Object(e))throw new TypeError("Object.defineProperty called on non-object");return Vh.HasProperty(n,"get")&&Object.prototype.__defineGetter__&&Object.prototype.__defineGetter__.call(e,t,n.get),Vh.HasProperty(n,"set")&&Object.prototype.__defineSetter__&&Object.prototype.__defineSetter__.call(e,t,n.set),Vh.HasProperty(n,"value")&&(e[t]=n.value),e};var nf=Object.getOwnPropertyNames||function(e){if(e!==Object(e))throw new TypeError("Object.getOwnPropertyNames called on non-object");var t,n=[];for(t in e)Vh.HasOwnProperty(e,t)&&n.push(t);return n};function rf(e,t){var n=32-t;return e<<n>>n}function of(e,t){var n=32-t;return e<<n>>>n}function sf(e){return[255&e]}function af(e){return rf(e[0],8)}function uf(e){return[255&e]}function hf(e){return of(e[0],8)}function ff(e){return[(e=ef(Number(e)))<0?0:e>255?255:255&e]}function cf(e){return[e>>8&255,255&e]}function lf(e){return rf(e[0]<<8|e[1],16)}function df(e){return[e>>8&255,255&e]}function pf(e){return of(e[0]<<8|e[1],16)}function gf(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]}function yf(e){return rf(e[0]<<24|e[1]<<16|e[2]<<8|e[3],32)}function Af(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]}function vf(e){return of(e[0]<<24|e[1]<<16|e[2]<<8|e[3],32)}function mf(e,t,n){var r,i,o,s,a,u,h,f=(1<<t-1)-1;function c(e){var t=Jh(e),n=e-t;return n<.5?t:n>.5?t+1:t%2?t+1:t}for(e!=e?(i=(1<<t)-1,o=$h(2,n-1),r=0):e===1/0||e===-1/0?(i=(1<<t)-1,o=0,r=e<0?1:0):0===e?(i=0,o=0,r=1/e==-1/0?1:0):(r=e<0,(e=qh(e))>=$h(2,1-f)?(i=Zh(Jh(Xh(e)/zh),1023),(o=c(e/$h(2,i)*$h(2,n)))/$h(2,n)>=2&&(i+=1,o=1),i>f?(i=(1<<t)-1,o=0):(i+=f,o-=$h(2,n))):(i=0,o=c(e/$h(2,1-f-n)))),a=[],s=n;s;s-=1)a.push(o%2?1:0),o=Jh(o/2);for(s=t;s;s-=1)a.push(i%2?1:0),i=Jh(i/2);for(a.push(r?1:0),a.reverse(),u=a.join(""),h=[];u.length;)h.push(parseInt(u.substring(0,8),2)),u=u.substring(8);return h}function bf(e,t,n){var r,i,o,s,a,u,h,f,c=[];for(r=e.length;r;r-=1)for(o=e[r-1],i=8;i;i-=1)c.push(o%2?1:0),o>>=1;return c.reverse(),s=c.join(""),a=(1<<t-1)-1,u=parseInt(s.substring(0,1),2)?-1:1,h=parseInt(s.substring(1,1+t),2),f=parseInt(s.substring(1+t),2),h===(1<<t)-1?0!==f?NaN:u*(1/0):h>0?u*$h(2,h-a)*(1+f/$h(2,n)):0!==f?u*$h(2,-(a-1))*(f/$h(2,n)):u<0?-0:0}function _f(e){return bf(e,11,52)}function wf(e){return mf(e,11,52)}function If(e){return bf(e,8,23)}function Ef(e){return mf(e,8,23)}!function(){var e=function(e){if((e=Vh.ToInt32(e))<0)throw new RangeError("ArrayBuffer size is not a small enough positive integer");var t;for(this.byteLength=e,this._bytes=[],this._bytes.length=e,t=0;t<this.byteLength;t+=1)this._bytes[t]=0;tf(this)};jh.ArrayBuffer=jh.ArrayBuffer||e;var t=function(){};function n(n,r,i){var o;return(o=function(t,n,r){var i,s,a,u;if(arguments.length&&"number"!=typeof arguments[0])if("object"===Hh(arguments[0])&&arguments[0].constructor===o)for(i=arguments[0],this.length=i.length,this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new e(this.byteLength),this.byteOffset=0,a=0;a<this.length;a+=1)this._setter(a,i._getter(a));else if("object"!==Hh(arguments[0])||arguments[0]instanceof e||"ArrayBuffer"===Vh.Class(arguments[0])){if("object"!==Hh(arguments[0])||!(arguments[0]instanceof e||"ArrayBuffer"===Vh.Class(arguments[0])))throw new TypeError("Unexpected argument type(s)");if(this.buffer=t,this.byteOffset=Vh.ToUint32(n),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(this.byteOffset%this.BYTES_PER_ELEMENT)throw new RangeError("ArrayBuffer length minus the byteOffset is not a multiple of the element size.");if(arguments.length<3){if(this.byteLength=this.buffer.byteLength-this.byteOffset,this.byteLength%this.BYTES_PER_ELEMENT)throw new RangeError("length of buffer minus byteOffset not a multiple of the element size");this.length=this.byteLength/this.BYTES_PER_ELEMENT}else this.length=Vh.ToUint32(r),this.byteLength=this.length*this.BYTES_PER_ELEMENT;if(this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer")}else for(s=arguments[0],this.length=Vh.ToUint32(s.length),this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new e(this.byteLength),this.byteOffset=0,a=0;a<this.length;a+=1)u=s[a],this._setter(a,Number(u));else{if(this.length=Vh.ToInt32(arguments[0]),r<0)throw new RangeError("ArrayBufferView size is not a small enough positive integer");this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new e(this.byteLength),this.byteOffset=0}this.constructor=o,tf(this),function(e){if(Ph){if(e.length>Gh)throw new RangeError("Array too large for polyfill");var t;for(t=0;t<e.length;t+=1)n(t)}function n(t){Ph(e,t,{get:function(){return e._getter(t)},set:function(n){e._setter(t,n)},enumerable:!0,configurable:!1})}}(this)}).prototype=new t,o.prototype.BYTES_PER_ELEMENT=n,o.prototype._pack=r,o.prototype._unpack=i,o.BYTES_PER_ELEMENT=n,o.prototype._getter=function(e){if(arguments.length<1)throw new SyntaxError("Not enough arguments");if((e=Vh.ToUint32(e))>=this.length)return Wh;var t,n,r=[];for(t=0,n=this.byteOffset+e*this.BYTES_PER_ELEMENT;t<this.BYTES_PER_ELEMENT;t+=1,n+=1)r.push(this.buffer._bytes[n]);return this._unpack(r)},o.prototype.get=o.prototype._getter,o.prototype._setter=function(e,t){if(arguments.length<2)throw new SyntaxError("Not enough arguments");if((e=Vh.ToUint32(e))>=this.length)return Wh;var n,r,i=this._pack(t);for(n=0,r=this.byteOffset+e*this.BYTES_PER_ELEMENT;n<this.BYTES_PER_ELEMENT;n+=1,r+=1)this.buffer._bytes[r]=i[n]},o.prototype.set=function(e,t){if(arguments.length<1)throw new SyntaxError("Not enough arguments");var n,r,i,o,s,a,u,h,f,c;if("object"===Hh(arguments[0])&&arguments[0].constructor===this.constructor){if(n=arguments[0],(i=Vh.ToUint32(arguments[1]))+n.length>this.length)throw new RangeError("Offset plus length of array is out of range");if(h=this.byteOffset+i*this.BYTES_PER_ELEMENT,f=n.length*this.BYTES_PER_ELEMENT,n.buffer===this.buffer){for(c=[],s=0,a=n.byteOffset;s<f;s+=1,a+=1)c[s]=n.buffer._bytes[a];for(s=0,u=h;s<f;s+=1,u+=1)this.buffer._bytes[u]=c[s]}else for(s=0,a=n.byteOffset,u=h;s<f;s+=1,a+=1,u+=1)this.buffer._bytes[u]=n.buffer._bytes[a]}else{if("object"!==Hh(arguments[0])||void 0===arguments[0].length)throw new TypeError("Unexpected argument type(s)");if(r=arguments[0],o=Vh.ToUint32(r.length),(i=Vh.ToUint32(arguments[1]))+o>this.length)throw new RangeError("Offset plus length of array is out of range");for(s=0;s<o;s+=1)a=r[s],this._setter(i+s,Number(a))}},o.prototype.subarray=function(e,t){function n(e,t,n){return e<t?t:e>n?n:e}e=Vh.ToInt32(e),t=Vh.ToInt32(t),arguments.length<1&&(e=0),arguments.length<2&&(t=this.length),e<0&&(e=this.length+e),t<0&&(t=this.length+t),e=n(e,0,this.length);var r=(t=n(t,0,this.length))-e;return r<0&&(r=0),new this.constructor(this.buffer,this.byteOffset+e*this.BYTES_PER_ELEMENT,r)},o}var r=n(1,sf,af),i=n(1,uf,hf),o=n(1,ff,hf),s=n(2,cf,lf),a=n(2,df,pf),u=n(4,gf,yf),h=n(4,Af,vf),f=n(4,Ef,If),c=n(8,wf,_f);jh.Int8Array=jh.Int8Array||r,jh.Uint8Array=jh.Uint8Array||i,jh.Uint8ClampedArray=jh.Uint8ClampedArray||o,jh.Int16Array=jh.Int16Array||s,jh.Uint16Array=jh.Uint16Array||a,jh.Int32Array=jh.Int32Array||u,jh.Uint32Array=jh.Uint32Array||h,jh.Float32Array=jh.Float32Array||f,jh.Float64Array=jh.Float64Array||c}(),function(){function e(e,t){return Vh.IsCallable(e.get)?e.get(t):e[t]}var t,n=(t=new jh.Uint16Array([4660]),18===e(new jh.Uint8Array(t.buffer),0)),r=function(e,t,n){if(0===arguments.length)e=new jh.ArrayBuffer(0);else if(!(e instanceof jh.ArrayBuffer||"ArrayBuffer"===Vh.Class(e)))throw new TypeError("TypeError");if(this.buffer=e||new jh.ArrayBuffer(0),this.byteOffset=Vh.ToUint32(t),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(arguments.length<3?this.byteLength=this.buffer.byteLength-this.byteOffset:this.byteLength=Vh.ToUint32(n),this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer");tf(this)};function i(t){return function(r,i){if((r=Vh.ToUint32(r))+t.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");r+=this.byteOffset;var o,s=new jh.Uint8Array(this.buffer,r,t.BYTES_PER_ELEMENT),a=[];for(o=0;o<t.BYTES_PER_ELEMENT;o+=1)a.push(e(s,o));return Boolean(i)===Boolean(n)&&a.reverse(),e(new t(new jh.Uint8Array(a).buffer),0)}}function o(t){return function(r,i,o){if((r=Vh.ToUint32(r))+t.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");var s,a=new t([i]),u=new jh.Uint8Array(a.buffer),h=[];for(s=0;s<t.BYTES_PER_ELEMENT;s+=1)h.push(e(u,s));Boolean(o)===Boolean(n)&&h.reverse(),new jh.Uint8Array(this.buffer,r,t.BYTES_PER_ELEMENT).set(h)}}r.prototype.getUint8=i(jh.Uint8Array),r.prototype.getInt8=i(jh.Int8Array),r.prototype.getUint16=i(jh.Uint16Array),r.prototype.getInt16=i(jh.Int16Array),r.prototype.getUint32=i(jh.Uint32Array),r.prototype.getInt32=i(jh.Int32Array),r.prototype.getFloat32=i(jh.Float32Array),r.prototype.getFloat64=i(jh.Float64Array),r.prototype.setUint8=o(jh.Uint8Array),r.prototype.setInt8=o(jh.Int8Array),r.prototype.setUint16=o(jh.Uint16Array),r.prototype.setInt16=o(jh.Int16Array),r.prototype.setUint32=o(jh.Uint32Array),r.prototype.setInt32=o(jh.Int32Array),r.prototype.setFloat32=o(jh.Float32Array),r.prototype.setFloat64=o(jh.Float64Array),jh.DataView=jh.DataView||r}();var Cf={};(function(e){var t=Mt.Writable;if("undefined"==typeof Uint8Array)var n=jh.Uint8Array;else n=Uint8Array;function r(e,n){if(!(this instanceof r))return new r(e,n);"function"==typeof e&&(n=e,e={}),e||(e={});var i=e.encoding,o=!1;i?"u8"!==(i=String(i).toLowerCase())&&"uint8"!==i||(i="uint8array"):o=!0,t.call(this,{objectMode:!0}),this.encoding=i,this.shouldInferEncoding=o,n&&this.on("finish",function(){n(this.getBody())}),this.body=[]}function i(e){return"string"==typeof e||(t=e,/Array\]$/.test(Object.prototype.toString.call(t)))||e&&"function"==typeof e.subarray;var t}Cf=r,Te(r,t),r.prototype._write=function(e,t,n){this.body.push(e),n()},r.prototype.inferEncoding=function(t){var n=void 0===t?this.body[0]:t;return e.isBuffer(n)?"buffer":"undefined"!=typeof Uint8Array&&n instanceof Uint8Array?"uint8array":Array.isArray(n)?"array":"string"==typeof n?"string":"[object Object]"===Object.prototype.toString.call(n)?"object":"buffer"},r.prototype.getBody=function(){return this.encoding||0!==this.body.length?(this.shouldInferEncoding&&(this.encoding=this.inferEncoding()),"array"===this.encoding?function(e){for(var t=[],n=0;n<e.length;n++)t.push.apply(t,e[n]);return t}(this.body):"string"===this.encoding?function(t){for(var n=[],r=0;r<t.length;r++){var o=t[r];"string"==typeof o?n.push(o):e.isBuffer(o)?n.push(o):i(o)?n.push(un(o)):n.push(un(String(o)))}return n=e.isBuffer(t[0])?(n=e.concat(n)).toString("utf8"):n.join("")}(this.body):"buffer"===this.encoding?function(t){for(var n=[],r=0;r<t.length;r++){var o=t[r];e.isBuffer(o)?n.push(o):i(o)?n.push(un(o)):n.push(un(String(o)))}return e.concat(n)}(this.body):"uint8array"===this.encoding?function(e){for(var t=0,r=0;r<e.length;r++)"string"==typeof e[r]&&(e[r]=un(e[r])),t+=e[r].length;for(var i=new n(t),o=(r=0,0);r<e.length;r++)for(var s=e[r],a=0;a<s.length;a++)i[o++]=s[a];return i}(this.body):this.body):[]},Array.isArray}).call(this,v.Buffer);var Sf={};function kf(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(Sf,"__esModule",{value:!0}),Sf.default=function(e,t,n){"function"==typeof t&&(n=t,t={}),n=(0,xf.default)(n),e.on("error",n),e.pipe((0,Bf.default)(t,function(e){n(null,e)}))};var Bf=kf(Cf),xf=kf(xa);Sf=Sf.default;var Mf={};(function(e){var t=function(){},n=/^v?\.0/.test(e.version),r=function(e){return"function"==typeof e},i=function(e){e()},o=function(e,t){return e.pipe(t)};Mf=function(){var e,s=Array.prototype.slice.call(arguments),a=r(s[s.length-1]||t)&&s.pop()||t;if(Array.isArray(s[0])&&(s=s[0]),s.length<2)throw new Error("pump requires two streams per minimum");var u=s.map(function(o,h){var f=h<s.length-1;return function(e,i,o,s){s=xa(s);var a=!1;e.on("close",function(){a=!0}),ka(e,{readable:i,writable:o},function(e){if(e)return s(e);a=!0,s()});var u=!1;return function(i){if(!a&&!u)return u=!0,function(e){return!!n&&(e instanceof(fs.ReadStream||t)||e instanceof(fs.WriteStream||t))&&r(e.close)}(e)?e.close(t):function(e){return e.setHeader&&r(e.abort)}(e)?e.abort():r(e.destroy)?e.destroy():void s(i||new Error("stream was destroyed"))}}(o,f,h>0,function(t){e||(e=t),t&&u.forEach(i),f||(u.forEach(i),a(e))})});return s.reduce(o)}}).call(this,Fe);var Df={};(function(e,t){"use strict";var n,r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e},r=function(e){var t,r,i=document.createTextNode(""),o=0;return new e(function(){var e;if(t)r&&(t=r.concat(t));else{if(!r)return;t=r}if(r=t,t=null,"function"==typeof r)return e=r,r=null,void e();for(i.data=o=++o%2;r;)e=r.shift(),r.length||(r=null),e()}).observe(i,{characterData:!0}),function(e){n(e),t?"function"==typeof t?t=[t,e]:t.push(e):(t=e,i.data=o=++o%2)}},Df=function(){if("object"===(void 0===e?"undefined":i(e))&&e&&"function"==typeof e.nextTick)return e.nextTick;if("object"===("undefined"==typeof document?"undefined":i(document))&&document){if("function"==typeof MutationObserver)return r(MutationObserver);if("function"==typeof WebKitMutationObserver)return r(WebKitMutationObserver)}return"function"==typeof t?function(e){t(n(e))}:"function"==typeof setTimeout||"object"===("undefined"==typeof setTimeout?"undefined":i(setTimeout))?function(e){setTimeout(n(e),0)}:null}()}).call(this,Fe,s({}).setImmediate);var Qf={};(function(e){var t=Object.prototype.toString,n="function"==typeof e.alloc&&"function"==typeof e.allocUnsafe&&"function"==typeof e.from;Qf=function(r,i,o){if("number"==typeof r)throw new TypeError('"value" argument must not be a number');return s=r,"ArrayBuffer"===t.call(s).slice(8,-1)?function(t,r,i){r>>>=0;var o=t.byteLength-r;if(o<0)throw new RangeError("'offset' is out of bounds");if(void 0===i)i=o;else if((i>>>=0)>o)throw new RangeError("'length' is out of bounds");return n?e.from(t.slice(r,r+i)):new e(new Uint8Array(t.slice(r,r+i)))}(r,i,o):"string"==typeof r?function(t,r){if("string"==typeof r&&""!==r||(r="utf8"),!e.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');return n?e.from(t,r):new e(t,r)}(r,i):n?e.from(r):new e(r);var s}}).call(this,v.Buffer);var Of={};function Tf(e){var t=function t(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function Lf(e){var t=function t(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}(Of=wa(Tf)).strict=wa(Lf),Tf.proto=Tf(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Tf(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Lf(this)},configurable:!0})});var Uf={};(function(e){var t=c(new Error("Not readable")),n=c(new Error("Not writable")),r=c(new Error("Not deletable")),i=c(new Error("Not statable")),o=c(new Error("No readonly open"));function s(e){if(!(this instanceof s))return new s(e);ne.EventEmitter.call(this),this._queued=[],this._pending=0,this._needsOpen=!0,this.opened=!1,this.closed=!1,this.destroyed=!1,e&&(e.openReadonly&&(this._openReadonly=e.openReadonly),e.open&&(this._open=e.open),e.read&&(this._read=e.read),e.write&&(this._write=e.write),e.del&&(this._del=e.del),e.stat&&(this._stat=e.stat),e.close&&(this._close=e.close),e.destroy&&(this._destroy=e.destroy)),this.preferReadonly=this._openReadonly!==o,this.readable=this._read!==t,this.writable=this._write!==n,this.deletable=this._del!==r,this.statable=this._stat!==i}function a(){}function u(e,t,n,r,i,o){this.type=t,this.offset=n,this.data=i,this.size=r,this.storage=e,this._sync=!1,this._callback=o,this._openError=null}function h(e,t){e._queued.push(t),e._pending||t._run()}function f(e){e.preferReadonly&&(e._needsOpen=!0,e.preferReadonly=!1)}function c(e){return function(t){l(t,e)}}function l(t,n,r){e.nextTick(d,t,n,r)}function d(e,t,n){e.callback(t,n)}Uf=s,Te(s,ne.EventEmitter),s.prototype.open=function(t){if(t||(t=a),this.opened&&!this._needsOpen)return e.nextTick(t,null);h(this,new u(this,0,0,0,null,t))},s.prototype._open=c(null),s.prototype._openReadonly=o,s.prototype.read=function(e,t,n){this.run(new u(this,1,e,t,null,n))},s.prototype._read=t,s.prototype.write=function(e,t,n){n||(n=a),f(this),this.run(new u(this,2,e,t.length,t,n))},s.prototype._write=n,s.prototype.del=function(e,t,n){n||(n=a),f(this),this.run(new u(this,3,e,t,null,n))},s.prototype._del=r,s.prototype.stat=function(e){this.run(new u(this,4,0,0,null,e))},s.prototype._stat=i,s.prototype.close=function(t){if(t||(t=a),this.closed)return e.nextTick(t,null);h(this,new u(this,5,0,0,null,t))},s.prototype._close=c(null),s.prototype.destroy=function(e){e||(e=a),this.closed||this.close(a),h(this,new u(this,6,0,0,null,e))},s.prototype._destroy=c(null),s.prototype.run=function(e){this._needsOpen&&this.open(a),this._queued.length?this._queued.push(e):e._run()},u.prototype._maybeOpenError=function(e){if(0===this.type)for(var t=this.storage._queued,n=0;n<t.length;n++)t[n]._openError=e},u.prototype._unqueue=function(e){var t=this.storage,n=t._queued;if(e)this._maybeOpenError(e);else switch(this.type){case 0:t.opened||(t.opened=!0,t.emit("open"));break;case 5:t.closed||(t.closed=!0,t.emit("close"));break;case 6:t.destroyed||(t.destroyed=!0,t.emit("destroy"))}n.length&&n[0]===this&&n.shift(),!--t._pending&&n.length&&n[0]._run()},u.prototype.callback=function(e,t){if(this._sync)return l(this,e,t);this._unqueue(e),this._callback(e,t)},u.prototype._openAndNotClosed=function(){var e=this.storage;return!(!e.opened||e.closed)||(e.opened?e.closed&&l(this,new Error("Closed")):l(this,this._openError||new Error("Not opened")),!1)},u.prototype._open=function(){var e=this.storage;return e.opened&&!e._needsOpen?l(this,null):e.closed?l(this,new Error("Closed")):(e._needsOpen=!1,void(e.preferReadonly?e._openReadonly(this):e._open(this)))},u.prototype._run=function(){var e=this.storage;switch(e._pending++,this._sync=!0,this.type){case 0:this._open();break;case 1:this._openAndNotClosed()&&e._read(this);break;case 2:this._openAndNotClosed()&&e._write(this);break;case 3:this._openAndNotClosed()&&e._del(this);break;case 4:this._openAndNotClosed()&&e._stat(this);break;case 5:e.closed||!e.opened?l(this,null):e._close(this);break;case 6:e.destroyed?l(this,null):e._destroy(this)}this._sync=!1}}).call(this,Fe);var Ff={};(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n="\0",r="undefined"!=typeof window?window:"undefined"!=typeof self?self:{};function i(e){if(!(this instanceof i))return new i(e);Uf.call(this),e||(e={}),"string"==typeof e&&(e={name:e}),this.size=e.size||4096,this.name=e.name,this.length=e.length||0,this._getdb=e.db}function o(e,t){e.addEventListener("success",function(e){t(null,e)}),e.addEventListener("error",t)}Ff=function(e,n){n||(n={});var o=n.idb||(void 0!==r?r.indexedDB||r.mozIndexedDB||r.webkitIndexedDB||r.msIndexedDB:null);if(!o)throw new Error("indexedDB not present and not given");var s=null,a=[];if("function"==typeof o.open){var u=o.open(e);u.addEventListener("upgradeneeded",function(){(s=u.result).createObjectStore("data")}),u.addEventListener("success",function(){s=u.result,a.forEach(function(e){e(s)}),a=null})}else s=o;return function(e,r){return"object"===(void 0===e?"undefined":t(e))&&(e=(r=e).name),r||(r={}),r.name=e,new i(Object.assign({db:h},n,r))};function h(e){s?Df(function(){e(s)}):a.push(e)}},Te(i,Uf),i.prototype._blocks=function(e,t){return function(e,t,n){for(var r=[],i=Math.floor(t/e)*e;i<n;i+=e)r.push({block:Math.floor(i/e),start:Math.max(i,t)%e,end:Math.min(i+e,n)%e||e});return r}(this.size,e,t)},i.prototype._read=function(t){var r=this,i=[];r._store("readonly",function(s,a){if((r.length||0)<t.offset+t.size)return t.callback(new Error("Could not satisfy length"));if(s)return t.callback(s);for(var u=r._blocks(t.offset,t.offset+t.size),h=u.length+1,f=u.length>0?u[0].block:0,c=0;c<u.length;c++)!function(s){var u=r.name+n+s.block;o(a.get(u),function(n,r){if(n)return t.callback(n);i[s.block-f]=r.target.result?Qf(r.target.result.subarray(s.start,s.end)):xi(s.end-s.start),0==--h&&t.callback(null,e.concat(i))})}(u[c]);0==--h&&t.callback(null,e.concat(i))})},i.prototype._write=function(e){var t=this;function r(r,i,o){for(var s=0,a=0;s<i.length;s++){var u=i[s],h=u.end-u.start;h===t.size?block=e.data.slice(a,a+h):(block=o[s],e.data.copy(block,u.start,a,a+h)),r.put(block,t.name+n+u.block),a+=h}var f=Math.max(t.length||0,e.offset+e.data.length);r.put(f,t.name+n+"length"),r.transaction.addEventListener("complete",function(){t.length=f,e.callback(null)}),r.transaction.addEventListener("error",function(t){e.callback(t)})}t._store("readwrite",function(i,s){if(i)return e.callback(i);for(var a=t._blocks(e.offset,e.offset+e.data.length),u=1,h={},f=0;f<a.length;f++)!function(i,f){if(i.end-i.start!==t.size){u++;var c=t.name+n+i.block;o(s.get(c),function(n,i){if(n)return e.callback(n);h[f]=Qf(i.target.result||xi(t.size)),0==--u&&r(s,a,h)})}}(a[f],f);0==--u&&r(s,a,h)})},i.prototype._store=function(e,t){t=Of(t),this._getdb(function(n){var r=n.transaction(["data"],e),i=r.objectStore("data");r.addEventListener("error",t),t(null,i)})},i.prototype._open=function(e){var t=this;this._getdb(function(r){t._store("readonly",function(r,i){o(i.get(t.name+n+"length"),function(n,r){t.length=r.target.result||0,e.callback(null)})})})},i.prototype._close=function(e){this._getdb(function(t){t.close(),e.callback()})},i.prototype._stat=function(e){var t=this;Df(function(){e.callback(null,{size:t.length})})}}).call(this,v.Buffer);var Nf={},Yf=null;"undefined"!=typeof WebSocket?Yf=WebSocket:"undefined"!=typeof MozWebSocket?Yf=MozWebSocket:"undefined"!=typeof window&&(Yf=window.WebSocket||window.MozWebSocket),Nf=Yf;var Rf={};(function(e,t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=Mt.Transform,i=et.Buffer;Rf=function(o,s,a){var u,h,f="browser"===e.title,c=!!t.WebSocket,l=f?function e(t,n,r){if(h.bufferedAmount>p)setTimeout(e,g,t,n,r);else{y&&"string"==typeof t&&(t=i.from(t,"utf8"));try{h.send(t)}catch(Pl){return r(Pl)}r()}}:function(e,t,n){h.readyState===h.OPEN?(y&&"string"==typeof e&&(e=i.from(e,"utf8")),h.send(e,n)):n()};s&&!Array.isArray(s)&&"object"===(void 0===s?"undefined":n(s))&&(a=s,s=null,("string"==typeof a.protocol||Array.isArray(a.protocol))&&(s=a.protocol)),a||(a={}),void 0===a.objectMode&&(a.objectMode=!(!0===a.binary||void 0===a.binary));var d=function(e,t,n){var i=new r({objectMode:e.objectMode});return i._write=t,i._flush=function(e){h.close(),e()},i}(a,l);a.objectMode||(d._writev=function(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)"string"==typeof e[r].chunk?n[r]=i.from(e[r],"utf8"):n[r]=e[r].chunk;this._write(i.concat(n),"binary",t)});var p=a.browserBufferSize||524288,g=a.browserBufferTimeout||1e3;"object"===(void 0===o?"undefined":n(o))?h=o:(h=c&&f?new Nf(o,s):new Nf(o,s,a)).binaryType="arraybuffer",h.readyState===h.OPEN?u=d:(u=Ba.obj(),h.onopen=function(){u.setReadable(d),u.setWritable(d),u.emit("connect")}),u.socket=h,h.onclose=function(){u.end(),u.destroy()},h.onerror=function(e){u.destroy(e)},h.onmessage=function(e){var t=e.data;t=t instanceof ArrayBuffer?i.from(t):i.from(t,"utf8"),d.push(t)},d.on("close",function(){h.close()});var y=!a.objectMode;return u}}).call(this,Fe,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Kf={};(function(e){var t,n=void 0!==e?e:"undefined"!=typeof window?window:{};"undefined"!=typeof document?t=document:(t=n["__GLOBAL_DOCUMENT_CACHE@4"])||(t=n["__GLOBAL_DOCUMENT_CACHE@4"]=Xe),Kf=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Pf=["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onmouseenter","onmouseleave","ontouchcancel","ontouchend","ontouchmove","ontouchstart","ondragstart","ondrag","ondragenter","ondragleave","ondragover","ondrop","ondragend","onkeydown","onkeypress","onkeyup","onunload","onabort","onerror","onresize","onscroll","onselect","onchange","onsubmit","onreset","onfocus","onblur","oninput","oncontextmenu","onfocusin","onfocusout"],jf=Pf.length;function Hf(e,t,n){e[n]!==t[n]&&(t[n]=e[n],e[n]?t.setAttribute(n,""):t.removeAttribute(n))}var Wf=function(e,t){var n=e.nodeType,r=e.nodeName;1===n&&function(e,t){for(var n=t.attributes,r=e.attributes,i=null,o=null,s=null,a=null,u=r.length-1;u>=0;--u)s=(a=r[u]).name,i=a.namespaceURI,o=a.value,i?(s=a.localName||s,t.getAttributeNS(i,s)!==o&&t.setAttributeNS(i,s,o)):t.hasAttribute(s)?t.getAttribute(s)!==o&&("null"===o||"undefined"===o?t.removeAttribute(s):t.setAttribute(s,o)):t.setAttribute(s,o);for(var h=n.length-1;h>=0;--h)!1!==(a=n[h]).specified&&(s=a.name,(i=a.namespaceURI)?(s=a.localName||s,e.hasAttributeNS(i,s)||t.removeAttributeNS(i,s)):e.hasAttributeNS(null,s)||t.removeAttribute(s))}(e,t),3!==n&&8!==n||t.nodeValue!==e.nodeValue&&(t.nodeValue=e.nodeValue),"INPUT"===r?function(e,t){var n=e.value,r=t.value;Hf(e,t,"checked"),Hf(e,t,"disabled"),n!==r&&(t.setAttribute("value",n),t.value=n),"null"===n&&(t.value="",t.removeAttribute("value")),e.hasAttributeNS(null,"value")?"range"===t.type&&(t.value=n):t.removeAttribute("value")}(e,t):"OPTION"===r?function(e,t){Hf(e,t,"selected")}(e,t):"TEXTAREA"===r&&function(e,t){var n=e.value;if(n!==t.value&&(t.value=n),t.firstChild&&t.firstChild.nodeValue!==n){if(""===n&&t.firstChild.nodeValue===t.placeholder)return;t.firstChild.nodeValue=n}}(e,t),function(e,t){for(var n=0;n<jf;n++){var r=Pf[n];e[r]?t[r]=e[r]:t[r]&&(t[r]=void 0)}}(e,t)};"function"==typeof Symbol&&Symbol.iterator;var Gf=3;function Vf(e,t){return e.id?e.id===t.id:e.isSameNode?e.isSameNode(t):e.tagName===t.tagName&&e.type===Gf&&e.nodeValue===t.nodeValue}var zf,qf=function(e,t){return function e(t,n){return n?t?t.isSameNode&&t.isSameNode(n)?n:t.tagName!==n.tagName?t:(Wf(t,n),function(t,n){for(var r,i,o,s,a=0,u=0;r=n.childNodes[u],i=t.childNodes[u-a],r||i;u++)if(i)if(r)if(Vf(i,r))(o=e(i,r))!==r&&(n.replaceChild(o,r),a++);else{s=null;for(var h=u;h<n.childNodes.length;h++)if(Vf(n.childNodes[h],i)){s=n.childNodes[h];break}s?((o=e(i,s))!==s&&a++,n.insertBefore(o,r)):i.id||r.id?(n.insertBefore(i,r),a++):(o=e(i,r))!==r&&(n.replaceChild(o,r),a++)}else n.appendChild(i),a++;else n.removeChild(r),u--}(t,n),n):null:t}(t,e)};"function"==typeof Symbol&&Symbol.iterator;var Jf="undefined"!=typeof window;function Xf(e){this.hasWindow=e,this.hasIdle=this.hasWindow&&window.requestIdleCallback,this.method=this.hasIdle?window.requestIdleCallback.bind(window):this.setTimeout,this.scheduled=!1,this.queue=[]}Xf.prototype.push=function(e){this.queue.push(e),this.schedule()},Xf.prototype.schedule=function(){if(!this.scheduled){this.scheduled=!0;var e=this;this.method(function(t){for(;e.queue.length&&t.timeRemaining()>0;)e.queue.shift()(t);e.scheduled=!1,e.queue.length&&e.schedule()})}},Xf.prototype.setTimeout=function(e){setTimeout(e,0,{timeRemaining:function(){return 1}})},zf=function(){var e;return Jf?(window._nanoScheduler||(window._nanoScheduler=new Xf(!0)),e=window._nanoScheduler):e=new Xf,e},"function"==typeof Symbol&&Symbol.iterator;var Zf,$f=zf();ec.disabled=!0;try{Zf=window.performance,ec.disabled="true"===window.localStorage.DISABLE_NANOTIMING||!Zf.mark}catch(jl){}function ec(e){if(ec.disabled)return tc;var t=(1e4*Zf.now()).toFixed()%Number.MAX_SAFE_INTEGER,n="start-"+t+"-"+e;function r(r){var i="end-"+t+"-"+e;Zf.mark(i),$f.push(function(){var o=null;try{var s=e+" ["+t+"]";Zf.measure(s,n,i),Zf.clearMarks(n),Zf.clearMarks(i)}catch(jl){o=jl}r&&r(o,e)})}return Zf.mark(n),r.uuid=t,r}function tc(e){e&&$f.push(function(){e(new Error("nanotiming: performance API unavailable"))})}var nc=ec,rc={};(function(e){var t;t="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},rc=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var ic,oc=Object.create(null),sc="onloadid"+(new Date%9e6).toString(36),ac="data-"+sc,uc=0;if(rc&&rc.MutationObserver){var hc=new MutationObserver(function(e){if(!(Object.keys(oc).length<1))for(var t=0;t<e.length;t++)e[t].attributeName!==ac?(dc(e[t].removedNodes,lc),dc(e[t].addedNodes,cc)):(n=e[t],r=cc,i=lc,o=void 0,o=n.target.getAttribute(ac),function(e,t){return!(!e||!t)&&oc[e][3]===oc[t][3]}(n.oldValue,o)?oc[o]=oc[n.oldValue]:(oc[n.oldValue]&&i(n.oldValue,n.target),oc[o]&&r(o,n.target)));var n,r,i,o});Kf.body?fc(hc):Kf.addEventListener("DOMContentLoaded",function(e){fc(hc)})}function fc(e){e.observe(Kf.documentElement,{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:[ac]})}function cc(e,t){oc[e][0]&&0===oc[e][2]&&(oc[e][0](t),oc[e][2]=1)}function lc(e,t){oc[e][1]&&1===oc[e][2]&&(oc[e][1](t),oc[e][2]=0)}function dc(e,t){for(var n=Object.keys(oc),r=0;r<e.length;r++){if(e[r]&&e[r].getAttribute&&e[r].getAttribute(ac)){var i=e[r].getAttribute(ac);n.forEach(function(n){i===n&&t(n,e[r])})}e[r].childNodes.length>0&&dc(e[r].childNodes,t)}}(ic=function e(t,n,r,i){return n=n||function(){},r=r||function(){},t.setAttribute(ac,"o"+uc),oc["o"+uc]=[n,r,0,i||e.caller],uc+=1,t}).KEY_ATTR=ac;var pc,gc=ic.KEY_ID=sc,yc=ic.KEY_ATTR;function Ac(e){this._hasWindow="undefined"!=typeof window,this._id=null,this._ncID=null,this._olID=null,this._proxy=null,this._loaded=!1,this._rootNodeName=null,this._name=e||"nanocomponent",this._rerender=!1,this._handleLoad=this._handleLoad.bind(this),this._handleUnload=this._handleUnload.bind(this),this._arguments=[];var t=this;Object.defineProperty(this,"element",{get:function(){var e=Kf.getElementById(t._id);if(e)return e.dataset.nanocomponent===t._ncID?e:void 0}})}pc=Ac,Ac.prototype.render=function(){for(var e,t=nc(this._name+".render"),n=new Array(arguments.length),r=0;r<arguments.length;r++)n[r]=arguments[r];if(this._hasWindow){if(this.element){e=this.element;var i=nc(this._name+".update"),o=this._rerender||this.update.apply(this,n);if(i(),this._rerender&&(this._rerender=!1),o){var s=this._handleRender(n),a=nc(this._name+".morph");qf(e,s),a(),this.afterupdate&&this.afterupdate(e)}return this._proxy||(this._proxy=this._createProxy()),t(),this._proxy}return this._reset(),e=this._handleRender(n),this.beforerender&&this.beforerender(e),(this.load||this.unload||this.afterreorder)&&(ic(e,this._handleLoad,this._handleUnload,this._ncID),this._olID=e.dataset[gc]),t(),e}var u=nc(this._name+".create");return e=this.createElement.apply(this,n),u(),t(),e},Ac.prototype.rerender=function(){this._rerender=!0,this.render.apply(this,this._arguments)},Ac.prototype._handleRender=function(e){var t=nc(this._name+".createElement"),n=this.createElement.apply(this,e);return t(),this._rootNodeName||(this._rootNodeName=n.nodeName),this._arguments=e,this._brandNode(this._ensureID(n))},Ac.prototype._createProxy=function(){var e=Kf.createElement(this._rootNodeName),t=this;return this._brandNode(e),e.id=this._id,e.setAttribute("data-proxy",""),e.isSameNode=function(e){return e&&e.dataset.nanocomponent===t._ncID},e},Ac.prototype._reset=function(){this._ncID="ncid-"+Math.floor(65536*(1+Math.random())).toString(16).substring(1),this._olID=null,this._id=null,this._proxy=null,this._rootNodeName=null},Ac.prototype._brandNode=function(e){return e.setAttribute("data-nanocomponent",this._ncID),this._olID&&e.setAttribute(yc,this._olID),e},Ac.prototype._ensureID=function(e){return e.id?this._id=e.id:e.id=this._id=this._ncID,this._proxy&&this._proxy.id!==this._id&&(this._proxy.id=this._id),e},Ac.prototype._handleLoad=function(e){this._loaded?this.afterreorder&&this.afterreorder(e):(this._loaded=!0,this.load&&this.load(e))},Ac.prototype._handleUnload=function(e){this.element||(this._loaded=!1,this.unload&&this.unload(e))},Ac.prototype.createElement=function(){throw new Error("nanocomponent: createElement should be implemented!")},Ac.prototype.update=function(){throw new Error("nanocomponent: update should be implemented!")};var vc=pc,mc=function(e){var t,n=document.createElement("div");return n.innerHTML=e,t=n.childNodes,Array.isArray(t)?t:[].slice.call(t)},bc=/\n[\s]+$/,_c=/^\n[\s]+/,wc=/[\s]+$/,Ic=/^[\s]+/,Ec=/[\n\s]+/g,Cc=["a","abbr","b","bdi","bdo","br","cite","data","dfn","em","i","kbd","mark","q","rp","rt","rtc","ruby","s","amp","small","span","strong","sub","sup","time","u","var","wbr"],Sc=["code","pre","textarea"],kc=function e(t,n){if(Array.isArray(n))for(var r,i,o=t.nodeName.toLowerCase(),s=!1,a=0,u=n.length;a<u;a++){var h=n[a];if(Array.isArray(h))e(t,h);else{("number"==typeof h||"boolean"==typeof h||"function"==typeof h||h instanceof Date||h instanceof RegExp)&&(h=h.toString());var f=t.childNodes[t.childNodes.length-1];if("string"==typeof h)s=!0,f&&"#text"===f.nodeName?f.nodeValue+=h:(h=document.createTextNode(h),t.appendChild(h),f=h),a===u-1&&(s=!1,-1===Cc.indexOf(o)&&-1===Sc.indexOf(o)?""===(r=f.nodeValue.replace(_c,"").replace(wc,"").replace(bc,"").replace(Ec," "))?t.removeChild(f):f.nodeValue=r:-1===Sc.indexOf(o)&&(i=0===a?"":" ",r=f.nodeValue.replace(_c,i).replace(Ic," ").replace(wc,"").replace(bc,"").replace(Ec," "),f.nodeValue=r));else if(h&&h.nodeType){s&&(s=!1,-1===Cc.indexOf(o)&&-1===Sc.indexOf(o)?""===(r=f.nodeValue.replace(_c,"").replace(bc,"").replace(Ec," "))?t.removeChild(f):f.nodeValue=r:-1===Sc.indexOf(o)&&(r=f.nodeValue.replace(Ic," ").replace(_c,"").replace(bc,"").replace(Ec," "),f.nodeValue=r));var c=h.nodeName;c&&(o=c.toLowerCase()),t.appendChild(h)}}}},Bc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),xc=function(e){function t(e,n,r,i){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.loaded=!1,o.repo=i,o.stargazersCount=null,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,vc),Bc(t,[{key:"createElement",value:function(){var e=this.repo;return function(){var e=document.createElement("div");e.setAttribute("class",arguments[3]);var t=document.createElement("a");t.setAttribute("href","https://github.com/"+arguments[0]),t.setAttribute("aria-label","Star "+arguments[1]+" on GitHub"),t.setAttribute("class","btn");var n=document.createElement("span");return kc(n,["Star"]),kc(t,["\n          ",arguments[2],"\n          ",n,"\n        "]),kc(e,["\n        ",t,"\n      "]),e}(e,e,mc('\n      <svg version="1.1" width="14" height="16" viewBox="0 0 14 16" class="octicon octicon-star" aria-hidden="true">\n        <path fill-rule="evenodd" d="M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74L14 6z"></path>\n      </svg>\n    '),"_291654ef")}},{key:"load",value:function(e){var t=this,n="https://api.github.com/repos/"+this.repo;window.fetch(n).then(function(e){return e.json()}).then(function(n){var r=n.stargazers_count;t.stargazersCount=r;var i=t.stargazersLink();e.appendChild(i)})}},{key:"stargazersLink",value:function(){var e=this.repo,t=this.stargazersCount;return function(){var e=document.createElement("a");e.setAttribute("href","https://github.com/"+arguments[1]+"/stargazers"),e.setAttribute("aria-label",arguments[2]+" stargazers on GitHub"),e.setAttribute("class","social-count");var t=document.createElement("b"),n=document.createElement("i"),r=document.createElement("span");return kc(r,[arguments[0]]),kc(e,["\n        ",t,n,r,"\n      "]),e}(t,e,t)}},{key:"update",value:function(){return!1}}]),t}(),Mc=function(e){var t=e.glitchAppName,n=e.gitHubRepoName;return function(){var e=document.createElement("footer");e.setAttribute("class",arguments[2]);var t=document.createElement("a");t.setAttribute("href","https://glitch.com/edit/#!/"+arguments[0]);var n=document.createElement("img");n.setAttribute("src","https://cdn.glitch.com/2bdfb3f8-05ef-4035-a06e-2043962a3a13%2Fview-source%402x.png?1513093958802"),n.setAttribute("alt","view source button"),n.setAttribute("aria-label","view source"),n.setAttribute("height","33"),kc(t,["\n        ",n,"\n      "]);var r=document.createElement("a");r.setAttribute("href","https://glitch.com/edit/#!/remix/"+arguments[1]);var i=document.createElement("img");return i.setAttribute("src","https://cdn.glitch.com/2703baf2-b643-4da7-ab91-7ee2a2d00b5b%2Fremix-button.svg"),i.setAttribute("alt","Remix on Glitch"),kc(r,["\n        ",i,"\n      "]),kc(e,["\n      ",t,"\n      ",r,"\n      ",arguments[3],"\n    "]),e}(t,t,"_0846deea",e.cache(xc,"gitHubButton",n).render())},Dc={};function Qc(e){if(!(this instanceof Qc))return new Qc(e);"number"==typeof e&&(e={max:e}),e||(e={}),this.cache={},this.head=this.tail=null,this.length=0,this.max=e.max||1e3,this.maxAge=e.maxAge||0}Dc=Qc,Object.defineProperty(Qc.prototype,"keys",{get:function(){return Object.keys(this.cache)}}),Qc.prototype.clear=function(){this.cache={},this.head=this.tail=null,this.length=0},Qc.prototype.remove=function(e){if("string"!=typeof e&&(e=""+e),this.cache.hasOwnProperty(e)){var t=this.cache[e];return delete this.cache[e],this._unlink(e,t.prev,t.next),t.value}},Qc.prototype._unlink=function(e,t,n){this.length--,0===this.length?this.head=this.tail=null:this.head===e?(this.head=t,this.cache[this.head].next=null):this.tail===e?(this.tail=n,this.cache[this.tail].prev=null):(this.cache[t].next=n,this.cache[n].prev=t)},Qc.prototype.peek=function(e){if(this.cache.hasOwnProperty(e)){var t=this.cache[e];if(this._checkAge(e,t))return t.value}},Qc.prototype.set=function(e,t){var n;if("string"!=typeof e&&(e=""+e),this.cache.hasOwnProperty(e)){if((n=this.cache[e]).value=t,this.maxAge&&(n.modified=Date.now()),e===this.head)return t;this._unlink(e,n.prev,n.next)}else n={value:t,modified:0,next:null,prev:null},this.maxAge&&(n.modified=Date.now()),this.cache[e]=n,this.length===this.max&&this.evict();return this.length++,n.next=null,n.prev=this.head,this.head&&(this.cache[this.head].next=e),this.head=e,this.tail||(this.tail=e),t},Qc.prototype._checkAge=function(e,t){return!(this.maxAge&&Date.now()-t.modified>this.maxAge&&(this.remove(e),1))},Qc.prototype.get=function(e){if("string"!=typeof e&&(e=""+e),this.cache.hasOwnProperty(e)){var t=this.cache[e];if(this._checkAge(e,t))return this.head!==e&&(e===this.tail?(this.tail=t.next,this.cache[this.tail].prev=null):this.cache[t.prev].next=t.next,this.cache[t.next].prev=t.prev,this.cache[this.head].next=e,t.prev=this.head,t.next=null,this.head=e),t.value}},Qc.prototype.evict=function(){this.tail&&this.remove(this.tail)};var Oc={};function Tc(e,t,n){this.cache="number"==typeof n?new Dc(n):n||new Dc(100),this.state=e,this.emit=t}function Lc(e){return new(e.bind.apply(e,arguments))}"function"==typeof Symbol&&Symbol.iterator,Oc=Tc,Tc.prototype.render=function(e,t){var n=this.cache.get(t);if(!n){for(var r=[],i=2,o=arguments.length;i<o;i++)r.push(arguments[i]);r.unshift(e,t,this.state,this.emit),n=Lc.apply(Lc,r),this.cache.set(t,n)}return n};var Uc=function(e){if("undefined"==typeof document)throw new Error("document-ready only runs in the browser");var t=document.readyState;if("complete"===t||"interactive"===t)return setTimeout(e,0);document.addEventListener("DOMContentLoaded",function(){e()})},Fc=function(e,t,n){var r,i=e.length;if(!(t>=i||0===n)){var o=i-(n=t+n>i?i-t:n);for(r=t;r<o;++r)e[r]=e[r+n];e.length=o}},Nc={};function Yc(e){if(!(this instanceof Yc))return new Yc(e);this._name=e||"nanobus",this._starListeners=[],this._listeners={}}"function"==typeof Symbol&&Symbol.iterator,Nc=Yc,Yc.prototype.emit=function(e){for(var t=[],n=1,r=arguments.length;n<r;n++)t.push(arguments[n]);var i=nc(this._name+"('"+e+"')"),o=this._listeners[e];return o&&o.length>0&&this._emit(this._listeners[e],t),this._starListeners.length>0&&this._emit(this._starListeners,e,t,i.uuid),i(),this},Yc.prototype.on=Yc.prototype.addListener=function(e,t){return"*"===e?this._starListeners.push(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)),this},Yc.prototype.prependListener=function(e,t){return"*"===e?this._starListeners.unshift(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].unshift(t)),this},Yc.prototype.once=function(e,t){var n=this;return this.on(e,function r(){t.apply(n,arguments),n.removeListener(e,r)}),this},Yc.prototype.prependOnceListener=function(e,t){var n=this;return this.prependListener(e,function r(){t.apply(n,arguments),n.removeListener(e,r)}),this},Yc.prototype.removeListener=function(e,t){return"*"===e?(this._starListeners=this._starListeners.slice(),n(this._starListeners,t)):(void 0!==this._listeners[e]&&(this._listeners[e]=this._listeners[e].slice()),n(this._listeners[e],t));function n(e,t){if(e){var n=e.indexOf(t);return-1!==n?(Fc(e,n,1),!0):void 0}}},Yc.prototype.removeAllListeners=function(e){return e?"*"===e?this._starListeners=[]:this._listeners[e]=[]:(this._starListeners=[],this._listeners={}),this},Yc.prototype.listeners=function(e){var t="*"!==e?this._listeners[e]:this._starListeners,n=[];if(t)for(var r=t.length,i=0;i<r;i++)n.push(t[i]);return n},Yc.prototype._emit=function(e,t,n,r){if(void 0!==e&&0!==e.length){void 0===n&&(n=t,t=null),t&&(n=void 0!==r?[t].concat(n,r):[t].concat(n));for(var i=e.length,o=0;o<i;o++){var s=e[o];s.apply(s,n)}}},"function"==typeof Symbol&&Symbol.iterator;var Rc=/(noopener|noreferrer) (noopener|noreferrer)/,Kc=/^[\w-_]+:/;"function"==typeof Symbol&&Symbol.iterator;var Pc=/([^?=&]+)(=([^&]*))?/g;"function"==typeof Symbol&&Symbol.iterator;var jc=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Hc.call(n,r)&&(e[r]=n[r])}return e},Hc=Object.prototype.hasOwnProperty,Wc={};function Gc(){if(!(this instanceof Gc))return new Gc;this.trie={nodes:{}}}"function"==typeof Symbol&&Symbol.iterator,Wc=Gc,Gc.prototype.create=function(e){var t=e.replace(/^\//,"").split("/");return function e(n,r){var i=t.hasOwnProperty(n)&&t[n];if(!1===i)return r;var o=null;return/^:|^\*/.test(i)?(r.nodes.hasOwnProperty("$$")?o=r.nodes.$$:(o={nodes:{}},r.nodes.$$=o),"*"===i[0]&&(r.wildcard=!0),r.name=i.replace(/^:|^\*/,"")):r.nodes.hasOwnProperty(i)?o=r.nodes[i]:(o={nodes:{}},r.nodes[i]=o),e(n+1,o)}(0,this.trie)},Gc.prototype.match=function(e){var t=e.replace(/^\//,"").split("/"),n={},r=function e(r,i){if(void 0!==i){var o=t[r];if(void 0===o)return i;if(i.nodes.hasOwnProperty(o))return e(r+1,i.nodes[o]);if(i.name){try{n[i.name]=decodeURIComponent(o)}catch(jl){return e(r,void 0)}return e(r+1,i.nodes.$$)}if(i.wildcard){try{n.wildcard=decodeURIComponent(t.slice(r).join("/"))}catch(jl){return e(r,void 0)}return i.nodes.$$}return e(r+1)}}(0,this.trie);if(r)return(r=Ut(r)).params=n,r},Gc.prototype.mount=function(e,t){var n=e.replace(/^\//,"").split("/"),r=null,i=null;if(1===n.length)i=n[0],r=this.create(i);else{var o=n.join("/");i=n[0],r=this.create(o)}jc(r.nodes,t.nodes),t.name&&(r.name=t.name),r.nodes[""]&&(Object.keys(r.nodes[""]).forEach(function(e){"nodes"!==e&&(r[e]=r.nodes[""][e])}),jc(r.nodes,r.nodes[""].nodes),delete r.nodes[""].nodes)},"function"==typeof Symbol&&Symbol.iterator;var Vc=function e(t){if(!(this instanceof e))return new e(t);var n=(t||"").replace(/^\//,""),r=Wc();return i._trie=r,i.on=function(e,t){var n=t._wayfarer&&t._trie?t:function(){return t.apply(this,Array.prototype.slice.call(arguments))};(e=e||"/",n.route=e,n._wayfarer&&n._trie)?r.mount(e,n._trie.trie):r.create(e).cb=n;return i},i.emit=i,i.match=o,i._wayfarer=!0,i;function i(e){var t=o(e),n=new Array(arguments.length);n[0]=t.params;for(var r=1;r<n.length;r++)n[r]=arguments[r];return t.cb.apply(t.cb,n)}function o(e){var t=r.match(e);if(t&&t.cb)return new s(t);var i=r.match(n);if(i&&i.cb)return new s(i);throw new Error("route '"+e+"' did not match")}function s(e){this.cb=e.cb,this.route=e.cb.route,this.params=e.params}},zc={},qc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc=/file:\/\//.test("object"===("undefined"==typeof window?"undefined":qc(window))&&window.location&&window.location.origin),Xc=new RegExp("^(file://|/)(.*.html?/?)?"),Zc=new RegExp("^(http(s)?(://))?(www.)?[a-zA-Z0-9-_.]+(:[0-9]{1,5})?(/{1})?"),$c=new RegExp("#"),el=new RegExp("[?].*$");function tl(e){if(!(this instanceof tl))return new tl(e);e=e||{},this.router=Vc(e.default||"/404")}function nl(e,t){return e=t?e.replace(Xc,""):e.replace(Zc,""),decodeURI(e.replace(el,"").replace($c,"/"))}zc=tl,tl.prototype.on=function(e,t){e=e.replace(/^[#\/]/,""),this.router.on(e,t)},tl.prototype.emit=function(e){return e=nl(e,Jc),this.router.emit(e)},tl.prototype.match=function(e){return e=nl(e,Jc),this.router.match(e)};var rl=function(e,t){if(e)try{var n=document.querySelector(e);n&&n.scrollIntoView(t)}catch(jl){}},il="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ol=al,sl={};function al(e){if(!(this instanceof al))return new al(e);e=e||{};var t=this;this._events={DOMCONTENTLOADED:"DOMContentLoaded",DOMTITLECHANGE:"DOMTitleChange",REPLACESTATE:"replaceState",PUSHSTATE:"pushState",NAVIGATE:"navigate",POPSTATE:"popState",RENDER:"render"},this._historyEnabled=void 0===e.history||e.history,this._hrefEnabled=void 0===e.href||e.href,this._hashEnabled=void 0===e.hash||e.hash,this._hasWindow="undefined"!=typeof window,this._cache=e.cache,this._loaded=!1,this._stores=[],this._tree=null;var n={events:this._events,components:{}};this._hasWindow?(this.state=window.initialState?Ut(window.initialState,n):n,delete window.initialState):this.state=n,this.router=zc({curry:!0}),this.emitter=Nc("choo.emit"),this.emit=this.emitter.emit.bind(this.emitter),this._hasWindow&&(this.state.title=document.title),this.emitter.prependListener(this._events.DOMTITLECHANGE,function(e){t.state.title=e,t._hasWindow&&(document.title=e)})}al.prototype.route=function(e,t){this.router.on(e,t)},al.prototype.use=function(e){var t=this;this._stores.push(function(n){var r="choo.use";r=e.storeName?r+"("+e.storeName+")":r;var i=nc(r);e(n,t.emitter,t),i()})},al.prototype.start=function(){var e,t,n=this;return this._historyEnabled&&(this.emitter.prependListener(this._events.NAVIGATE,function(){n._matchRoute(),n._loaded&&(n.emitter.emit(n._events.RENDER),setTimeout(rl.bind(null,window.location.hash),0))}),this.emitter.prependListener(this._events.POPSTATE,function(){n.emitter.emit(n._events.NAVIGATE)}),this.emitter.prependListener(this._events.PUSHSTATE,function(e){window.history.pushState(sl,null,e),n.emitter.emit(n._events.NAVIGATE)}),this.emitter.prependListener(this._events.REPLACESTATE,function(e){window.history.replaceState(sl,null,e),n.emitter.emit(n._events.NAVIGATE)}),window.onpopstate=function(){n.emitter.emit(n._events.POPSTATE)},n._hrefEnabled&&(e=function(e){var t=e.href,r=e.hash;t!==window.location.href?n.emitter.emit(n._events.PUSHSTATE,t):!n._hashEnabled&&r&&rl(r)},t=t||window.document,window.addEventListener("click",function(n){if(!(n.button&&0!==n.button||n.ctrlKey||n.metaKey||n.altKey||n.shiftKey||n.defaultPrevented)){var r=function e(n){if(n&&n!==t)return"a"!==n.localName||void 0===n.href?e(n.parentNode):n}(n.target);r&&(window.location.protocol!==r.protocol||window.location.hostname!==r.hostname||window.location.port!==r.port||r.hasAttribute("data-nanohref-ignore")||r.hasAttribute("download")||"_blank"===r.getAttribute("target")&&Rc.test(r.getAttribute("rel"))||Kc.test(r.getAttribute("href"))||(n.preventDefault(),e(r)))}}))),this._setCache(this.state),this._stores.forEach(function(e){e(n.state)}),this._matchRoute(),this._tree=this._prerender(this.state),this.emitter.prependListener(n._events.RENDER,function(e,t){t||(t=window.requestAnimationFrame);var n=!1,r=null;return function(){null!==r||n||(n=!0,t(function(){n=!1;for(var t=r.length,i=new Array(t),o=0;o<t;o++)i[o]=r[o];e.apply(e,i),r=null})),r=arguments}}(function(){var e=nc("choo.render"),t=n._prerender(n.state),r=nc("choo.morph");qf(n._tree,t),r(),e()})),Uc(function(){n.emitter.emit(n._events.DOMCONTENTLOADED),n._loaded=!0}),this._tree},al.prototype.mount=function(e){if("object"!==("undefined"==typeof window?"undefined":il(window)))return this.selector=e,this;var t=this;Uc(function(){var n=nc("choo.render"),r=t.start();t._tree="string"==typeof e?document.querySelector(e):e;var i=nc("choo.morph");qf(t._tree,r),i(),n()})},al.prototype.toString=function(e,t){this.state=Ut(this.state,t||{});var n=this;this._setCache(this.state),this._stores.forEach(function(e){e(n.state)}),this._matchRoute(e);var r=this._prerender(this.state);return"string"==typeof r.outerHTML?r.outerHTML:r.toString()},al.prototype._matchRoute=function(e){var t,n;e?(t=e.replace(/\?.+$/,"").replace(/\/$/,""),this._hashEnabled||(t=t.replace(/#.+$/,"")),n=e):(t=window.location.pathname.replace(/\/$/,""),this._hashEnabled&&(t+=window.location.hash.replace(/^#/,"/")),n=window.location.search);var r,i=this.router.match(t);return this._handler=i.cb,this.state.href=t,this.state.query=(r={},n.replace(/^.*\?/,"").replace(Pc,function(e,t,n,i){r[decodeURIComponent(t)]=decodeURIComponent(i)}),r),this.state.route=i.route,this.state.params=i.params,this.state},al.prototype._prerender=function(e){var t=nc("choo.prerender('"+e.route+"')"),n=this._handler(e,this.emit);return t(),n},al.prototype._setCache=function(e){var t=new Oc(e,this.emitter.emit.bind(this.emitter),this._cache);function n(e,n){for(var r=[],i=0,o=arguments.length;i<o;i++)r.push(arguments[i]);return t.render.apply(t,r)}e.cache=n,n.toJSON=function(){return null}};var ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl=function(e){var t=void 0===e?"undefined":ul(e);return null!=e&&("object"==t||"function"==t)},fl={};(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n="object"==(void 0===e?"undefined":t(e))&&e&&e.Object===Object&&e;fl=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var cl,ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dl="object"==("undefined"==typeof self?"undefined":ll(self))&&self&&self.Object===Object&&self,pl=fl||dl||Function("return this")(),gl=function(){return pl.Date.now()},yl=pl.Symbol,Al=Object.prototype,vl=Al.hasOwnProperty,ml=Al.toString,bl=yl?yl.toStringTag:void 0,_l=Object.prototype.toString,wl=yl?yl.toStringTag:void 0,Il=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":wl&&wl in Object(e)?function(e){var t=vl.call(e,bl),n=e[bl];try{e[bl]=void 0;var r=!0}catch(jl){}var i=ml.call(e);return r&&(t?e[bl]=n:delete e[bl]),i}(e):function(e){return _l.call(e)}(e)},El="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl=function(e){return"symbol"==(void 0===e?"undefined":Cl(e))||function(e){return null!=e&&"object"==(void 0===e?"undefined":El(e))}(e)&&"[object Symbol]"==Il(e)},kl=/^\s+|\s+$/g,Bl=/^[-+]0x[0-9a-f]+$/i,xl=/^0b[01]+$/i,Ml=/^0o[0-7]+$/i,Dl=parseInt,Ql=function(e){if("number"==typeof e)return e;if(Sl(e))return NaN;if(hl(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=hl(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(kl,"");var n=xl.test(e);return n||Ml.test(e)?Dl(e.slice(2),n?2:8):Bl.test(e)?NaN:+e},Ol=Math.max,Tl=Math.min,Ll=function(e,t,n){var r,i,o,s,a,u,h=0,f=!1,c=!1,l=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function d(t){var n=r,o=i;return r=i=void 0,h=t,s=e.apply(o,n)}function p(e){var n=e-u;return void 0===u||n>=t||n<0||c&&e-h>=o}function g(){var e=gl();if(p(e))return y(e);a=setTimeout(g,function(e){var n=t-(e-u);return c?Tl(n,o-(e-h)):n}(e))}function y(e){return a=void 0,l&&r?d(e):(r=i=void 0,s)}function A(){var e=gl(),n=p(e);if(r=arguments,i=this,u=e,n){if(void 0===a)return function(e){return h=e,a=setTimeout(g,t),f?d(e):s}(u);if(c)return a=setTimeout(g,t),d(u)}return void 0===a&&(a=setTimeout(g,t)),s}return t=Ql(t)||0,hl(n)&&(f=!!n.leading,o=(c="maxWait"in n)?Ol(Ql(n.maxWait)||0,t):o,l="trailing"in n?!!n.trailing:l),A.cancel=function(){void 0!==a&&clearTimeout(a),h=0,r=u=i=a=void 0},A.flush=function(){return void 0===a?s:y(gl())},A},Ul={exports:{}},Fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};cl=function(){"use strict";var e,t;function n(){return e.apply(null,arguments)}function r(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e){return void 0===e}function s(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function a(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e,t){for(var n in t)h(t,n)&&(e[n]=t[n]);return h(t,"toString")&&(e.toString=t.toString),h(t,"valueOf")&&(e.valueOf=t.valueOf),e}function c(e,t,n,r){return kt(e,t,n,r,!0).utc()}function l(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function d(e){if(null==e._isValid){var n=l(e),r=t.call(n.parsedDateParts,function(e){return null!=e}),i=!isNaN(e._d.getTime())&&n.overflow<0&&!n.empty&&!n.invalidMonth&&!n.invalidWeekday&&!n.weekdayMismatch&&!n.nullInput&&!n.invalidFormat&&!n.userInvalidated&&(!n.meridiem||n.meridiem&&r);if(e._strict&&(i=i&&0===n.charsLeftOver&&0===n.unusedTokens.length&&void 0===n.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function p(e){var t=c(NaN);return null!=e?f(l(t),e):l(t).userInvalidated=!0,t}t=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var g=n.momentProperties=[];function y(e,t){var n,r,i;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=l(t)),o(t._locale)||(e._locale=t._locale),g.length>0)for(n=0;n<g.length;n++)o(i=t[r=g[n]])||(e[r]=i);return e}var A=!1;function v(e){y(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===A&&(A=!0,n.updateOffset(this),A=!1)}function m(e){return e instanceof v||null!=e&&null!=e._isAMomentObject}function b(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function _(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=b(t)),n}function w(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&_(e[r])!==_(t[r]))&&s++;return s+o}function I(e){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function E(e,t){var r=!0;return f(function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,e),r){for(var i,o=[],s=0;s<arguments.length;s++){if(i="","object"===Fl(arguments[s])){for(var a in i+="\n["+s+"] ",arguments[0])i+=a+": "+arguments[0][a]+", ";i=i.slice(0,-2)}else i=arguments[s];o.push(i)}I(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),r=!1}return t.apply(this,arguments)},t)}var C,S={};function k(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),S[e]||(I(t),S[e]=!0)}function B(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function x(e,t){var n,r=f({},e);for(n in t)h(t,n)&&(i(e[n])&&i(t[n])?(r[n]={},f(r[n],e[n]),f(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)h(e,n)&&!h(t,n)&&i(e[n])&&(r[n]=f({},r[n]));return r}function M(e){null!=e&&this.set(e)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,C=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)h(e,t)&&n.push(t);return n};var D={};function Q(e,t){var n=e.toLowerCase();D[n]=D[n+"s"]=D[t]=e}function O(e){return"string"==typeof e?D[e]||D[e.toLowerCase()]:void 0}function T(e){var t,n,r={};for(n in e)h(e,n)&&(t=O(n))&&(r[t]=e[n]);return r}var L={};function U(e,t){L[e]=t}function F(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var N=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Y=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,R={},K={};function P(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(K[e]=i),t&&(K[t[0]]=function(){return F(i.apply(this,arguments),t[1],t[2])}),n&&(K[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function j(e,t){return e.isValid()?(t=H(t,e.localeData()),R[t]=R[t]||function(e){var t,n,r,i=e.match(N);for(t=0,n=i.length;t<n;t++)K[i[t]]?i[t]=K[i[t]]:i[t]=(r=i[t]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(t){var r,o="";for(r=0;r<n;r++)o+=B(i[r])?i[r].call(t,e):i[r];return o}}(t),R[t](e)):e.localeData().invalidDate()}function H(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(Y.lastIndex=0;n>=0&&Y.test(e);)e=e.replace(Y,r),Y.lastIndex=0,n-=1;return e}var W=/\d/,G=/\d\d/,V=/\d{3}/,z=/\d{4}/,q=/[+-]?\d{6}/,J=/\d\d?/,X=/\d\d\d\d?/,Z=/\d\d\d\d\d\d?/,$=/\d{1,3}/,ee=/\d{1,4}/,te=/[+-]?\d{1,6}/,ne=/\d+/,re=/[+-]?\d+/,ie=/Z|[+-]\d\d:?\d\d/gi,oe=/Z|[+-]\d\d(?::?\d\d)?/gi,se=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ae={};function ue(e,t,n){ae[e]=B(t)?t:function(e,r){return e&&n?n:t}}function he(e,t){return h(ae,e)?ae[e](t._strict,t._locale):new RegExp(fe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i})))}function fe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ce={};function le(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),s(t)&&(r=function(e,n){n[t]=_(e)}),n=0;n<e.length;n++)ce[e[n]]=r}function de(e,t){le(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function pe(e,t,n){null!=t&&h(ce,e)&&ce[e](t,n._a,n,e)}var ge=0,ye=1,Ae=2,ve=3,me=4,be=5,_e=6,we=7,Ie=8;function Ee(e){return Ce(e)?366:365}function Ce(e){return e%4==0&&e%100!=0||e%400==0}P("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),P(0,["YY",2],0,function(){return this.year()%100}),P(0,["YYYY",4],0,"year"),P(0,["YYYYY",5],0,"year"),P(0,["YYYYYY",6,!0],0,"year"),Q("year","y"),U("year",1),ue("Y",re),ue("YY",J,G),ue("YYYY",ee,z),ue("YYYYY",te,q),ue("YYYYYY",te,q),le(["YYYYY","YYYYYY"],ge),le("YYYY",function(e,t){t[ge]=2===e.length?n.parseTwoDigitYear(e):_(e)}),le("YY",function(e,t){t[ge]=n.parseTwoDigitYear(e)}),le("Y",function(e,t){t[ge]=parseInt(e,10)}),n.parseTwoDigitYear=function(e){return _(e)+(_(e)>68?1900:2e3)};var Se,ke=Be("FullYear",!0);function Be(e,t){return function(r){return null!=r?(Me(this,e,r),n.updateOffset(this,t),this):xe(this,e)}}function xe(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Me(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&Ce(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),De(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function De(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=(t%12+12)%12;return e+=(t-n)/12,1===n?Ce(e)?29:28:31-n%7%2}Se=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},P("M",["MM",2],"Mo",function(){return this.month()+1}),P("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),P("MMMM",0,0,function(e){return this.localeData().months(this,e)}),Q("month","M"),U("month",8),ue("M",J),ue("MM",J,G),ue("MMM",function(e,t){return t.monthsShortRegex(e)}),ue("MMMM",function(e,t){return t.monthsRegex(e)}),le(["M","MM"],function(e,t){t[ye]=_(e)-1}),le(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[ye]=i:l(n).invalidMonth=e});var Qe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Oe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Te="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Le(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=_(t);else if(!s(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),De(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Ue(e){return null!=e?(Le(this,e),n.updateOffset(this,!0),this):xe(this,"Month")}var Fe=se,Ne=se;function Ye(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=c([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=fe(r[t]),i[t]=fe(i[t]);for(t=0;t<24;t++)o[t]=fe(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Re(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function Ke(e,t,n){var r=7+t-n;return-(7+Re(e,0,r).getUTCDay()-t)%7+r-1}function Pe(e,t,n,r,i){var o,s,a=1+7*(t-1)+(7+n-r)%7+Ke(e,r,i);return a<=0?s=Ee(o=e-1)+a:a>Ee(e)?(o=e+1,s=a-Ee(e)):(o=e,s=a),{year:o,dayOfYear:s}}function je(e,t,n){var r,i,o=Ke(e.year(),t,n),s=Math.floor((e.dayOfYear()-o-1)/7)+1;return s<1?r=s+He(i=e.year()-1,t,n):s>He(e.year(),t,n)?(r=s-He(e.year(),t,n),i=e.year()+1):(i=e.year(),r=s),{week:r,year:i}}function He(e,t,n){var r=Ke(e,t,n),i=Ke(e+1,t,n);return(Ee(e)-r+i)/7}P("w",["ww",2],"wo","week"),P("W",["WW",2],"Wo","isoWeek"),Q("week","w"),Q("isoWeek","W"),U("week",5),U("isoWeek",5),ue("w",J),ue("ww",J,G),ue("W",J),ue("WW",J,G),de(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=_(e)}),P("d",0,"do","day"),P("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),P("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),P("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),P("e",0,0,"weekday"),P("E",0,0,"isoWeekday"),Q("day","d"),Q("weekday","e"),Q("isoWeekday","E"),U("day",11),U("weekday",11),U("isoWeekday",11),ue("d",J),ue("e",J),ue("E",J),ue("dd",function(e,t){return t.weekdaysMinRegex(e)}),ue("ddd",function(e,t){return t.weekdaysShortRegex(e)}),ue("dddd",function(e,t){return t.weekdaysRegex(e)}),de(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:l(n).invalidWeekday=e}),de(["d","e","E"],function(e,t,n,r){t[r]=_(e)});var We="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ge="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ve="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ze=se,qe=se,Je=se;function Xe(){function e(e,t){return t.length-e.length}var t,n,r,i,o,s=[],a=[],u=[],h=[];for(t=0;t<7;t++)n=c([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),s.push(r),a.push(i),u.push(o),h.push(r),h.push(i),h.push(o);for(s.sort(e),a.sort(e),u.sort(e),h.sort(e),t=0;t<7;t++)a[t]=fe(a[t]),u[t]=fe(u[t]),h[t]=fe(h[t]);this._weekdaysRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Ze(){return this.hours()%12||12}function $e(e,t){P(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function et(e,t){return t._meridiemParse}P("H",["HH",2],0,"hour"),P("h",["hh",2],0,Ze),P("k",["kk",2],0,function(){return this.hours()||24}),P("hmm",0,0,function(){return""+Ze.apply(this)+F(this.minutes(),2)}),P("hmmss",0,0,function(){return""+Ze.apply(this)+F(this.minutes(),2)+F(this.seconds(),2)}),P("Hmm",0,0,function(){return""+this.hours()+F(this.minutes(),2)}),P("Hmmss",0,0,function(){return""+this.hours()+F(this.minutes(),2)+F(this.seconds(),2)}),$e("a",!0),$e("A",!1),Q("hour","h"),U("hour",13),ue("a",et),ue("A",et),ue("H",J),ue("h",J),ue("k",J),ue("HH",J,G),ue("hh",J,G),ue("kk",J,G),ue("hmm",X),ue("hmmss",Z),ue("Hmm",X),ue("Hmmss",Z),le(["H","HH"],ve),le(["k","kk"],function(e,t,n){var r=_(e);t[ve]=24===r?0:r}),le(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),le(["h","hh"],function(e,t,n){t[ve]=_(e),l(n).bigHour=!0}),le("hmm",function(e,t,n){var r=e.length-2;t[ve]=_(e.substr(0,r)),t[me]=_(e.substr(r)),l(n).bigHour=!0}),le("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[ve]=_(e.substr(0,r)),t[me]=_(e.substr(r,2)),t[be]=_(e.substr(i)),l(n).bigHour=!0}),le("Hmm",function(e,t,n){var r=e.length-2;t[ve]=_(e.substr(0,r)),t[me]=_(e.substr(r))}),le("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[ve]=_(e.substr(0,r)),t[me]=_(e.substr(r,2)),t[be]=_(e.substr(i))});var tt,nt=Be("Hours",!0),rt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Oe,monthsShort:Te,week:{dow:0,doy:6},weekdays:We,weekdaysMin:Ve,weekdaysShort:Ge,meridiemParse:/[ap]\.?m?\.?/i},it={},ot={};function st(e){return e?e.toLowerCase().replace("_","-"):e}function at(e){var t=null;if(!it[e]&&Ul&&Ul.exports)try{t=tt._abbr,require("./locale/"+e),ut(t)}catch(jl){}return it[e]}function ut(e,t){var n;return e&&((n=o(t)?ft(e):ht(e,t))?tt=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),tt._abbr}function ht(e,t){if(null!==t){var n,r=rt;if(t.abbr=e,null!=it[e])k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=it[e]._config;else if(null!=t.parentLocale)if(null!=it[t.parentLocale])r=it[t.parentLocale]._config;else{if(null==(n=at(t.parentLocale)))return ot[t.parentLocale]||(ot[t.parentLocale]=[]),ot[t.parentLocale].push({name:e,config:t}),null;r=n._config}return it[e]=new M(x(r,t)),ot[e]&&ot[e].forEach(function(e){ht(e.name,e.config)}),ut(e),it[e]}return delete it[e],null}function ft(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return tt;if(!r(e)){if(t=at(e))return t;e=[e]}return function(e){for(var t,n,r,i,o=0;o<e.length;){for(t=(i=st(e[o]).split("-")).length,n=(n=st(e[o+1]))?n.split("-"):null;t>0;){if(r=at(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&w(i,n,!0)>=t-1)break;t--}o++}return tt}(e)}function ct(e){var t,n=e._a;return n&&-2===l(e).overflow&&(t=n[ye]<0||n[ye]>11?ye:n[Ae]<1||n[Ae]>De(n[ge],n[ye])?Ae:n[ve]<0||n[ve]>24||24===n[ve]&&(0!==n[me]||0!==n[be]||0!==n[_e])?ve:n[me]<0||n[me]>59?me:n[be]<0||n[be]>59?be:n[_e]<0||n[_e]>999?_e:-1,l(e)._overflowDayOfYear&&(t<ge||t>Ae)&&(t=Ae),l(e)._overflowWeeks&&-1===t&&(t=we),l(e)._overflowWeekday&&-1===t&&(t=Ie),l(e).overflow=t),e}function lt(e,t,n){return null!=e?e:null!=t?t:n}function dt(e){var t,r,i,o,s,a=[];if(!e._d){for(i=function(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[Ae]&&null==e._a[ye]&&function(e){var t,n,r,i,o,s,a,u;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)o=1,s=4,n=lt(t.GG,e._a[ge],je(Bt(),1,4).year),r=lt(t.W,1),((i=lt(t.E,1))<1||i>7)&&(u=!0);else{o=e._locale._week.dow,s=e._locale._week.doy;var h=je(Bt(),o,s);n=lt(t.gg,e._a[ge],h.year),r=lt(t.w,h.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(u=!0)):i=o}r<1||r>He(n,o,s)?l(e)._overflowWeeks=!0:null!=u?l(e)._overflowWeekday=!0:(a=Pe(n,r,i,o,s),e._a[ge]=a.year,e._dayOfYear=a.dayOfYear)}(e),null!=e._dayOfYear&&(s=lt(e._a[ge],i[ge]),(e._dayOfYear>Ee(s)||0===e._dayOfYear)&&(l(e)._overflowDayOfYear=!0),r=Re(s,0,e._dayOfYear),e._a[ye]=r.getUTCMonth(),e._a[Ae]=r.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=i[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ve]&&0===e._a[me]&&0===e._a[be]&&0===e._a[_e]&&(e._nextDay=!0,e._a[ve]=0),e._d=(e._useUTC?Re:function(e,t,n,r,i,o,s){var a=new Date(e,t,n,r,i,o,s);return e<100&&e>=0&&isFinite(a.getFullYear())&&a.setFullYear(e),a}).apply(null,a),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ve]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(l(e).weekdayMismatch=!0)}}var pt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yt=/Z|[+-]\d\d(?::?\d\d)?/,At=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],vt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],mt=/^\/?Date\((\-?\d+)/i;function bt(e){var t,n,r,i,o,s,a=e._i,u=pt.exec(a)||gt.exec(a);if(u){for(l(e).iso=!0,t=0,n=At.length;t<n;t++)if(At[t][1].exec(u[1])){i=At[t][0],r=!1!==At[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=vt.length;t<n;t++)if(vt[t][1].exec(u[3])){o=(u[2]||" ")+vt[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(u[4]){if(!yt.exec(u[4]))return void(e._isValid=!1);s="Z"}e._f=i+(o||"")+(s||""),Ct(e)}else e._isValid=!1}var _t=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function wt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}var It={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Et(e){var t,n,r,i,o,s,a,u=_t.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(u){var h=(t=u[4],n=u[3],r=u[2],i=u[5],o=u[6],s=u[7],a=[wt(t),Te.indexOf(n),parseInt(r,10),parseInt(i,10),parseInt(o,10)],s&&a.push(parseInt(s,10)),a);if(!function(e,t,n){return!e||Ge.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(l(n).weekdayMismatch=!0,n._isValid=!1,!1)}(u[1],h,e))return;e._a=h,e._tzm=function(e,t,n){if(e)return It[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}(u[8],u[9],u[10]),e._d=Re.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),l(e).rfc2822=!0}else e._isValid=!1}function Ct(e){if(e._f!==n.ISO_8601)if(e._f!==n.RFC_2822){e._a=[],l(e).empty=!0;var t,r,i,o,s,a=""+e._i,u=a.length,h=0;for(i=H(e._f,e._locale).match(N)||[],t=0;t<i.length;t++)o=i[t],(r=(a.match(he(o,e))||[])[0])&&((s=a.substr(0,a.indexOf(r))).length>0&&l(e).unusedInput.push(s),a=a.slice(a.indexOf(r)+r.length),h+=r.length),K[o]?(r?l(e).empty=!1:l(e).unusedTokens.push(o),pe(o,r,e)):e._strict&&!r&&l(e).unusedTokens.push(o);l(e).charsLeftOver=u-h,a.length>0&&l(e).unusedInput.push(a),e._a[ve]<=12&&!0===l(e).bigHour&&e._a[ve]>0&&(l(e).bigHour=void 0),l(e).parsedDateParts=e._a.slice(0),l(e).meridiem=e._meridiem,e._a[ve]=(f=e._locale,c=e._a[ve],null==(d=e._meridiem)?c:null!=f.meridiemHour?f.meridiemHour(c,d):null!=f.isPM?((p=f.isPM(d))&&c<12&&(c+=12),p||12!==c||(c=0),c):c),dt(e),ct(e)}else Et(e);else bt(e);var f,c,d,p}function St(e){var t=e._i,h=e._f;return e._locale=e._locale||ft(e._l),null===t||void 0===h&&""===t?p({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),m(t)?new v(ct(t)):(a(t)?e._d=t:r(h)?function(e){var t,n,r,i,o;if(0===e._f.length)return l(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Ct(t),d(t)&&(o+=l(t).charsLeftOver,o+=10*l(t).unusedTokens.length,l(t).score=o,(null==r||o<r)&&(r=o,n=t));f(e,n||t)}(e):h?Ct(e):function(e){var t=e._i;o(t)?e._d=new Date(n.now()):a(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=mt.exec(e._i);null===t?(bt(e),!1===e._isValid&&(delete e._isValid,Et(e),!1===e._isValid&&(delete e._isValid,n.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):r(t)?(e._a=u(t.slice(0),function(e){return parseInt(e,10)}),dt(e)):i(t)?function(e){if(!e._d){var t=T(e._i);e._a=u([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),dt(e)}}(e):s(t)?e._d=new Date(t):n.createFromInputFallback(e)}(e),d(e)||(e._d=null),e))}function kt(e,t,n,o,s){var a,u={};return!0!==n&&!1!==n||(o=n,n=void 0),(i(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||r(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=s,u._l=n,u._i=e,u._f=t,u._strict=o,(a=new v(ct(St(u))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function Bt(e,t,n,r){return kt(e,t,n,r,!1)}n.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),n.ISO_8601=function(){},n.RFC_2822=function(){};var xt=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Bt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:p()}),Mt=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Bt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:p()});function Dt(e,t){var n,i;if(1===t.length&&r(t[0])&&(t=t[0]),!t.length)return Bt();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}var Qt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ot(e){var t=T(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,s=t.day||0,a=t.hour||0,u=t.minute||0,h=t.second||0,f=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Se.call(Qt,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<Qt.length;++r)if(e[Qt[r]]){if(n)return!1;parseFloat(e[Qt[r]])!==_(e[Qt[r]])&&(n=!0)}return!0}(t),this._milliseconds=+f+1e3*h+6e4*u+1e3*a*60*60,this._days=+s+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=ft(),this._bubble()}function Tt(e){return e instanceof Ot}function Lt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ut(e,t){P(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+F(~~(e/60),2)+t+F(~~e%60,2)})}Ut("Z",":"),Ut("ZZ",""),ue("Z",oe),ue("ZZ",oe),le(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Nt(oe,e)});var Ft=/([\+\-]|\d\d)/gi;function Nt(e,t){var n=(t||"").match(e);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(Ft)||["-",0,0],i=60*r[1]+_(r[2]);return 0===i?0:"+"===r[0]?i:-i}function Yt(e,t){var r,i;return t._isUTC?(r=t.clone(),i=(m(e)||a(e)?e.valueOf():Bt(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),n.updateOffset(r,!1),r):Bt(e).local()}function Rt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Kt(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var Pt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,jt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ht(e,t){var n,r,i,o,a,u,f=e,c=null;return Tt(e)?f={ms:e._milliseconds,d:e._days,M:e._months}:s(e)?(f={},t?f[t]=e:f.milliseconds=e):(c=Pt.exec(e))?(n="-"===c[1]?-1:1,f={y:0,d:_(c[Ae])*n,h:_(c[ve])*n,m:_(c[me])*n,s:_(c[be])*n,ms:_(Lt(1e3*c[_e]))*n}):(c=jt.exec(e))?(n="-"===c[1]?-1:(c[1],1),f={y:Wt(c[2],n),M:Wt(c[3],n),w:Wt(c[4],n),d:Wt(c[5],n),h:Wt(c[6],n),m:Wt(c[7],n),s:Wt(c[8],n)}):null==f?f={}:"object"===(void 0===f?"undefined":Fl(f))&&("from"in f||"to"in f)&&(o=Bt(f.from),a=Bt(f.to),i=o.isValid()&&a.isValid()?(a=Yt(a,o),o.isBefore(a)?u=Gt(o,a):((u=Gt(a,o)).milliseconds=-u.milliseconds,u.months=-u.months),u):{milliseconds:0,months:0},(f={}).ms=i.milliseconds,f.M=i.months),r=new Ot(f),Tt(e)&&h(e,"_locale")&&(r._locale=e._locale),r}function Wt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Gt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Vt(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(k(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),zt(this,Ht(n="string"==typeof n?+n:n,r),e),this}}function zt(e,t,r,i){var o=t._milliseconds,s=Lt(t._days),a=Lt(t._months);e.isValid()&&(i=null==i||i,a&&Le(e,xe(e,"Month")+a*r),s&&Me(e,"Date",xe(e,"Date")+s*r),o&&e._d.setTime(e._d.valueOf()+o*r),i&&n.updateOffset(e,s||a))}Ht.fn=Ot.prototype,Ht.invalid=function(){return Ht(NaN)};var qt=Vt(1,"add"),Jt=Vt(-1,"subtract");function Xt(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Zt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ft(e))&&(this._locale=t),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var $t=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function en(){return this._locale}function tn(e,t){P(0,[e,e.length],0,t)}function nn(e,t,n,r,i){var o;return null==e?je(this,r,i).year:(t>(o=He(e,r,i))&&(t=o),function(e,t,n,r,i){var o=Pe(e,t,n,r,i),s=Re(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}.call(this,e,t,n,r,i))}P(0,["gg",2],0,function(){return this.weekYear()%100}),P(0,["GG",2],0,function(){return this.isoWeekYear()%100}),tn("gggg","weekYear"),tn("ggggg","weekYear"),tn("GGGG","isoWeekYear"),tn("GGGGG","isoWeekYear"),Q("weekYear","gg"),Q("isoWeekYear","GG"),U("weekYear",1),U("isoWeekYear",1),ue("G",re),ue("g",re),ue("GG",J,G),ue("gg",J,G),ue("GGGG",ee,z),ue("gggg",ee,z),ue("GGGGG",te,q),ue("ggggg",te,q),de(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=_(e)}),de(["gg","GG"],function(e,t,r,i){t[i]=n.parseTwoDigitYear(e)}),P("Q",0,"Qo","quarter"),Q("quarter","Q"),U("quarter",7),ue("Q",W),le("Q",function(e,t){t[ye]=3*(_(e)-1)}),P("D",["DD",2],"Do","date"),Q("date","D"),U("date",9),ue("D",J),ue("DD",J,G),ue("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),le(["D","DD"],Ae),le("Do",function(e,t){t[Ae]=_(e.match(J)[0])});var rn=Be("Date",!0);P("DDD",["DDDD",3],"DDDo","dayOfYear"),Q("dayOfYear","DDD"),U("dayOfYear",4),ue("DDD",$),ue("DDDD",V),le(["DDD","DDDD"],function(e,t,n){n._dayOfYear=_(e)}),P("m",["mm",2],0,"minute"),Q("minute","m"),U("minute",14),ue("m",J),ue("mm",J,G),le(["m","mm"],me);var on=Be("Minutes",!1);P("s",["ss",2],0,"second"),Q("second","s"),U("second",15),ue("s",J),ue("ss",J,G),le(["s","ss"],be);var sn,an=Be("Seconds",!1);for(P("S",0,0,function(){return~~(this.millisecond()/100)}),P(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),P(0,["SSS",3],0,"millisecond"),P(0,["SSSS",4],0,function(){return 10*this.millisecond()}),P(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),P(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),P(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),P(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),P(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),Q("millisecond","ms"),U("millisecond",16),ue("S",$,W),ue("SS",$,G),ue("SSS",$,V),sn="SSSS";sn.length<=9;sn+="S")ue(sn,ne);function un(e,t){t[_e]=_(1e3*("0."+e))}for(sn="S";sn.length<=9;sn+="S")le(sn,un);var hn=Be("Milliseconds",!1);P("z",0,0,"zoneAbbr"),P("zz",0,0,"zoneName");var fn=v.prototype;function cn(e){return e}fn.add=qt,fn.calendar=function(e,t){var r=e||Bt(),i=Yt(r,this).startOf("day"),o=n.calendarFormat(this,i)||"sameElse",s=t&&(B(t[o])?t[o].call(this,r):t[o]);return this.format(s||this.localeData().calendar(o,this,Bt(r)))},fn.clone=function(){return new v(this)},fn.diff=function(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=Yt(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=O(t)){case"year":o=Xt(this,r)/12;break;case"month":o=Xt(this,r);break;case"quarter":o=Xt(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:b(o)},fn.endOf=function(e){return void 0===(e=O(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},fn.format=function(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=j(this,e);return this.localeData().postformat(t)},fn.from=function(e,t){return this.isValid()&&(m(e)&&e.isValid()||Bt(e).isValid())?Ht({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},fn.fromNow=function(e){return this.from(Bt(),e)},fn.to=function(e,t){return this.isValid()&&(m(e)&&e.isValid()||Bt(e).isValid())?Ht({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},fn.toNow=function(e){return this.to(Bt(),e)},fn.get=function(e){return B(this[e=O(e)])?this[e]():this},fn.invalidAt=function(){return l(this).overflow},fn.isAfter=function(e,t){var n=m(e)?e:Bt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=O(o(t)?"millisecond":t))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},fn.isBefore=function(e,t){var n=m(e)?e:Bt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=O(o(t)?"millisecond":t))?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},fn.isBetween=function(e,t,n,r){return("("===(r=r||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))},fn.isSame=function(e,t){var n,r=m(e)?e:Bt(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=O(t||"millisecond"))?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},fn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},fn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},fn.isValid=function(){return d(this)},fn.lang=$t,fn.locale=Zt,fn.localeData=en,fn.max=Mt,fn.min=xt,fn.parsingFlags=function(){return f({},l(this))},fn.set=function(e,t){if("object"===(void 0===e?"undefined":Fl(e)))for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:L[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=T(e)),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit]);else if(B(this[e=O(e)]))return this[e](t);return this},fn.startOf=function(e){switch(e=O(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},fn.subtract=Jt,fn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},fn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},fn.toDate=function(){return new Date(this.valueOf())},fn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?j(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):B(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",j(n,"Z")):j(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},fn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)},fn.toJSON=function(){return this.isValid()?this.toISOString():null},fn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},fn.unix=function(){return Math.floor(this.valueOf()/1e3)},fn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},fn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},fn.year=ke,fn.isLeapYear=function(){return Ce(this.year())},fn.weekYear=function(e){return nn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},fn.isoWeekYear=function(e){return nn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},fn.quarter=fn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},fn.month=Ue,fn.daysInMonth=function(){return De(this.year(),this.month())},fn.week=fn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},fn.isoWeek=fn.isoWeeks=function(e){var t=je(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},fn.weeksInYear=function(){var e=this.localeData()._week;return He(this.year(),e.dow,e.doy)},fn.isoWeeksInYear=function(){return He(this.year(),1,4)},fn.date=rn,fn.day=fn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},fn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},fn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},fn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},fn.hour=fn.hours=nt,fn.minute=fn.minutes=on,fn.second=fn.seconds=an,fn.millisecond=fn.milliseconds=hn,fn.utcOffset=function(e,t,r){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Nt(oe,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&t&&(i=Rt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!t||this._changeInProgress?zt(this,Ht(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Rt(this)},fn.utc=function(e){return this.utcOffset(0,e)},fn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Rt(this),"m")),this},fn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Nt(ie,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},fn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Bt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},fn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},fn.isLocal=function(){return!!this.isValid()&&!this._isUTC},fn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},fn.isUtc=Kt,fn.isUTC=Kt,fn.zoneAbbr=function(){return this._isUTC?"UTC":""},fn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},fn.dates=E("dates accessor is deprecated. Use date instead.",rn),fn.months=E("months accessor is deprecated. Use month instead",Ue),fn.years=E("years accessor is deprecated. Use year instead",ke),fn.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),fn.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e={};if(y(e,this),(e=St(e))._a){var t=e._isUTC?c(e._a):Bt(e._a);this._isDSTShifted=this.isValid()&&w(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var ln=M.prototype;function dn(e,t,n,r){var i=ft(),o=c().set(r,t);return i[n](o,e)}function pn(e,t,n){if(s(e)&&(t=e,e=void 0),e=e||"",null!=t)return dn(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=dn(e,r,n,"month");return i}function gn(e,t,n,r){"boolean"==typeof e?(s(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,s(t)&&(n=t,t=void 0),t=t||"");var i,o=ft(),a=e?o._week.dow:0;if(null!=n)return dn(t,(n+a)%7,r,"day");var u=[];for(i=0;i<7;i++)u[i]=dn(t,(i+a)%7,r,"day");return u}ln.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return B(r)?r.call(t,n):r},ln.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},ln.invalidDate=function(){return this._invalidDate},ln.ordinal=function(e){return this._ordinal.replace("%d",e)},ln.preparse=cn,ln.postformat=cn,ln.relativeTime=function(e,t,n,r){var i=this._relativeTime[n];return B(i)?i(e,t,n,r):i.replace(/%d/i,e)},ln.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return B(n)?n(t):n.replace(/%s/i,t)},ln.set=function(e){var t,n;for(n in e)B(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},ln.months=function(e,t){return e?r(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Qe).test(t)?"format":"standalone"][e.month()]:r(this._months)?this._months:this._months.standalone},ln.monthsShort=function(e,t){return e?r(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Qe.test(t)?"format":"standalone"][e.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},ln.monthsParse=function(e,t,n){var r,i,o;if(this._monthsParseExact)return function(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=c([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Se.call(this._shortMonthsParse,s))?i:null:-1!==(i=Se.call(this._longMonthsParse,s))?i:null:"MMM"===t?-1!==(i=Se.call(this._shortMonthsParse,s))?i:-1!==(i=Se.call(this._longMonthsParse,s))?i:null:-1!==(i=Se.call(this._longMonthsParse,s))?i:-1!==(i=Se.call(this._shortMonthsParse,s))?i:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=c([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},ln.monthsRegex=function(e){return this._monthsParseExact?(h(this,"_monthsRegex")||Ye.call(this),e?this._monthsStrictRegex:this._monthsRegex):(h(this,"_monthsRegex")||(this._monthsRegex=Ne),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},ln.monthsShortRegex=function(e){return this._monthsParseExact?(h(this,"_monthsRegex")||Ye.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(h(this,"_monthsShortRegex")||(this._monthsShortRegex=Fe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},ln.week=function(e){return je(e,this._week.dow,this._week.doy).week},ln.firstDayOfYear=function(){return this._week.doy},ln.firstDayOfWeek=function(){return this._week.dow},ln.weekdays=function(e,t){return e?r(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:r(this._weekdays)?this._weekdays:this._weekdays.standalone},ln.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},ln.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},ln.weekdaysParse=function(e,t,n){var r,i,o;if(this._weekdaysParseExact)return function(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=c([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Se.call(this._weekdaysParse,s))?i:null:"ddd"===t?-1!==(i=Se.call(this._shortWeekdaysParse,s))?i:null:-1!==(i=Se.call(this._minWeekdaysParse,s))?i:null:"dddd"===t?-1!==(i=Se.call(this._weekdaysParse,s))?i:-1!==(i=Se.call(this._shortWeekdaysParse,s))?i:-1!==(i=Se.call(this._minWeekdaysParse,s))?i:null:"ddd"===t?-1!==(i=Se.call(this._shortWeekdaysParse,s))?i:-1!==(i=Se.call(this._weekdaysParse,s))?i:-1!==(i=Se.call(this._minWeekdaysParse,s))?i:null:-1!==(i=Se.call(this._minWeekdaysParse,s))?i:-1!==(i=Se.call(this._weekdaysParse,s))?i:-1!==(i=Se.call(this._shortWeekdaysParse,s))?i:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=c([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},ln.weekdaysRegex=function(e){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Xe.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(h(this,"_weekdaysRegex")||(this._weekdaysRegex=ze),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},ln.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Xe.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(h(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=qe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},ln.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Xe.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(h(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Je),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},ln.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},ln.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},ut("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===_(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),n.lang=E("moment.lang is deprecated. Use moment.locale instead.",ut),n.langData=E("moment.langData is deprecated. Use moment.localeData instead.",ft);var yn=Math.abs;function An(e,t,n,r){var i=Ht(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function vn(e){return e<0?Math.floor(e):Math.ceil(e)}function mn(e){return 4800*e/146097}function bn(e){return 146097*e/4800}function _n(e){return function(){return this.as(e)}}var wn=_n("ms"),In=_n("s"),En=_n("m"),Cn=_n("h"),Sn=_n("d"),kn=_n("w"),Bn=_n("M"),xn=_n("y");function Mn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Dn=Mn("milliseconds"),Qn=Mn("seconds"),On=Mn("minutes"),Tn=Mn("hours"),Ln=Mn("days"),Un=Mn("months"),Fn=Mn("years"),Nn=Math.round,Yn={ss:44,s:45,m:45,h:22,d:26,M:11},Rn=Math.abs;function Kn(e){return(e>0)-(e<0)||+e}function Pn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Rn(this._milliseconds)/1e3,r=Rn(this._days),i=Rn(this._months);e=b(n/60),t=b(e/60),n%=60,e%=60;var o=b(i/12),s=i%=12,a=r,u=t,h=e,f=n?n.toFixed(3).replace(/\.?0+$/,""):"",c=this.asSeconds();if(!c)return"P0D";var l=c<0?"-":"",d=Kn(this._months)!==Kn(c)?"-":"",p=Kn(this._days)!==Kn(c)?"-":"",g=Kn(this._milliseconds)!==Kn(c)?"-":"";return l+"P"+(o?d+o+"Y":"")+(s?d+s+"M":"")+(a?p+a+"D":"")+(u||h||f?"T":"")+(u?g+u+"H":"")+(h?g+h+"M":"")+(f?g+f+"S":"")}var jn=Ot.prototype;return jn.isValid=function(){return this._isValid},jn.abs=function(){var e=this._data;return this._milliseconds=yn(this._milliseconds),this._days=yn(this._days),this._months=yn(this._months),e.milliseconds=yn(e.milliseconds),e.seconds=yn(e.seconds),e.minutes=yn(e.minutes),e.hours=yn(e.hours),e.months=yn(e.months),e.years=yn(e.years),this},jn.add=function(e,t){return An(this,e,t,1)},jn.subtract=function(e,t){return An(this,e,t,-1)},jn.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=O(e))||"year"===e)return t=this._days+r/864e5,n=this._months+mn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(bn(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},jn.asMilliseconds=wn,jn.asSeconds=In,jn.asMinutes=En,jn.asHours=Cn,jn.asDays=Sn,jn.asWeeks=kn,jn.asMonths=Bn,jn.asYears=xn,jn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12):NaN},jn._bubble=function(){var e,t,n,r,i,o=this._milliseconds,s=this._days,a=this._months,u=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*vn(bn(a)+s),s=0,a=0),u.milliseconds=o%1e3,e=b(o/1e3),u.seconds=e%60,t=b(e/60),u.minutes=t%60,n=b(t/60),u.hours=n%24,s+=b(n/24),a+=i=b(mn(s)),s-=vn(bn(i)),r=b(a/12),a%=12,u.days=s,u.months=a,u.years=r,this},jn.clone=function(){return Ht(this)},jn.get=function(e){return e=O(e),this.isValid()?this[e+"s"]():NaN},jn.milliseconds=Dn,jn.seconds=Qn,jn.minutes=On,jn.hours=Tn,jn.days=Ln,jn.weeks=function(){return b(this.days()/7)},jn.months=Un,jn.years=Fn,jn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var r=Ht(e).abs(),i=Nn(r.as("s")),o=Nn(r.as("m")),s=Nn(r.as("h")),a=Nn(r.as("d")),u=Nn(r.as("M")),h=Nn(r.as("y")),f=i<=Yn.ss&&["s",i]||i<Yn.s&&["ss",i]||o<=1&&["m"]||o<Yn.m&&["mm",o]||s<=1&&["h"]||s<Yn.h&&["hh",s]||a<=1&&["d"]||a<Yn.d&&["dd",a]||u<=1&&["M"]||u<Yn.M&&["MM",u]||h<=1&&["y"]||["yy",h];return f[2]=t,f[3]=+e>0,f[4]=n,function(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}.apply(null,f)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},jn.toISOString=Pn,jn.toString=Pn,jn.toJSON=Pn,jn.locale=Zt,jn.localeData=en,jn.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Pn),jn.lang=$t,P("X",0,0,"unix"),P("x",0,0,"valueOf"),ue("x",re),ue("X",/[+-]?\d+(\.\d{1,3})?/),le("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),le("x",function(e,t,n){n._d=new Date(_(e))}),n.version="2.22.2",e=Bt,n.fn=fn,n.min=function(){return Dt("isBefore",[].slice.call(arguments,0))},n.max=function(){return Dt("isAfter",[].slice.call(arguments,0))},n.now=function(){return Date.now?Date.now():+new Date},n.utc=c,n.unix=function(e){return Bt(1e3*e)},n.months=function(e,t){return pn(e,t,"months")},n.isDate=a,n.locale=ut,n.invalid=p,n.duration=Ht,n.isMoment=m,n.weekdays=function(e,t,n){return gn(e,t,n,"weekdays")},n.parseZone=function(){return Bt.apply(null,arguments).parseZone()},n.localeData=ft,n.isDuration=Tt,n.monthsShort=function(e,t){return pn(e,t,"monthsShort")},n.weekdaysMin=function(e,t,n){return gn(e,t,n,"weekdaysMin")},n.defineLocale=ht,n.updateLocale=function(e,t){if(null!=t){var n,r,i=rt;null!=(r=at(e))&&(i=r._config),(n=new M(t=x(i,t))).parentLocale=it[e],it[e]=n,ut(e)}else null!=it[e]&&(null!=it[e].parentLocale?it[e]=it[e].parentLocale:null!=it[e]&&delete it[e]);return it[e]},n.locales=function(){return C(it)},n.weekdaysShort=function(e,t,n){return gn(e,t,n,"weekdaysShort")},n.normalizeUnits=O,n.relativeTimeRounding=function(e){return void 0===e?Nn:"function"==typeof e&&(Nn=e,!0)},n.relativeTimeThreshold=function(e,t){return void 0!==Yn[e]&&(void 0===t?Yn[e]:(Yn[e]=t,"s"===e&&(Yn.ss=t-1),!0))},n.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},n.prototype=fn,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},n},"object"===(void 0===Ul.exports?"undefined":Fl(Ul.exports))?Ul.exports=cl():"function"==typeof define&&define.amd?define(cl):this.moment=cl(),Ul=Ul.exports;var Nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl=function e(t,n,r){if("object"!==(void 0===n?"undefined":Nl(n)))n&&("className"===n&&(n="class"),"htmlFor"===n&&(n="for"),"on"===n.slice(0,2)?t[n]=r:(!0===r&&(r=n),t.setAttribute(n,r)));else for(var i in n)n.hasOwnProperty(i)&&e(t,i,n[i])},Rl=ol();function Kl(e,t){var n,r,i,o=Ll(function(n){window.innerHeight+window.scrollY+250>=document.body.offsetHeight?t("scroll:bottom"):e.stickBottom=!1,window.scrollY-window.innerHeight+250<0&&t("scroll:top")},50),s=function(){var e=document.createElement("footer");e.setAttribute("class","fixed w-100 bottom-0 ph3 pv2 ph4-m ph5-l bg-black");var t=document.createElement("nav");t.setAttribute("class","flex code f5 ttl light-pink");var n=document.createElement("span");return n.setAttribute("class","center"),kc(n,["cabal://",arguments[0]]),kc(t,["\n        ",n,"\n      "]),kc(e,["\n      ",t,"\n    "]),e}(e.key);return function(){var e=document.createElement("body");return e.onscroll=arguments[0],e.setAttribute("class","courier"),kc(e,["\n      ",arguments[1],"\n      ",arguments[2],"\n    "]),e}(o,e.key&&e.channel?function(){var e=document.createElement("div");e.setAttribute("class","mw-100 center");var t=document.createElement("div");t.setAttribute("class","");var n=document.createElement("div");n.setAttribute("class","fixed w-100 top-0 flex justify-between pa1 ph5-ns bb b--gold gold bg-navy");var r=document.createElement("div");r.setAttribute("class","flex items-center f3");var i=document.createElement("span");i.setAttribute("class","mr3"),kc(i,[arguments[0]]);var o=document.createElement("span");o.setAttribute("class","gray f4"),kc(o,[arguments[1]]),kc(r,["\n              ",i,"\n              ",o,"\n            "]);var s=document.createElement("p");s.setAttribute("class","flex-grow flex items-center f4 gold ma0 lh-copy measure-wide"),kc(s,["\n              ",arguments[2],"\n            "]),kc(n,["\n            ",r,"\n            ",s,"\n          "]);var a=document.createElement("div");a.setAttribute("class","pv6 bodoni dark-gray bg-near-white"),kc(a,["\n            ",arguments[3],"\n          "]),kc(t,["\n          ",n,"\n          ",a,"\n        "]);var u=document.createElement("div");return u.setAttribute("class",""),kc(u,["\n          ",arguments[4],"\n        "]),kc(e,["\n        ",t,"\n        ",u,"\n      "]),e}(e.channel,e.topic,e.connected?(n=kc,r=document.createElement("span"),(i=document.createElement("span")).setAttribute("class","v-mid mr2 bg-light-blue dib pulse-circle"),n(r,[i,"connected"]),r):"Connecting...",e.messages.length||e.connected?e.messages.map(function(e){var t,n=e.value,r=((t=document.createElement("p")).setAttribute("class","f5 mt2 lh-copy"),t);return r.innerHTML=n.content.text,function(){var e=document.createElement("div");e.setAttribute("class","pa2 ph5-ns bb b--black-10");var t=document.createElement("div");t.setAttribute("class","f6 mt3");var n=document.createElement("b");n.setAttribute("class","mr2"),kc(n,[arguments[0]]);var r=document.createElement("span");r.setAttribute("class",""),kc(r,[arguments[1]]);var i=document.createElement("br"),o=document.createElement("span");return o.setAttribute("class","f7 mid-gray"),kc(o,[arguments[2]]),kc(t,["\n            ",n,r,"\n            ",i,o,"\n          "]),kc(e,["\n          ",t,"\n          ",arguments[3],"\n        "]),e}(e.key.slice(0,8),Ul(n.timestamp).fromNow(),e.gitter?"via gitter  ":"",r)}):function(){var e=document.createElement("div");e.setAttribute("class","pa2 ph5-ns bb b--black-10");var t=document.createElement("div");t.setAttribute("class","f6 mt3 ttu tracked"),kc(t,["\n        "]);var n=document.createElement("p");n.setAttribute("class","f5 mt2 lh-copy code"),kc(n,["loading..."]);var r=document.createElement("p");return r.setAttribute("class","f5 i lh-copy red"),kc(r,["Chat with lots of history may be slow to load!"]),kc(e,["\n        ",t,"\n        ",n,"\n        ",r,"\n      "]),e}(),function(){return function(){var e=document.createElement("div");e.setAttribute("class","w-100 bg-white fixed bottom-0 bt b--black  mb4 ph2 ph5-l");var t=document.createElement("input");t.setAttribute("placeholder","Set nickname"),Yl(t,arguments[1],arguments[0]),t.setAttribute("value",arguments[2]),t.onkeydown=arguments[3],t.setAttribute("class",arguments[4]+" w-100 f4 pa2 ph5-ns pv4-ns input-reset bn b0");var n=document.createElement("input");return n.setAttribute("placeholder","Send a message..."),Yl(n,arguments[6],arguments[5]),n.setAttribute("value",arguments[7]),n.onkeydown=arguments[8],n.setAttribute("class","w-100 f4 pa2 ph5-ns pv4-ns input-reset bn b0"),kc(e,["\n        ",arguments[9],"\n        ",t,"\n        ",n,"\n      "]),e}(e.setnick?"autofocus":"",e.setNick?"autofocus":"",e.nickInput?e.nickInput:"",function(n){var r=n.target.value;e.nickInput=r,13===n.keyCode&&(e.nickInput=n.target.value="",e.setNick=!1,t("cabal:publishNick",r))},e.setNick?"absolute":"dn",e.setnick?"":"autofocus",e.setNick?"":"autofocus",e.messageInput?e.messageInput:"",function(n){var r=n.target.value;e.messageInput=r,13===n.keyCode&&(e.messageInput=n.target.value="",t("cabal:publishMsg",r))},e.setNick?"":e.nickname?function(){var e=document.createElement("div");return e.onclick=arguments[0],e.setAttribute("class","absolute pv4-ns left-1 mw4 pr1 f4 dark-gray"),kc(e,[arguments[1]]),e}(n,e.nickname):function(){var e=document.createElement("a");return e.onclick=arguments[0],e.setAttribute("class","absolute f6 link dim br2 ph2 mv4-ns dib white bg-navy pv1 left-0 top-0 ml1"),kc(e,["Set Name"]),e}(n));function n(){e.setNick=!0,t("render")}}()):function(){var e=document.createElement("div");e.setAttribute("class","");var t=document.createElement("div");t.setAttribute("class","absolute w-100");var n=document.createElement("h1");n.setAttribute("class","f3");var r=document.createElement("span");r.setAttribute("class","tr black w-50 fl"),kc(r,["message   \xb7"]);var i=document.createElement("span");i.setAttribute("class","light-purple w-50 pl3"),kc(i,["land"]),kc(n,[r,i]),kc(t,["\n          ",n,"\n        "]);var o=document.createElement("div");o.setAttribute("class","vh-100 dt w-50 fl bg-light-purple black");var s=document.createElement("div");s.setAttribute("class","dtc v-mid tc ph3 ph4-l"),kc(s,["\n              ",arguments[0],"\n          "]),kc(o,["\n          ",s,"\n        "]);var a=document.createElement("div");a.setAttribute("class","vh-100 dt w-50 bg-black light-green");var u=document.createElement("div");u.setAttribute("class","dtc v-mid tc ph3 ph4-l"),kc(u,["\n              ",arguments[1],"\n          "]),kc(a,["\n          ",u,"\n        "]);var h=document.createElement("footer");return h.setAttribute("class","absolute bottom-0"),kc(h,["\n          ",arguments[2],"\n        "]),kc(e,["\n        ",t,"\n        ",o,"\n        ",a,"\n        ",h,"\n      "]),e}(function(){var e=document.createElement("div");e.setAttribute("class","measure center");var t=document.createElement("button");t.onclick=arguments[0],t.setAttribute("class","b f4 ttl center mb3 input-reset grow pointer bg-black light-green br4 ba b--light-green pv3 ph2 mb2 db w-75"),kc(t,["\n            Create a Cabal!\n          "]);var n=document.createElement("small");return n.setAttribute("id","key-desc"),n.setAttribute("class","f2 b small-caps db near-black"),kc(n,["Start a New Chat."]),kc(e,["\n          ",t,"\n          ",n,"\n        "]),e}(function(e){t("cabal:create")}),function(){var e=document.createElement("div");e.setAttribute("class","measure center");var t=document.createElement("input");t.setAttribute("id","key"),t.setAttribute("type","text"),t.setAttribute("aria-describedby","key-desc"),t.setAttribute("autofocus","autofocus"),t.setAttribute("placeholder","cabal://..."),t.onkeydown=arguments[0],t.setAttribute("class","f4 ttl bg-light-purple white center mb3 input-reset br4 ba b--light-green pv3 ph2 mb2 db w-75");var n=document.createElement("small");return n.setAttribute("id","key-desc"),n.setAttribute("class","f2 b small-caps db"),kc(n,["Join a Cabal!"]),kc(e,["\n          ",t,"\n          ",n,"\n        "]),e}(function(e){var n=e.target.value;13===e.keyCode&&(e.target.value="",t("cabal:load",n))}),Mc(e)),e.key?s:"")}Rl.use(function(e,t){t.emit(e.events.DOMTITLECHANGE,"Welcome to message.land!")}),Rl.use(function(e){e.glitchAppName="message-land",e.gitHubRepoName="joehand/message-land"}),Rl.use(function(e,t){t.once(e.events.DOMCONTENTLOADED,function(){e.params&&e.params.key&&t.emit("cabal:load",e.params.key)}),t.on("cabal:load",function(n){n.indexOf("cabal:")>-1&&(n=n.split("//")[1]),t.emit("log:info","loading new cabal "+n);var r=document.location.host,i=("https:"===document.location.protocol?"wss":"ws")+"://"+r+"/cabal/"+n;(e=Object.assign(e,{channel:e.channel||"default",key:n,cabal:null,messages:[],connected:!1,wsUrl:i,forceScroll:!0})).cabal||function(){var n=Ff("doc-"+e.key),r=Yh(n,e.key),i=void 0,o=0;function s(){o++,t.emit("log:info","starting websocket - "+e.wsUrl);var n=Rf(e.wsUrl);i=r.replicate({live:!0,encrypt:!1}),n.once("connect",function(){t.emit("connected"),t.emit("render"),t.emit("log:info","websockets connected"),function(){console.log("start getting cabal msgs yay"),e.messages||(e.messages=[]);var n=0;function r(){if(n>0)n++;else{n=1;var i=e.cabal.messages.read(e.channel,{limit:25,lt:"~"});Sf(i,function(i,o){i||(e.messages=[],o.reverse(),o.forEach(function(t){e.messages.push(t)}),t.emit("message"),e.cabal.topics.get(e.channel,function(n,r){n||r&&(e.topic=r,t.emit("render"))}),n>1?(n=0,r()):n=0)})}}e.cabal.messages.events.on(e.channel,r),r()}()}),Mf(n,i,n,function(n){e.connected=!1,n?(console.log("Pipe finished",n.message),n.stack&&console.log(n.stack)):console.log("Pipe finished, no errors"),o>1?(t.emit("log:warn","Waiting 3 seconds to reconnect"),setTimeout(s,3e3)):s()})}r.db.ready(function(){e.cabal=r,t.emit("log:info","cabal ready"),t.emit("log:info",r.key.toString("hex")),e.newCabal?r.publish({type:"chat/text",content:{channel:"default",text:"Welcome to your new Cabal on message.land! Share the url or cabal:// link on the bottom to start chatting."}},s):s(),e.params.key||t.emit(e.events.PUSHSTATE,"cabal/"+e.key),t.emit("render")})}(),t.emit("render")}),t.on("cabal:create",function(){e.newCabal=!0,t.emit("cabal:load",Qi.keyPair().publicKey.toString("hex"))}),t.on("cabal:publishMsg",function(n){t.emit("log:info","publishing new message to "+e.channel),e.cabal.publish({type:"chat/text",content:{channel:e.channel,text:n}})}),t.on("cabal:publishNick",function(n){t.emit("log:info","publishing new name: "+n),e.nickname=n,e.cabal.publishNick(n),t.emit("render")}),t.once("cabal:backlog",function(){})}),Rl.use(function(e,t){t.on("scroll:top",function(){t.emit("cabal:backlog")}),t.on("scroll:bottom",function(){e.stickBottom=!0}),t.on("message",function(){t.emit("render"),(e.stickBottom||e.forceScroll)&&setTimeout(function(){window.scrollTo(0,document.body.scrollHeight)},100)})}),Rl.use(function(e,t){var n=setTimeout(r,5e4);function r(){t.emit("render")}t.on("render",function(){clearTimeout(n),n=setTimeout(r,5e4)}),t.on("connected",function(){t.emit(e.events.DOMTITLECHANGE,"Cabal ~~ ON-!"),e.connected=!0,t.emit("render")})}),Rl.route("/",Kl),Rl.route("/cabal/:key",Kl),Rl.mount("body")}();
//# sourceMappingURL=bundle.js.map